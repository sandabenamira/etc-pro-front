{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Learning/routes/VirtualClasses/VitualClassListItems.js\";\nimport React, { Component } from 'react';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport axios from 'axios';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport Chip from '@material-ui/core/Chip';\nimport ShowVirtualClass from './ShowVirtualClass';\nimport baseUrl from '../../../../../config/config';\nimport _ from 'lodash';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { connect } from 'react-redux';\nimport DeleteVirtualClass from './DeleteVirtualClass';\nimport moment from 'moment';\nimport { deleteClassVirtual } from '../../../../../actions/VirtualClassAction';\nimport Button from '@material-ui/core/Button';\n\nclass VitualClassListItems extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleShowDeleteModal = () => {\n      this.setState({\n        menuState: false,\n        deleteIsopen: true\n      });\n    };\n\n    this.handleDeleteClassVirtual = () => {\n      this.props.deleteClassVirtual(this.state.ClassVirtualObject.id);\n      this.setState({\n        deleteIsopen: false\n      });\n    };\n\n    this.onOptionMenuSelect = event => {\n      this.setState({\n        menuState: true,\n        anchorEl: event.currentTarget,\n        itemId: event.currentTarget.value\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        menuState: false\n      });\n    };\n\n    this.state = {\n      menuState: false,\n      itemId: 0,\n      modifModal: false,\n      deleteIsopen: false,\n      anchorEl: undefined,\n      ClassVirtualObject: {}\n    };\n    this.handleShow = this.handleShow.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteClassVirtual = this.handleDeleteClassVirtual.bind(this);\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n  }\n\n  cancelModal() {\n    this.setState({\n      modifModal: false,\n      deleteIsopen: false\n    });\n  }\n\n  handleShow() {\n    this.setState({\n      modifModal: true\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.classVirtualElement !== this.props.classVirtualElement) {\n      var ClassObject = {};\n      ClassObject.id = this.props.classVirtualElement.id;\n      ClassObject.class_url = this.props.classVirtualElement.class_url;\n      ClassObject.password = this.props.classVirtualElement.password;\n      ClassObject.date_virtual_class = this.props.classVirtualElement.date_virtual_class;\n      ClassObject.start_time_class = this.props.classVirtualElement.start_time_class;\n      ClassObject.end_time_class = this.props.classVirtualElement.end_time_class;\n      ClassObject.status = this.props.classVirtualElement.status;\n      ClassObject.object = this.props.classVirtualElement.object;\n      ClassObject.establishment_id = this.props.classVirtualElement.establishment_id;\n      ClassObject.virtual_class_status = this.props.classVirtualElement.virtual_class_status;\n      ClassObject.subject_id = this.props.classVirtualElement.subject_id;\n      ClassObject.class_id = this.props.classVirtualElement.class_id;\n      ClassObject.professor_id = this.props.classVirtualElement.professor_id;\n      axios.get(`${baseUrl.baseUrl}/classes_professors?access_token=${localStorage.token}&filter[where][subject_id]=` + this.props.classVirtualElement.subject_id + `&filter[include][professor][profile][user]`).then(res => {\n        ClassObject.ProfessorName = res.data[0].professor.profile.user.name + ' ' + res.data[0].professor.profile.user.surname;\n        axios.get(`${baseUrl.baseUrl}/classes/` + this.props.classVirtualElement.class_id + `?access_token=${localStorage.token}`).then(res => {\n          ClassObject.level_id = res.data.level_id;\n          ClassObject.section_id = res.data.section_id;\n          ClassObject.ClassName = res.data.name;\n          axios.get(`${baseUrl.baseUrl}/subjects/` + this.props.classVirtualElement.subject_id + `?access_token=${localStorage.token}`).then(res => {\n            ClassObject.SubjectName = res.data.name_FR;\n            ClassObject.SubjectName = res.data.name_FR;\n            ClassObject.subject_id = res.data.id;\n            this.setState({\n              ClassVirtualObject: ClassObject\n            });\n          });\n        });\n      });\n    }\n  }\n\n  componentWillMount() {\n    var ClassObject = {};\n    ClassObject.id = this.props.classVirtualElement.id;\n    ClassObject.class_url = this.props.classVirtualElement.class_url;\n    ClassObject.password = this.props.classVirtualElement.password;\n    ClassObject.date_virtual_class = this.props.classVirtualElement.date_virtual_class;\n    ClassObject.start_time_class = this.props.classVirtualElement.start_time_class;\n    ClassObject.end_time_class = this.props.classVirtualElement.end_time_class;\n    ClassObject.status = this.props.classVirtualElement.status;\n    ClassObject.object = this.props.classVirtualElement.object;\n    ClassObject.establishment_id = this.props.classVirtualElement.establishment_id;\n    ClassObject.virtual_class_status = this.props.classVirtualElement.virtual_class_status;\n    ClassObject.subject_id = this.props.classVirtualElement.subject_id;\n    ClassObject.class_id = this.props.classVirtualElement.class_id;\n    ClassObject.professor_id = this.props.classVirtualElement.professor_id;\n    axios.get(`${baseUrl.baseUrl}/classes_professors?access_token=${localStorage.token}&filter[where][subject_id]=` + this.props.classVirtualElement.subject_id + `&filter[include][professor][profile][user]`).then(res => {\n      ClassObject.ProfessorName = res.data[0].professor.profile.user.name + ' ' + res.data[0].professor.profile.user.surname;\n      axios.get(`${baseUrl.baseUrl}/classes/` + this.props.classVirtualElement.class_id + `?access_token=${localStorage.token}`).then(res => {\n        ClassObject.level_id = res.data.level_id;\n        ClassObject.section_id = res.data.section_id;\n        ClassObject.ClassName = res.data.name;\n        axios.get(`${baseUrl.baseUrl}/subjects/` + this.props.classVirtualElement.subject_id + `?access_token=${localStorage.token}`).then(res => {\n          ClassObject.SubjectName = res.data.name_FR;\n          ClassObject.subject_id = res.data.id;\n          this.setState({\n            ClassVirtualObject: ClassObject\n          });\n        });\n      });\n    });\n  }\n\n  render() {\n    if (!_.isEmpty(this.state.ClassVirtualObject)) {\n      const sys = Date.parse(new Date()) / 60000;\n      const start = Date.parse(this.state.ClassVirtualObject.date_virtual_class.slice(0, 10) + ' ' + this.state.ClassVirtualObject.start_time_class) / 60000;\n      const end = Date.parse(this.state.ClassVirtualObject.date_virtual_class.slice(0, 10) + ' ' + this.state.ClassVirtualObject.end_time_class) / 60000;\n      const statusClass = start > sys ? 'programmée' : end > sys ? 'en progré' : 'terminée';\n      const statusStyle = statusClass.includes('terminée') ? 'text-white bg-danger' : statusClass.includes('en progré') ? 'bg-amber' : 'text-white bg-success';\n      return (\n        /*#__PURE__*/\n        // <TableRow key={this.state.ClassVirtualObject.id}>\n        //   <TableCell align=\"left\">{\"\"}{this.state.ClassVirtualObject.SubjectName}</TableCell>\n        //   <TableCell align=\"left\">{this.state.ClassVirtualObject.object}</TableCell>\n        //   <TableCell align=\"left\">{this.state.ClassVirtualObject.ProfessorName}</TableCell>\n        //   <TableCell align=\"left\">{this.state.ClassVirtualObject.ClassName}</TableCell>\n        //   <TableCell align=\"center\">{moment(this.state.ClassVirtualObject.date_virtual_class).format(\"DD/MM/YY\")}</TableCell>\n        //   <TableCell align=\"center\">\n        //     <a href={this.state.ClassVirtualObject.class_url} target=\"_blank\"><IntlMessages id=\"clic.here\" /></a>\n        //   </TableCell>\n        //   <TableCell align=\"left\">\n        //     <Chip\n        //       variant=\"outlined\"\n        //       size=\"small\"\n        //       label={statusClass}\n        //       className={` badge text-uppercase ${statusStyle}`}\n        //     />\n        //   </TableCell>\n        //   {\n        //     (this.props.userProfile.role_id === 1 || this.props.userProfile.role_id === 2 || this.props.userProfile.role_id === 7) ?\n        //       <TableCell align=\"right\">\n        //         <IconButton onClick={this.onOptionMenuSelect.bind(this)}>\n        //           <i className=\"zmdi zmdi-more-vert\" />\n        //         </IconButton>\n        //         <Menu\n        //           id=\"long-menu\"\n        //           anchorEl={this.state.anchorEl}\n        //           open={this.state.menuState}\n        //           onClose={this.handleRequestClose.bind(this)}\n        //           MenuListProps={{\n        //             style: {\n        //               width: 230,\n        //               paddingTop: 0,\n        //               paddingBottom: 0,\n        //             },\n        //           }}\n        //         >\n        //           <MenuItem\n        //             onClick={(e) => {\n        //               this.setState({ menuState: false });\n        //               this.props.editClassShowModal(this.state.ClassVirtualObject)\n        //             }}>\n        //             {<IntlMessages id=\"button.modify\" />}\n        //           </MenuItem>\n        //           <MenuItem\n        //             onClick={() => {\n        //               this.handleShow();\n        //               this.setState({ menuState: false });\n        //             }}\n        //           >\n        //             {<IntlMessages id=\"Reclam.Afficher\" />}\n        //           </MenuItem>\n        //           <MenuItem\n        //             onClick={this.handleShowDeleteModal}\n        //           >{<IntlMessages id=\"button.delete\" />}</MenuItem>\n        //         </Menu>\n        //       </TableCell> :\n        //       <TableCell align=\"center\">\n        //         <IconButton className=\"icon-btn\"\n        //           onClick={(e) => {\n        //             this.handleShow();\n        //             this.setState({ menuState: false });\n        //           }}\n        //         >\n        //           <i\n        //             className=\"zmdi zmdi-eye\"\n        //             style={{ color: '#3F51B5' }}\n        //           />\n        //         </IconButton>{' '}\n        //       </TableCell>\n        //   }\n        //   {this.state.modifModal ? (\n        //     <ShowVirtualClass\n        //       cancelModal={this.cancelModal}\n        //       virtualClassItem={this.state.virtualClassItem}\n        //       ClassVirtualObject={this.state.ClassVirtualObject}\n        //     />\n        //   ) : (\n        //       ''\n        //     )}\n        //   {this.state.deleteIsopen ? (\n        //     <DeleteVirtualClass\n        //       cancelModal={this.cancelModal}\n        //       deleteIsopen={this.state.deleteIsopen}\n        //       ClassVirtualObject={this.state.ClassVirtualObject}\n        //       handleDeleteClassVirtual={this.handleDeleteClassVirtual}\n        //     />\n        //   ) : (\n        //       ''\n        //     )}\n        // </TableRow>\n        React.createElement(\"div\", {\n          className: \"col-xl-4 col-md-4 col-lg-4 col-sm-6 col-12\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card product-item \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-header border-0 p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-image\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"grid-thumb-equal\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"grid-thumb-cover jr-link\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"Remy Sharp\",\n          src: \"https://www.nelbusiness.com/wp-content/uploads/e-learning-600x400.x72741.jpg\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 21\n          }\n        }))))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \" d-flex flex-column bd-highlight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \"bd-highlight  d-flex justify-content-center  align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Chip, {\n          variant: \"outlined\",\n          size: \"small\",\n          label: statusClass,\n          className: ` badge text-uppercase ${statusStyle}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"bd-highlight  flex-column bd-highlight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          class: \" bd-highlight  d-flex flex-row  justify-content-between align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 105\n          }\n        }, this.state.ClassVirtualObject.SubjectName), /*#__PURE__*/React.createElement(\"h5\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 188\n          }\n        }, this.state.ClassVirtualObject.ProfessorName)), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"bd-highlight  d-flex flex-row  justify-content-between align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 104\n          }\n        }, this.state.ClassVirtualObject.ClassName), /*#__PURE__*/React.createElement(\"h5\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 185\n          }\n        }, moment(this.state.ClassVirtualObject.date_virtual_class).format(\"DD/MM/YY\"))), /*#__PURE__*/React.createElement(\"div\", {\n          class: \"bd-highlight  d-flex flex-row  justify-content-between align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"contained\",\n          className: \"jr-btn jr-btn-sm \",\n          href: this.state.ClassVirtualObject.class_url,\n          target: \"_blank\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"zmdi zmdi-accounts-alt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"join.class\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 21\n          }\n        }))), /*#__PURE__*/React.createElement(\"h5\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 19\n          }\n        }, this.state.ClassVirtualObject.password))), this.props.userProfile.role_id == 1 || this.props.userProfile.role_id == 2 || this.props.userProfile.role_id == 7 ? /*#__PURE__*/React.createElement(\"div\", {\n          class: \"bd-highlight  d-flex flex-row  justify-content-around\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(IconButton, {\n          className: \"icon-btn\",\n          onClick: e => {\n            this.handleShow();\n            this.setState({\n              menuState: false\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"zmdi zmdi-eye\",\n          style: {\n            color: '#3F51B5'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 23\n          }\n        })), ' ', /*#__PURE__*/React.createElement(IconButton, {\n          className: \"icon-btn\",\n          onClick: e => {\n            this.setState({\n              menuState: false\n            });\n            this.props.editClassShowModal(this.state.ClassVirtualObject);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"zmdi zmdi-edit\",\n          style: {\n            color: '#3F51B5'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 23\n          }\n        })), ' ', /*#__PURE__*/React.createElement(IconButton, {\n          className: \"icon-btn\",\n          onClick: this.handleShowDeleteModal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"zmdi zmdi-delete\",\n          style: {\n            color: '#3F51B5'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 23\n          }\n        })), ' ') : /*#__PURE__*/React.createElement(\"div\", {\n          class: \"bd-highlight  d-flex flex-row  justify-content-around\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(IconButton, {\n          className: \"icon-btn\",\n          onClick: e => {\n            this.handleShow();\n            this.setState({\n              menuState: false\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"zmdi zmdi-eye\",\n          style: {\n            color: '#3F51B5'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 23\n          }\n        })), ' ', \" \"), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }\n        }))), this.state.modifModal ? /*#__PURE__*/React.createElement(ShowVirtualClass, {\n          cancelModal: this.cancelModal,\n          virtualClassItem: this.state.virtualClassItem,\n          ClassVirtualObject: this.state.ClassVirtualObject,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }\n        }) : '', this.state.deleteIsopen ? /*#__PURE__*/React.createElement(DeleteVirtualClass, {\n          cancelModal: this.cancelModal,\n          deleteIsopen: this.state.deleteIsopen,\n          ClassVirtualObject: this.state.ClassVirtualObject,\n          handleDeleteClassVirtual: this.handleDeleteClassVirtual,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }\n        }) : '')\n      );\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 14\n        }\n      });\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    classLevels: state.ClassLevels.remoteLevels,\n    classSections: state.classSections.remoteSections,\n    classes: state.classes,\n    classVirtual: state.classVirtualReducer.remoteClassVirtual\n  };\n}\n\nexport default connect(mapStateToProps, {\n  deleteClassVirtual\n})(VitualClassListItems);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Learning/routes/VirtualClasses/VitualClassListItems.js"],"names":["React","Component","TableCell","TableRow","IconButton","axios","IntlMessages","Chip","ShowVirtualClass","baseUrl","_","Menu","MenuItem","connect","DeleteVirtualClass","moment","deleteClassVirtual","Button","VitualClassListItems","constructor","props","handleShowDeleteModal","setState","menuState","deleteIsopen","handleDeleteClassVirtual","state","ClassVirtualObject","id","onOptionMenuSelect","event","anchorEl","currentTarget","itemId","value","handleRequestClose","modifModal","undefined","handleShow","bind","cancelModal","componentDidUpdate","prevProps","prevState","classVirtualElement","ClassObject","class_url","password","date_virtual_class","start_time_class","end_time_class","status","object","establishment_id","virtual_class_status","subject_id","class_id","professor_id","get","localStorage","token","then","res","ProfessorName","data","professor","profile","user","name","surname","level_id","section_id","ClassName","SubjectName","name_FR","componentWillMount","render","isEmpty","sys","Date","parse","start","slice","end","statusClass","statusStyle","includes","fontWeight","format","userProfile","role_id","e","color","editClassShowModal","virtualClassItem","mapStateToProps","auth","classLevels","ClassLevels","remoteLevels","classSections","remoteSections","classes","classVirtual","classVirtualReducer","remoteClassVirtual"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport axios from 'axios';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport Chip from '@material-ui/core/Chip';\nimport ShowVirtualClass from './ShowVirtualClass';\nimport baseUrl from '../../../../../config/config';\nimport _ from 'lodash';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { connect } from 'react-redux';\nimport DeleteVirtualClass from './DeleteVirtualClass';\nimport moment from 'moment';\nimport { deleteClassVirtual } from '../../../../../actions/VirtualClassAction';\nimport Button from '@material-ui/core/Button';\n\nclass VitualClassListItems extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      menuState: false,\n      itemId: 0,\n      modifModal: false,\n      deleteIsopen: false,\n      anchorEl: undefined,\n      ClassVirtualObject: {},\n    };\n    this.handleShow = this.handleShow.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteClassVirtual = this.handleDeleteClassVirtual.bind(this);\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n  }\n  handleShowDeleteModal = () => {\n    this.setState({ menuState: false, deleteIsopen: true });\n  };\n\n  handleDeleteClassVirtual = () => {\n    this.props.deleteClassVirtual(this.state.ClassVirtualObject.id);\n    this.setState({ deleteIsopen: false });\n  };\n\n  cancelModal() {\n    this.setState({ modifModal: false, deleteIsopen: false });\n  }\n  handleShow() {\n    this.setState({\n      modifModal: true,\n    });\n  }\n\n  onOptionMenuSelect = (event) => {\n    this.setState({\n      menuState: true,\n      anchorEl: event.currentTarget,\n      itemId: event.currentTarget.value,\n    });\n  };\n  handleRequestClose = () => {\n    this.setState({ menuState: false });\n  };\n  componentDidUpdate(prevProps, prevState) {\n\n    if (prevProps.classVirtualElement !== this.props.classVirtualElement) {\n      var ClassObject = {}\n      ClassObject.id = this.props.classVirtualElement.id\n      ClassObject.class_url = this.props.classVirtualElement.class_url\n      ClassObject.password = this.props.classVirtualElement.password\n      ClassObject.date_virtual_class = this.props.classVirtualElement.date_virtual_class\n      ClassObject.start_time_class = this.props.classVirtualElement.start_time_class\n      ClassObject.end_time_class = this.props.classVirtualElement.end_time_class\n      ClassObject.status = this.props.classVirtualElement.status\n      ClassObject.object = this.props.classVirtualElement.object\n      ClassObject.establishment_id = this.props.classVirtualElement.establishment_id\n      ClassObject.virtual_class_status = this.props.classVirtualElement.virtual_class_status\n      ClassObject.subject_id = this.props.classVirtualElement.subject_id\n      ClassObject.class_id = this.props.classVirtualElement.class_id\n      ClassObject.professor_id = this.props.classVirtualElement.professor_id\n\n      axios.get(`${baseUrl.baseUrl}/classes_professors?access_token=${localStorage.token}&filter[where][subject_id]=` + this.props.classVirtualElement.subject_id + `&filter[include][professor][profile][user]`)\n        .then(res => {\n          ClassObject.ProfessorName = res.data[0].professor.profile.user.name + ' ' + res.data[0].professor.profile.user.surname\n          axios.get(`${baseUrl.baseUrl}/classes/` + this.props.classVirtualElement.class_id + `?access_token=${localStorage.token}`)\n            .then(res => {\n              ClassObject.level_id = res.data.level_id\n              ClassObject.section_id = res.data.section_id\n              ClassObject.ClassName = res.data.name\n              axios.get(`${baseUrl.baseUrl}/subjects/` + this.props.classVirtualElement.subject_id + `?access_token=${localStorage.token}`)\n                .then(res => {\n                  ClassObject.SubjectName = res.data.name_FR\n                  ClassObject.SubjectName = res.data.name_FR\n                  ClassObject.subject_id = res.data.id\n                  this.setState({\n                    ClassVirtualObject: ClassObject\n                  })\n                })\n            })\n        })\n\n    }\n  }\n\n\n  componentWillMount() {\n    var ClassObject = {}\n    ClassObject.id = this.props.classVirtualElement.id\n    ClassObject.class_url = this.props.classVirtualElement.class_url\n    ClassObject.password = this.props.classVirtualElement.password\n    ClassObject.date_virtual_class = this.props.classVirtualElement.date_virtual_class\n    ClassObject.start_time_class = this.props.classVirtualElement.start_time_class\n    ClassObject.end_time_class = this.props.classVirtualElement.end_time_class\n    ClassObject.status = this.props.classVirtualElement.status\n    ClassObject.object = this.props.classVirtualElement.object\n    ClassObject.establishment_id = this.props.classVirtualElement.establishment_id\n    ClassObject.virtual_class_status = this.props.classVirtualElement.virtual_class_status\n    ClassObject.subject_id = this.props.classVirtualElement.subject_id\n    ClassObject.class_id = this.props.classVirtualElement.class_id\n    ClassObject.professor_id = this.props.classVirtualElement.professor_id\n\n    axios.get(`${baseUrl.baseUrl}/classes_professors?access_token=${localStorage.token}&filter[where][subject_id]=` + this.props.classVirtualElement.subject_id + `&filter[include][professor][profile][user]`)\n      .then(res => {\n        ClassObject.ProfessorName = res.data[0].professor.profile.user.name + ' ' + res.data[0].professor.profile.user.surname\n        axios.get(`${baseUrl.baseUrl}/classes/` + this.props.classVirtualElement.class_id + `?access_token=${localStorage.token}`)\n          .then(res => {\n            ClassObject.level_id = res.data.level_id\n            ClassObject.section_id = res.data.section_id\n            ClassObject.ClassName = res.data.name\n            axios.get(`${baseUrl.baseUrl}/subjects/` + this.props.classVirtualElement.subject_id + `?access_token=${localStorage.token}`)\n              .then(res => {\n                ClassObject.SubjectName = res.data.name_FR\n                ClassObject.subject_id = res.data.id\n                this.setState({\n                  ClassVirtualObject: ClassObject\n                })\n              })\n          })\n      })\n  }\n\n  render() {\n    if ((!_.isEmpty(this.state.ClassVirtualObject))) {\n      const sys = Date.parse(new Date()) / 60000;\n      const start =\n        Date.parse(\n          this.state.ClassVirtualObject.date_virtual_class.slice(0, 10) +\n          ' ' +\n          this.state.ClassVirtualObject.start_time_class\n        ) / 60000;\n      const end =\n        Date.parse(\n          this.state.ClassVirtualObject.date_virtual_class.slice(0, 10) +\n          ' ' +\n          this.state.ClassVirtualObject.end_time_class\n        ) / 60000;\n\n      const statusClass =\n        start > sys ? 'programmée' : end > sys ? 'en progré' : 'terminée';\n      const statusStyle = statusClass.includes('terminée')\n        ? 'text-white bg-danger'\n        : statusClass.includes('en progré')\n          ? 'bg-amber'\n          : 'text-white bg-success';\n      return (\n        // <TableRow key={this.state.ClassVirtualObject.id}>\n        //   <TableCell align=\"left\">{\"\"}{this.state.ClassVirtualObject.SubjectName}</TableCell>\n        //   <TableCell align=\"left\">{this.state.ClassVirtualObject.object}</TableCell>\n        //   <TableCell align=\"left\">{this.state.ClassVirtualObject.ProfessorName}</TableCell>\n        //   <TableCell align=\"left\">{this.state.ClassVirtualObject.ClassName}</TableCell>\n        //   <TableCell align=\"center\">{moment(this.state.ClassVirtualObject.date_virtual_class).format(\"DD/MM/YY\")}</TableCell>\n        //   <TableCell align=\"center\">\n        //     <a href={this.state.ClassVirtualObject.class_url} target=\"_blank\"><IntlMessages id=\"clic.here\" /></a>\n        //   </TableCell>\n        //   <TableCell align=\"left\">\n        //     <Chip\n        //       variant=\"outlined\"\n        //       size=\"small\"\n        //       label={statusClass}\n        //       className={` badge text-uppercase ${statusStyle}`}\n\n        //     />\n        //   </TableCell>\n\n\n        //   {\n        //     (this.props.userProfile.role_id === 1 || this.props.userProfile.role_id === 2 || this.props.userProfile.role_id === 7) ?\n\n        //       <TableCell align=\"right\">\n\n\n        //         <IconButton onClick={this.onOptionMenuSelect.bind(this)}>\n        //           <i className=\"zmdi zmdi-more-vert\" />\n        //         </IconButton>\n        //         <Menu\n        //           id=\"long-menu\"\n        //           anchorEl={this.state.anchorEl}\n        //           open={this.state.menuState}\n        //           onClose={this.handleRequestClose.bind(this)}\n        //           MenuListProps={{\n        //             style: {\n        //               width: 230,\n        //               paddingTop: 0,\n        //               paddingBottom: 0,\n        //             },\n        //           }}\n        //         >\n        //           <MenuItem\n        //             onClick={(e) => {\n        //               this.setState({ menuState: false });\n        //               this.props.editClassShowModal(this.state.ClassVirtualObject)\n        //             }}>\n        //             {<IntlMessages id=\"button.modify\" />}\n        //           </MenuItem>\n        //           <MenuItem\n        //             onClick={() => {\n        //               this.handleShow();\n        //               this.setState({ menuState: false });\n        //             }}\n        //           >\n        //             {<IntlMessages id=\"Reclam.Afficher\" />}\n        //           </MenuItem>\n        //           <MenuItem\n        //             onClick={this.handleShowDeleteModal}\n        //           >{<IntlMessages id=\"button.delete\" />}</MenuItem>\n        //         </Menu>\n        //       </TableCell> :\n        //       <TableCell align=\"center\">\n\n        //         <IconButton className=\"icon-btn\"\n        //           onClick={(e) => {\n        //             this.handleShow();\n        //             this.setState({ menuState: false });\n        //           }}\n        //         >\n        //           <i\n        //             className=\"zmdi zmdi-eye\"\n        //             style={{ color: '#3F51B5' }}\n        //           />\n        //         </IconButton>{' '}\n        //       </TableCell>\n\n\n\n        //   }\n        //   {this.state.modifModal ? (\n        //     <ShowVirtualClass\n        //       cancelModal={this.cancelModal}\n        //       virtualClassItem={this.state.virtualClassItem}\n        //       ClassVirtualObject={this.state.ClassVirtualObject}\n        //     />\n        //   ) : (\n        //       ''\n        //     )}\n        //   {this.state.deleteIsopen ? (\n        //     <DeleteVirtualClass\n        //       cancelModal={this.cancelModal}\n        //       deleteIsopen={this.state.deleteIsopen}\n        //       ClassVirtualObject={this.state.ClassVirtualObject}\n        //       handleDeleteClassVirtual={this.handleDeleteClassVirtual}\n        //     />\n        //   ) : (\n        //       ''\n        //     )}\n        // </TableRow>\n\n\n\n\n        <div className=\"col-xl-4 col-md-4 col-lg-4 col-sm-6 col-12\">\n          <div className=\"card product-item \">\n            <div className=\"card-header border-0 p-0\">\n              <div className=\"card-image\">\n                <div className=\"grid-thumb-equal\">\n                  <span className=\"grid-thumb-cover jr-link\">\n                    <img\n                      alt=\"Remy Sharp\"\n                      src=\"https://www.nelbusiness.com/wp-content/uploads/e-learning-600x400.x72741.jpg\"\n                    />\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div className=\" d-flex flex-column bd-highlight\">\n              <div class=\"bd-highlight  d-flex justify-content-center  align-items-center\">\n                <Chip\n                  variant=\"outlined\"\n                  size=\"small\"\n                  label={statusClass}\n                  className={` badge text-uppercase ${statusStyle}`}\n\n                />\n              </div>\n\n\n              <div class=\"bd-highlight  flex-column bd-highlight\">\n                <div class=\" bd-highlight  d-flex flex-row  justify-content-between align-items-center\"><h5 style={{ fontWeight: \"bold\" }}>{this.state.ClassVirtualObject.SubjectName}</h5><h5 style={{ fontWeight: \"bold\" }}>{this.state.ClassVirtualObject.ProfessorName}</h5></div>\n\n                <div class=\"bd-highlight  d-flex flex-row  justify-content-between align-items-center\"><h5 style={{ fontWeight: \"bold\" }}>{this.state.ClassVirtualObject.ClassName}</h5><h5 style={{ fontWeight: \"bold\" }}>{moment(this.state.ClassVirtualObject.date_virtual_class).format(\"DD/MM/YY\")}</h5></div>\n\n                <div class=\"bd-highlight  d-flex flex-row  justify-content-between align-items-center\">\n                  <Button\n\n                    variant=\"contained\"\n                    className=\"jr-btn jr-btn-sm \"\n                    href={this.state.ClassVirtualObject.class_url} target=\"_blank\"\n                  >\n                    <i className=\"zmdi zmdi-accounts-alt\" />\n                    <span>\n                    <IntlMessages id=\"join.class\" />\n                            </span>\n                  </Button>\n                  <h5 style={{ fontWeight: \"bold\" }}>{this.state.ClassVirtualObject.password}</h5></div>\n              </div>\n\n              {\n\n                (this.props.userProfile.role_id == 1 || this.props.userProfile.role_id == 2 || this.props.userProfile.role_id == 7) ?\n                  <div class=\"bd-highlight  d-flex flex-row  justify-content-around\">\n                    <IconButton className=\"icon-btn\"\n                      onClick={(e) => {\n                        this.handleShow();\n                        this.setState({ menuState: false });\n                      }}\n                    >\n                      <i\n                        className=\"zmdi zmdi-eye\"\n                        style={{ color: '#3F51B5' }}\n                      />\n                    </IconButton>{' '}\n\n                    <IconButton className=\"icon-btn\"\n                      onClick={(e) => {\n                        this.setState({ menuState: false });\n                        this.props.editClassShowModal(this.state.ClassVirtualObject)\n                      }}\n                    >\n                      <i\n                        className=\"zmdi zmdi-edit\"\n                        style={{ color: '#3F51B5' }}\n                      />\n                    </IconButton>{' '}\n                    <IconButton className=\"icon-btn\"\n                      onClick={this.handleShowDeleteModal}\n                    >\n                      <i\n                        className=\"zmdi zmdi-delete\"\n                        style={{ color: '#3F51B5' }}\n                      />\n                    </IconButton>{' '}\n\n                  </div> :\n                  <div class=\"bd-highlight  d-flex flex-row  justify-content-around\">\n                    <IconButton className=\"icon-btn\"\n                      onClick={(e) => {\n                        this.handleShow();\n                        this.setState({ menuState: false });\n                      }}\n                    >\n                      <i\n                        className=\"zmdi zmdi-eye\"\n                        style={{ color: '#3F51B5' }}\n                      />\n                    </IconButton>{' '} </div>\n\n              }\n\n              <div>\n\n              </div>\n            </div>\n          </div>\n\n\n          {\n            this.state.modifModal ? (\n              <ShowVirtualClass\n                cancelModal={this.cancelModal}\n                virtualClassItem={this.state.virtualClassItem}\n                ClassVirtualObject={this.state.ClassVirtualObject}\n              />\n            ) : (\n                ''\n              )\n          }\n          {\n            this.state.deleteIsopen ? (\n              <DeleteVirtualClass\n                cancelModal={this.cancelModal}\n                deleteIsopen={this.state.deleteIsopen}\n                ClassVirtualObject={this.state.ClassVirtualObject}\n                handleDeleteClassVirtual={this.handleDeleteClassVirtual}\n              />\n            ) : (\n                ''\n              )\n          }\n\n\n        </div >\n\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    classLevels: state.ClassLevels.remoteLevels,\n    classSections: state.classSections.remoteSections,\n    classes: state.classes,\n    classVirtual: state.classVirtualReducer.remoteClassVirtual,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    deleteClassVirtual,\n  }\n)(VitualClassListItems);\n"]},"metadata":{},"sourceType":"module"}