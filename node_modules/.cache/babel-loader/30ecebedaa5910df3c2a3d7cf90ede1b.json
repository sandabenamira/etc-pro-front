{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Lesson/LessonList.js\";\nimport React from \"react\";\nimport LessonListItem from \"./LessonListItem\";\nimport CardBox from \"../../../components/CardBox/index\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { getSectionFromLevel } from \"../../../actions/sectionAction\";\nimport { getLevelListFromEstabType } from \"../../../actions/classLevelAction\";\nimport IntlMessages from \"../../../util/IntlMessages\";\nimport Can from \"../../../can\";\nimport { RoleContext } from \"../../../Context\";\nimport { roleIdProfessor, roleIdStudent } from \"../../../config/config\";\nimport { getLessonByClassId } from \"../../../actions/LessonAction\";\nimport { editLesson, deleteLesson } from \"../../../actions/LessonAction\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport EditLesson from \"./EditLesson\";\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/moment\";\nimport axios from \"axios\";\nimport baseUrl from \"../../../config/config\";\nimport Input from \"@material-ui/icons/Input\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteLesson from \"./DeleteLesson\";\nimport DownloadFiles from \"./DownloadFiles\";\n\nclass LessonList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onOptionMenuSelect = event => {\n      this.setState({\n        menuState: true,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    this.handleDeleteLesson = (item, event) => {\n      event.preventDefault();\n      console.log(\"ccccccc\", this.state.deleteItem.id);\n      this.props.deleteLesson(this.state.deleteItem.id);\n      this.setState({\n        deleteIsopen: false,\n        menuState: false,\n        deleteItem: item\n      });\n    };\n\n    this.handleShowDownloadModal = item => {\n      console.log(\"download modale\", item);\n      this.setState({\n        opendownload: true,\n        menuState: false,\n        anchorEl: undefined,\n        downlaodItem: item\n      });\n    };\n\n    this.handleShowdelete = item => {\n      this.setState({\n        deleteItem: item,\n        deleteIsopen: true\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        opendownload: false,\n        openedit: false\n      });\n    };\n\n    this.handleChangeDateProfessor = date => {\n      if (date === null) {\n        this.setState({\n          selectedFilterDateProfessor: null\n        });\n      } else {\n        this.setState({\n          selectedFilterDateProfessor: date.format().slice(0, 10)\n        });\n      }\n    };\n\n    this.editLessonList = () => {\n      var data = {};\n      data.name = this.state.course_object;\n      data.details = this.state.details;\n      data.creation_date = this.state.lesson.creation_date;\n      data.status = this.state.lesson.status;\n      data.file = this.state.lesson.file;\n      data.class_professor_id = this.state.lesson.class_professor_id;\n      data.id = this.state.lesson.id;\n      this.props.editLesson(data);\n      this.setState({\n        course_object: \"\",\n        details: \"\",\n        openedit: false\n      });\n    };\n\n    this.handleEdit = courseObject => {\n      this.setState({\n        openedit: true,\n        lesson: courseObject,\n        course_object: courseObject.name,\n        details: courseObject.details\n      });\n    };\n\n    this.handleChangeClass = name => event => {\n      this.setState({\n        selectedFilterDateProfessor: null\n      });\n\n      if (event.target.value === \"0\") {\n        this.setState({\n          [name]: \"\"\n        });\n      } else {\n        this.setState({\n          [name]: event.target.value\n        });\n        this.props.getLessonByClassId(event.target.value);\n      }\n    };\n\n    this.handleChangeSubject = name => event => {\n      if (event.target.value === \"0\") {\n        this.setState({\n          [name]: \"\"\n        });\n      } else {\n        this.setState({\n          [name]: event.target.value\n        });\n      }\n\n      this.setState({\n        selectedFilterDateProfessor: null\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleChangeLevel = name => event => {\n      let sections = this.props.sections.filter(element => element.fk_id_level_v3 === event.target.value);\n      this.setState({\n        sections,\n        section_id: 0,\n        class_id: 0,\n        classeDisabled: true,\n        [name]: event.target.value\n      });\n\n      if (!_.isEmpty(sections)) {\n        this.setState({\n          sectionDisabled: false,\n          class_id: 0\n        });\n      } else {\n        const filtredClassesD = this.props.classes.filter(classe => classe.fk_id_level_v3 === event.target.value && classe.status);\n        this.setState({\n          sectionDisabled: true,\n          class_id: 0,\n          classeDisabled: false,\n          studentClassesByLevelSectionID: filtredClassesD\n        });\n      }\n    };\n\n    this.handleChangeSection = name => event => {\n      const filtredClasses = this.props.classes.filter(classe => classe.fk_id_level_v3 === this.state.level_id && classe.fk_id_section_v3 === event.target.value && classe.status);\n      this.setState({\n        class_id: 0,\n        classeDisabled: false,\n        [name]: event.target.value,\n        studentClassesByLevelSectionID: filtredClasses\n      });\n    };\n\n    this.onTagsChange = (event, values) => {\n      this.setState({\n        tags: values,\n        selectedFilterDateProfessor: null,\n        subject_id: \"\"\n      });\n    };\n\n    this.state = {\n      openedit: false,\n      section_id: \"\",\n      class_id: \"\",\n      level_id: \"\",\n      sectionDisabled: true,\n      classeDisabled: true,\n      studentClassesByLevelSectionID: [],\n      subject_id: \"\",\n      lessons: [],\n      item: {},\n      levelItem: {},\n      course_object: \"\",\n      details: \"\",\n      selectedFilterDateProfessor: null,\n      ProfessorCoursList: [],\n      studentCoursList: [],\n      studentSubjectList: [],\n      tags: null,\n      sections: [],\n      url: \"\",\n      anchorEl: undefined,\n      menuState: false,\n      deleteIsopen: false,\n      opendownload: false,\n      deleteItem: {},\n      showItem: {},\n      id: null\n    };\n    this.handleChangeLevel = this.handleChangeLevel.bind(this);\n    this.handleChangeSection = this.handleChangeSection.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.editLessonList = this.editLessonList.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChangeDateProfessor = this.handleChangeDateProfessor.bind(this);\n    this.onTagsChange = this.onTagsChange.bind(this);\n    this.handleShowdelete = this.handleShowdelete.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteLesson = this.handleDeleteLesson.bind(this);\n    this.handleShowDownloadModal = this.handleShowDownloadModal.bind(this);\n  }\n\n  cancelModal() {\n    this.setState({\n      deleteIsopen: false\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.roleId === roleIdStudent) {\n      axios.get(`${baseUrl.baseUrl}/profiles/fetchLessonByprofileID/` + this.props.userProfile.id + `?access_token=${localStorage.token}`).then(res => {\n        this.setState({\n          studentCoursList: res.data.lessonData\n        });\n      });\n      axios.get(`${baseUrl.baseUrl}/profiles/fetchSubjectByprofileID/` + this.props.userProfile.id + `?access_token=${localStorage.token}`).then(res => {\n        this.setState({\n          studentSubjectList: res.data.subjectData\n        });\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.roleId === roleIdProfessor) {\n      if (prevProps.lessons !== this.props.lessons) {\n        let classList = this.props.classes;\n\n        if (!_.isEmpty(classList)) {\n          const filtredClasses = Array.from(classList).filter(classe => classe.status);\n          this.setState({\n            classeDisabled: false,\n            studentClassesByLevelSectionID: filtredClasses\n          });\n        }\n\n        let apiEndpoint = `${baseUrl.baseUrl}/courses?access_token=${localStorage.token}&filter[include][classProfSubject]`;\n        axios.get(apiEndpoint).then(res => {\n          var CoursList = res.data.filter(element => element.status);\n          axios.get(`${baseUrl.baseUrl}/profiles/` + this.props.userProfile.id + `/professors?access_token=${localStorage.token}`).then(res => {\n            var ProfId = res.data[0].id;\n            var ProfessorCoursList = CoursList.filter(element => element.classProfSubject.professor_id === ProfId);\n            this.setState({\n              ProfessorCoursList: ProfessorCoursList\n            });\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      levels,\n      lessons\n    } = this.props;\n    const {\n      sections\n    } = this.state;\n    var CourListByRole = [];\n    console.log(\"lesson\", this.props.lesson); //il faut metre une méthode générique pour else et if\n\n    if (this.props.userProfile.role_id === roleIdProfessor) {\n      if (this.state.class_id === \"\" && this.state.selectedFilterDateProfessor === null) {\n        CourListByRole = this.state.ProfessorCoursList;\n      } else if (this.state.class_id !== \"\" && this.state.selectedFilterDateProfessor === null) {\n        CourListByRole = this.state.ProfessorCoursList.filter(element => element.classProfSubject.class_id === this.state.class_id);\n      } else if (this.state.class_id === \"\" && this.state.selectedFilterDateProfessor !== null) {\n        CourListByRole = this.state.ProfessorCoursList.filter(element => element.creation_date.slice(0, 10) === this.state.selectedFilterDateProfessor);\n      } else {\n        CourListByRole = this.state.ProfessorCoursList.filter(element => element.creation_date.slice(0, 10) === this.state.selectedFilterDateProfessor && element.classProfSubject.class_id === this.state.class_id);\n      }\n    } else if (this.props.userProfile.role_id === roleIdStudent) {\n      if (this.state.subject_id === \"\" && this.state.selectedFilterDateProfessor === null && this.state.tags === null) {\n        CourListByRole = this.state.studentCoursList.filter(element => element.status === true);\n      } else if (this.state.subject_id !== \"\" && this.state.selectedFilterDateProfessor === null) {\n        CourListByRole = this.state.studentCoursList.filter(element => element.subject_id === this.state.subject_id && element.status === true);\n      } else if (this.state.subject_id !== \"\" && this.state.selectedFilterDateProfessor !== null) {\n        CourListByRole = this.state.studentCoursList.filter(element => element.creation_date.slice(0, 10) === this.state.selectedFilterDateProfessor && element.subject_id === this.state.subject_id && element.status === true);\n      } else if (this.state.tags !== null && this.state.subject_id === \"\" && this.state.selectedFilterDateProfessor === null) {\n        CourListByRole = this.state.studentCoursList.filter(element => element.id === this.state.tags.id && element.status === true);\n      } else {\n        CourListByRole = this.state.studentCoursList.filter(element => element.creation_date.slice(0, 10) === this.state.selectedFilterDateProfessor && element.subject_id === this.state.subject_id && element.status === true);\n      }\n    } else {\n      CourListByRole = lessons;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 text-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"lesson-filter:visit\",\n      yes: () => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"lesson-filter-level:visit\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-2 text-left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          name: \"level_id\",\n          id: \"level_id\",\n          select: true,\n          label: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"components.note.niveau\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 33\n            }\n          }),\n          value: this.state.level_id,\n          defaultValue: \" \",\n          onChange: this.handleChangeLevel(\"level_id\"),\n          SelectProps: {},\n          margin: \"normal\",\n          fullWidth: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 29\n          }\n        }, this.props.levels.map(levelItem => /*#__PURE__*/React.createElement(MenuItem, {\n          key: levelItem.id,\n          value: levelItem.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 33\n          }\n        }, levelItem.name)))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"lesson-filter-section:visit\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-2 text-left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          name: \"section_id\",\n          id: \"section_id\",\n          select: true,\n          disabled: this.state.sectionDisabled,\n          label: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"components.class.level.input.label.section\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 33\n            }\n          }),\n          value: this.state.section_id,\n          onChange: this.handleChangeSection(\"section_id\"),\n          SelectProps: {},\n          margin: \"normal\",\n          fullWidth: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 29\n          }\n        }, sections.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n          key: option.id,\n          value: option.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 33\n          }\n        }, option.name)))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"lesson-filter-class:visit\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-2 text-left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          name: \"class_id\",\n          id: \"class_id\",\n          disabled: this.state.classeDisabled,\n          select: true,\n          label: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"components.student.formadd.classe\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 33\n            }\n          }),\n          value: this.state.class_id,\n          onChange: this.handleChangeClass(\"class_id\"),\n          SelectProps: {},\n          margin: \"normal\",\n          fullWidth: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(MenuItem, {\n          key: \"0\",\n          value: \"0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"all.label\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 33\n          }\n        })), this.state.studentClassesByLevelSectionID.map(classe => /*#__PURE__*/React.createElement(MenuItem, {\n          key: classe.id,\n          value: classe.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 35\n          }\n        }, classe.name)))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"lesson-filter-student-subject:visit\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-2 text-left\",\n          style: {\n            marginTop: \"-16px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          id: \"subject_id\",\n          name: \"subject_id\",\n          select: true,\n          label: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"components.note.subject\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 33\n            }\n          }),\n          value: this.state.subject_id,\n          onChange: this.handleChangeSubject(\"subject_id\"),\n          SelectProps: {},\n          margin: \"normal\",\n          fullWidth: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(MenuItem, {\n          key: \"0\",\n          value: \"0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"all.subject\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 33\n          }\n        })), this.state.studentSubjectList.map(subject => /*#__PURE__*/React.createElement(MenuItem, {\n          key: subject.id,\n          value: subject.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 33\n          }\n        }, subject.name_FR)))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"lesson-filter-date:visit\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-2 text-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n          utils: DateFnsUtils,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n          label: \"                                           \",\n          clearable: true,\n          fullWidth: true,\n          id: \"selectedFilterDateProfessor\",\n          name: \"selectedFilterDateProfessor\",\n          value: this.state.selectedFilterDateProfessor,\n          onChange: this.handleChangeDateProfessor,\n          format: \"MM-DD-YYYY\",\n          autoOk: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 31\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"lesson-filter-search:visit\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-2 text-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Autocomplete, {\n          id: \"combo-box-demo\",\n          options: this.state.studentCoursList,\n          onChange: this.onTagsChange,\n          getOptionLabel: option => option.name,\n          style: {\n            width: 300\n          },\n          renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n            label: /*#__PURE__*/React.createElement(IntlMessages, {\n              id: \"search.lesson\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 44\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 35\n            }\n          })),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 31\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"lesson-class-add\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-6 text-right \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(Fab, {\n          size: \"small\",\n          color: \"primary\",\n          \"aria-label\": \"Add\",\n          onClick: this.props.openAddModal,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(AddIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 31\n          }\n        })), \"\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Fab, {\n          size: \"small\",\n          color: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Input, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 31\n          }\n        })), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 29\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 23\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row animated slideInUpTiny animation-duration-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 9\n      }\n    }, CourListByRole.map((courseItem, index) => /*#__PURE__*/React.createElement(LessonListItem, {\n      handleShowdelete: this.handleShowdelete,\n      cancelModal: this.cancelModal,\n      handleDeleteLesson: this.handleDeleteLesson,\n      handleShowDownloadModal: this.handleShowDownloadModal,\n      url: this.state.url,\n      anchorEl: this.state.anchorEl,\n      menuState: this.state.menuState,\n      deleteIsopen: this.state.deleteIsopen,\n      opendownload: this.state.opendownload,\n      key: index,\n      courseItem: courseItem // lesson={lesson}\n      ,\n      handleEdit: this.handleEdit,\n      divEyeClassname: this.props.divEyeClassname,\n      divEyeClassnameSpace: this.props.divEyeClassnameSpace,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 13\n      }\n    }))), this.state.openedit ? /*#__PURE__*/React.createElement(EditLesson, {\n      lesson: this.state.item,\n      levels: levels,\n      sections: sections // courseItem={courseItem}\n      ,\n      openedit: this.state.openedit,\n      values: this.state,\n      editLessonList: this.editLessonList,\n      handleChange: this.handleChange,\n      handleCancel: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 11\n      }\n    }) : \"\", this.state.deleteIsopen ? /*#__PURE__*/React.createElement(DeleteLesson, {\n      item: this.state.item,\n      cancelModal: this.cancelModal,\n      handleDeleteLesson: this.handleDeleteLesson,\n      deleteItem: this.state.deleteItem,\n      handleCancel: this.handleCancel,\n      deleteIsopen: this.state.deleteIsopen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 11\n      }\n    }) : \"\", this.state.opendownload ? /*#__PURE__*/React.createElement(DownloadFiles, {\n      opendownload: this.state.opendownload,\n      handleCancel: this.handleCancel,\n      lessonId: this.state.downlaodItem.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 11\n      }\n    }) : \"\");\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    // classes: state.classes,\n    userProfile: state.auth.userProfile,\n    // levels: state.ClassLevels.remoteLevels,\n    // sections: state.classSections.remoteSections,\n    lessons: state.lessons.remoteLessons,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    levels: state.levelsReducer.levels,\n    sections: state.SectionsReducer.Section,\n    classes: state.ClassSettingsReducer.classSettings\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getLessonByClassId,\n  editLesson,\n  deleteLesson\n})(LessonList);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Lesson/LessonList.js"],"names":["React","LessonListItem","CardBox","TextField","Autocomplete","MenuItem","getSectionFromLevel","getLevelListFromEstabType","IntlMessages","Can","RoleContext","roleIdProfessor","roleIdStudent","getLessonByClassId","editLesson","deleteLesson","connect","_","EditLesson","KeyboardDatePicker","MuiPickersUtilsProvider","DateFnsUtils","axios","baseUrl","Input","Fab","AddIcon","DeleteLesson","DownloadFiles","LessonList","Component","constructor","props","onOptionMenuSelect","event","setState","menuState","anchorEl","currentTarget","handleDeleteLesson","item","preventDefault","console","log","state","deleteItem","id","deleteIsopen","handleShowDownloadModal","opendownload","undefined","downlaodItem","handleShowdelete","handleCancel","openedit","handleChangeDateProfessor","date","selectedFilterDateProfessor","format","slice","editLessonList","data","name","course_object","details","creation_date","lesson","status","file","class_professor_id","handleEdit","courseObject","handleChangeClass","target","value","handleChangeSubject","handleChange","handleChangeLevel","sections","filter","element","fk_id_level_v3","section_id","class_id","classeDisabled","isEmpty","sectionDisabled","filtredClassesD","classes","classe","studentClassesByLevelSectionID","handleChangeSection","filtredClasses","level_id","fk_id_section_v3","onTagsChange","values","tags","subject_id","lessons","levelItem","ProfessorCoursList","studentCoursList","studentSubjectList","url","showItem","bind","cancelModal","componentDidMount","roleId","get","userProfile","localStorage","token","then","res","lessonData","subjectData","componentDidUpdate","prevProps","classList","Array","from","apiEndpoint","CoursList","ProfId","classProfSubject","professor_id","render","levels","CourListByRole","role_id","role","map","option","marginTop","subject","name_FR","width","params","openAddModal","courseItem","index","divEyeClassname","divEyeClassnameSpace","mapStateToProps","auth","remoteLessons","successStatus","alert","success","errorStatus","error","message","levelsReducer","SectionsReducer","Section","ClassSettingsReducer","classSettings"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport LessonListItem from \"./LessonListItem\";\nimport CardBox from \"../../../components/CardBox/index\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { getSectionFromLevel } from \"../../../actions/sectionAction\";\nimport { getLevelListFromEstabType } from \"../../../actions/classLevelAction\";\nimport IntlMessages from \"../../../util/IntlMessages\";\nimport Can from \"../../../can\";\nimport { RoleContext } from \"../../../Context\";\nimport { roleIdProfessor, roleIdStudent } from \"../../../config/config\";\nimport { getLessonByClassId } from \"../../../actions/LessonAction\";\nimport { editLesson, deleteLesson } from \"../../../actions/LessonAction\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport EditLesson from \"./EditLesson\";\nimport {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/moment\";\nimport axios from \"axios\";\nimport baseUrl from \"../../../config/config\";\nimport Input from \"@material-ui/icons/Input\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteLesson from \"./DeleteLesson\";\nimport DownloadFiles from \"./DownloadFiles\";\n\nclass LessonList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openedit: false,\n      section_id: \"\",\n      class_id: \"\",\n      level_id: \"\",\n      sectionDisabled: true,\n      classeDisabled: true,\n      studentClassesByLevelSectionID: [],\n      subject_id: \"\",\n      lessons: [],\n      item: {},\n      levelItem: {},\n      course_object: \"\",\n      details: \"\",\n      selectedFilterDateProfessor: null,\n      ProfessorCoursList: [],\n      studentCoursList: [],\n      studentSubjectList: [],\n      tags: null,\n      sections: [],\n      url: \"\",\n      anchorEl: undefined,\n      menuState: false,\n      deleteIsopen: false,\n      opendownload: false,\n      deleteItem: {},\n      showItem: {},\n      id: null,\n    };\n    this.handleChangeLevel = this.handleChangeLevel.bind(this);\n    this.handleChangeSection = this.handleChangeSection.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n\n    this.editLessonList = this.editLessonList.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChangeDateProfessor = this.handleChangeDateProfessor.bind(this);\n    this.onTagsChange = this.onTagsChange.bind(this);\n    this.handleShowdelete = this.handleShowdelete.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteLesson = this.handleDeleteLesson.bind(this);\n    this.handleShowDownloadModal = this.handleShowDownloadModal.bind(this);\n  }\n  onOptionMenuSelect = (event) => {\n    this.setState({\n      menuState: true,\n      anchorEl: event.currentTarget,\n    });\n  };\n\n  handleDeleteLesson = (item, event) => {\n    event.preventDefault();\n    console.log(\"ccccccc\", this.state.deleteItem.id);\n    this.props.deleteLesson(this.state.deleteItem.id);\n    this.setState({ deleteIsopen: false, menuState: false, deleteItem: item });\n  };\n  cancelModal() {\n    this.setState({ deleteIsopen: false });\n  }\n\n  handleShowDownloadModal = (item) => {\n    console.log(\"download modale\", item);\n\n    this.setState({\n      opendownload: true,\n      menuState: false,\n      anchorEl: undefined,\n      downlaodItem: item,\n    });\n  };\n\n  handleShowdelete = (item) => {\n    this.setState({\n      deleteItem: item,\n      deleteIsopen: true,\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({\n      opendownload: false,\n      openedit: false,\n    });\n  };\n\n  handleChangeDateProfessor = (date) => {\n    if (date === null) {\n      this.setState({\n        selectedFilterDateProfessor: null,\n      });\n    } else {\n      this.setState({\n        selectedFilterDateProfessor: date.format().slice(0, 10),\n      });\n    }\n  };\n\n  editLessonList = () => {\n    var data = {};\n    data.name = this.state.course_object;\n    data.details = this.state.details;\n    data.creation_date = this.state.lesson.creation_date;\n    data.status = this.state.lesson.status;\n    data.file = this.state.lesson.file;\n    data.class_professor_id = this.state.lesson.class_professor_id;\n    data.id = this.state.lesson.id;\n    this.props.editLesson(data);\n    this.setState({\n      course_object: \"\",\n      details: \"\",\n      openedit: false,\n    });\n  };\n  handleEdit = (courseObject) => {\n    this.setState({\n      openedit: true,\n      lesson: courseObject,\n      course_object: courseObject.name,\n      details: courseObject.details,\n    });\n  };\n  handleChangeClass = (name) => (event) => {\n    this.setState({\n      selectedFilterDateProfessor: null,\n    });\n    if (event.target.value === \"0\") {\n      this.setState({ [name]: \"\" });\n    } else {\n      this.setState({ [name]: event.target.value });\n      this.props.getLessonByClassId(event.target.value);\n    }\n  };\n  handleChangeSubject = (name) => (event) => {\n    if (event.target.value === \"0\") {\n      this.setState({ [name]: \"\" });\n    } else {\n      this.setState({ [name]: event.target.value });\n    }\n    this.setState({\n      selectedFilterDateProfessor: null,\n    });\n  };\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n  };\n  handleChangeLevel = (name) => (event) => {\n    let sections = this.props.sections.filter(\n      (element) => element.fk_id_level_v3 === event.target.value\n    );\n    this.setState({\n      sections,\n      section_id: 0,\n      class_id: 0,\n      classeDisabled: true,\n      [name]: event.target.value,\n    });\n    if (!_.isEmpty(sections)) {\n      this.setState({ sectionDisabled: false, class_id: 0 });\n    } else {\n      const filtredClassesD = this.props.classes.filter(\n        (classe) =>\n          classe.fk_id_level_v3 === event.target.value && classe.status\n      );\n      this.setState({\n        sectionDisabled: true,\n        class_id: 0,\n        classeDisabled: false,\n        studentClassesByLevelSectionID: filtredClassesD,\n      });\n    }\n  };\n  handleChangeSection = (name) => (event) => {\n    const filtredClasses = this.props.classes.filter(\n      (classe) =>\n        classe.fk_id_level_v3 === this.state.level_id &&\n        classe.fk_id_section_v3 === event.target.value &&\n        classe.status\n    );\n    this.setState({\n      class_id: 0,\n      classeDisabled: false,\n      [name]: event.target.value,\n      studentClassesByLevelSectionID: filtredClasses,\n    });\n  };\n\n  componentDidMount() {\n    if (this.props.roleId === roleIdStudent) {\n      axios\n        .get(\n          `${baseUrl.baseUrl}/profiles/fetchLessonByprofileID/` +\n            this.props.userProfile.id +\n            `?access_token=${localStorage.token}`\n        )\n        .then((res) => {\n          this.setState({ studentCoursList: res.data.lessonData });\n        });\n      axios\n        .get(\n          `${baseUrl.baseUrl}/profiles/fetchSubjectByprofileID/` +\n            this.props.userProfile.id +\n            `?access_token=${localStorage.token}`\n        )\n        .then((res) => {\n          this.setState({ studentSubjectList: res.data.subjectData });\n        });\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.roleId === roleIdProfessor) {\n      if (prevProps.lessons !== this.props.lessons) {\n        let classList = this.props.classes;\n        if (!_.isEmpty(classList)) {\n          const filtredClasses = Array.from(classList).filter(\n            (classe) => classe.status\n          );\n          this.setState({\n            classeDisabled: false,\n            studentClassesByLevelSectionID: filtredClasses,\n          });\n        }\n\n        let apiEndpoint = `${baseUrl.baseUrl}/courses?access_token=${localStorage.token}&filter[include][classProfSubject]`;\n        axios.get(apiEndpoint).then((res) => {\n          var CoursList = res.data.filter((element) => element.status);\n          axios\n            .get(\n              `${baseUrl.baseUrl}/profiles/` +\n                this.props.userProfile.id +\n                `/professors?access_token=${localStorage.token}`\n            )\n            .then((res) => {\n              var ProfId = res.data[0].id;\n              var ProfessorCoursList = CoursList.filter(\n                (element) => element.classProfSubject.professor_id === ProfId\n              );\n              this.setState({\n                ProfessorCoursList: ProfessorCoursList,\n              });\n            });\n        });\n      }\n    }\n  }\n\n  onTagsChange = (event, values) => {\n    this.setState({\n      tags: values,\n      selectedFilterDateProfessor: null,\n      subject_id: \"\",\n    });\n  };\n\n  render() {\n    const { levels, lessons } = this.props;\n    const { sections } = this.state;\n    var CourListByRole = [];\n    console.log(\"lesson\", this.props.lesson);\n    //il faut metre une méthode générique pour else et if\n    if (this.props.userProfile.role_id === roleIdProfessor) {\n      if (\n        this.state.class_id === \"\" &&\n        this.state.selectedFilterDateProfessor === null\n      ) {\n        CourListByRole = this.state.ProfessorCoursList;\n      } else if (\n        this.state.class_id !== \"\" &&\n        this.state.selectedFilterDateProfessor === null\n      ) {\n        CourListByRole = this.state.ProfessorCoursList.filter(\n          (element) => element.classProfSubject.class_id === this.state.class_id\n        );\n      } else if (\n        this.state.class_id === \"\" &&\n        this.state.selectedFilterDateProfessor !== null\n      ) {\n        CourListByRole = this.state.ProfessorCoursList.filter(\n          (element) =>\n            element.creation_date.slice(0, 10) ===\n            this.state.selectedFilterDateProfessor\n        );\n      } else {\n        CourListByRole = this.state.ProfessorCoursList.filter(\n          (element) =>\n            element.creation_date.slice(0, 10) ===\n              this.state.selectedFilterDateProfessor &&\n            element.classProfSubject.class_id === this.state.class_id\n        );\n      }\n    } else if (this.props.userProfile.role_id === roleIdStudent) {\n      if (\n        this.state.subject_id === \"\" &&\n        this.state.selectedFilterDateProfessor === null &&\n        this.state.tags === null\n      ) {\n        CourListByRole = this.state.studentCoursList.filter(\n          (element) => element.status === true\n        );\n      } else if (\n        this.state.subject_id !== \"\" &&\n        this.state.selectedFilterDateProfessor === null\n      ) {\n        CourListByRole = this.state.studentCoursList.filter(\n          (element) =>\n            element.subject_id === this.state.subject_id &&\n            element.status === true\n        );\n      } else if (\n        this.state.subject_id !== \"\" &&\n        this.state.selectedFilterDateProfessor !== null\n      ) {\n        CourListByRole = this.state.studentCoursList.filter(\n          (element) =>\n            element.creation_date.slice(0, 10) ===\n              this.state.selectedFilterDateProfessor &&\n            element.subject_id === this.state.subject_id &&\n            element.status === true\n        );\n      } else if (\n        this.state.tags !== null &&\n        this.state.subject_id === \"\" &&\n        this.state.selectedFilterDateProfessor === null\n      ) {\n        CourListByRole = this.state.studentCoursList.filter(\n          (element) =>\n            element.id === this.state.tags.id && element.status === true\n        );\n      } else {\n        CourListByRole = this.state.studentCoursList.filter(\n          (element) =>\n            element.creation_date.slice(0, 10) ===\n              this.state.selectedFilterDateProfessor &&\n            element.subject_id === this.state.subject_id &&\n            element.status === true\n        );\n      }\n    } else {\n      CourListByRole = lessons;\n    }\n    return (\n      <div>\n        <div className=\"row mb-md-3\">\n          <CardBox styleName=\"col-lg-12 text-primary\">\n            <RoleContext.Consumer>\n              {({ role }) => (\n                <Can\n                  role={role}\n                  perform=\"lesson-filter:visit\"\n                  yes={() => (\n                    <div className=\"row\">\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-level:visit\"\n                        yes={() => (\n                          <div className=\"col-md-2 text-left\">\n                            <TextField\n                              name=\"level_id\"\n                              id=\"level_id\"\n                              select\n                              label={\n                                <IntlMessages id=\"components.note.niveau\" />\n                              }\n                              value={this.state.level_id}\n                              defaultValue=\" \"\n                              onChange={this.handleChangeLevel(\"level_id\")}\n                              SelectProps={{}}\n                              margin=\"normal\"\n                              fullWidth\n                            >\n                              {this.props.levels.map((levelItem) => (\n                                <MenuItem\n                                  key={levelItem.id}\n                                  value={levelItem.id}\n                                >\n                                  {levelItem.name}\n                                </MenuItem>\n                              ))}\n                            </TextField>\n                          </div>\n                        )}\n                      />\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-section:visit\"\n                        yes={() => (\n                          <div className=\"col-md-2 text-left\">\n                            <TextField\n                              name=\"section_id\"\n                              id=\"section_id\"\n                              select\n                              disabled={this.state.sectionDisabled}\n                              label={\n                                <IntlMessages id=\"components.class.level.input.label.section\" />\n                              }\n                              value={this.state.section_id}\n                              onChange={this.handleChangeSection(\"section_id\")}\n                              SelectProps={{}}\n                              margin=\"normal\"\n                              fullWidth\n                            >\n                              {sections.map((option) => (\n                                <MenuItem key={option.id} value={option.id}>\n                                  {option.name}\n                                </MenuItem>\n                              ))}\n                            </TextField>\n                          </div>\n                        )}\n                      />\n\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-class:visit\"\n                        yes={() => (\n                          <div className=\"col-md-2 text-left\">\n                            <TextField\n                              name=\"class_id\"\n                              id=\"class_id\"\n                              disabled={this.state.classeDisabled}\n                              select\n                              label={\n                                <IntlMessages id=\"components.student.formadd.classe\" />\n                              }\n                              value={this.state.class_id}\n                              onChange={this.handleChangeClass(\"class_id\")}\n                              SelectProps={{}}\n                              margin=\"normal\"\n                              fullWidth\n                            >\n                              <MenuItem key=\"0\" value=\"0\">\n                                <IntlMessages id=\"all.label\" />\n                              </MenuItem>\n                              {this.state.studentClassesByLevelSectionID.map(\n                                (classe) => (\n                                  <MenuItem key={classe.id} value={classe.id}>\n                                    {classe.name}\n                                  </MenuItem>\n                                )\n                              )}\n                            </TextField>\n                          </div>\n                        )}\n                      />\n\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-student-subject:visit\"\n                        yes={() => (\n                          <div\n                            className=\"col-md-2 text-left\"\n                            style={{ marginTop: \"-16px\" }}\n                          >\n                            <TextField\n                              id=\"subject_id\"\n                              name=\"subject_id\"\n                              select\n                              label={\n                                <IntlMessages id=\"components.note.subject\" />\n                              }\n                              value={this.state.subject_id}\n                              onChange={this.handleChangeSubject(\"subject_id\")}\n                              SelectProps={{}}\n                              margin=\"normal\"\n                              fullWidth\n                            >\n                              <MenuItem key=\"0\" value=\"0\">\n                                <IntlMessages id=\"all.subject\" />\n                              </MenuItem>\n                              {this.state.studentSubjectList.map((subject) => (\n                                <MenuItem key={subject.id} value={subject.id}>\n                                  {subject.name_FR}\n                                </MenuItem>\n                              ))}\n                            </TextField>\n                          </div>\n                        )}\n                      />\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-date:visit\"\n                        yes={() => (\n                          <div className=\"col-md-2 text-right\">\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                              <KeyboardDatePicker\n                                label=\"                                           \"\n                                clearable\n                                fullWidth\n                                id=\"selectedFilterDateProfessor\"\n                                name=\"selectedFilterDateProfessor\"\n                                value={this.state.selectedFilterDateProfessor}\n                                onChange={this.handleChangeDateProfessor}\n                                format=\"MM-DD-YYYY\"\n                                autoOk\n                              />\n                            </MuiPickersUtilsProvider>\n                          </div>\n                        )}\n                      />\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-search:visit\"\n                        yes={() => (\n                          <div className=\"col-md-2 text-right\">\n                            <div className=\"form-group\">\n                              <Autocomplete\n                                id=\"combo-box-demo\"\n                                options={this.state.studentCoursList}\n                                onChange={this.onTagsChange}\n                                getOptionLabel={(option) => option.name}\n                                style={{ width: 300 }}\n                                renderInput={(params) => (\n                                  <TextField\n                                    {...params}\n                                    label={<IntlMessages id=\"search.lesson\" />}\n                                  />\n                                )}\n                              />\n                            </div>\n                          </div>\n                        )}\n                      />\n                      <Can\n                        role={role}\n                        perform=\"lesson-class-add\"\n                        yes={() => (\n                          <div className=\"col-md-6 text-right \">\n                            <Fab\n                              size=\"small\"\n                              color=\"primary\"\n                              aria-label=\"Add\"\n                              onClick={this.props.openAddModal}\n                            >\n                              <AddIcon />\n                            </Fab>\n                            &nbsp;&nbsp;&nbsp;\n                            <Fab size=\"small\" color=\"primary\">\n                              <Input />\n                            </Fab>\n                            <br></br>\n                          </div>\n                        )}\n                      />\n                    </div>\n                  )}\n                />\n              )}\n            </RoleContext.Consumer>\n          </CardBox>\n        </div>\n        <div className=\"row animated slideInUpTiny animation-duration-3\">\n          {CourListByRole.map((courseItem, index) => (\n            <LessonListItem\n              handleShowdelete={this.handleShowdelete}\n              cancelModal={this.cancelModal}\n              handleDeleteLesson={this.handleDeleteLesson}\n              handleShowDownloadModal={this.handleShowDownloadModal}\n              url={this.state.url}\n              anchorEl={this.state.anchorEl}\n              menuState={this.state.menuState}\n              deleteIsopen={this.state.deleteIsopen}\n              opendownload={this.state.opendownload}\n              key={index}\n              courseItem={courseItem}\n              // lesson={lesson}\n              handleEdit={this.handleEdit}\n              divEyeClassname={this.props.divEyeClassname}\n              divEyeClassnameSpace={this.props.divEyeClassnameSpace}\n            />\n          ))}\n        </div>\n        {this.state.openedit ? (\n          <EditLesson\n            lesson={this.state.item}\n            levels={levels}\n             sections={sections}\n            // courseItem={courseItem}\n            openedit={this.state.openedit}\n            values={this.state}\n            editLessonList={this.editLessonList}\n            handleChange={this.handleChange}\n            handleCancel={this.handleCancel}\n           />\n        ) : (\n          \"\"\n        )}\n        {this.state.deleteIsopen ? (\n          <DeleteLesson\n            item={this.state.item}\n            cancelModal={this.cancelModal}\n            handleDeleteLesson={this.handleDeleteLesson}\n            deleteItem={this.state.deleteItem}\n            handleCancel={this.handleCancel}\n            deleteIsopen={this.state.deleteIsopen}\n          />\n        ) : (\n          \"\"\n        )}\n        {this.state.opendownload ? (\n          <DownloadFiles\n            opendownload={this.state.opendownload}\n            handleCancel={this.handleCancel}\n            lessonId={this.state.downlaodItem.id}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    // classes: state.classes,\n    userProfile: state.auth.userProfile,\n    // levels: state.ClassLevels.remoteLevels,\n    // sections: state.classSections.remoteSections,\n    lessons: state.lessons.remoteLessons,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    levels: state.levelsReducer.levels,\n    sections: state.SectionsReducer.Section,\n    classes: state.ClassSettingsReducer.classSettings,\n  };\n}\nexport default connect(\n  mapStateToProps,\n  {\n    getLessonByClassId,\n    editLesson,\n    deleteLesson,\n  }\n)(LessonList);\n"]},"metadata":{},"sourceType":"module"}