{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Community/routes/Complaint/ComplaintChoiceMenu.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport Menu from \"@material-ui/core/Menu\";\nimport ComplaintChangeStatus from \"./ComplaintChangeStatus\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { onReclamSend, onChangeStatusClose, handleReclamRequestClose } from \"../../../actions/complaintAction\";\nimport Reclamer from \"./reclamer\";\nimport ReclamDetail from \"./ReclamDetail\";\nimport DeleteComplaint from \"./DeleteComplaint\";\nimport IntlMessages from \"../../../util/IntlMessages\";\nimport { roleIdAdmin } from \"../../../config/config\";\n\nclass ComplaintChoiceMenu extends React.Component {\n  constructor() {\n    super();\n\n    this.onComposeMail = () => {\n      this.setState({\n        openCompose: true\n      });\n    };\n\n    this.onChangeStatus = () => {\n      this.setState({\n        openChangeStatus: true\n      });\n    };\n\n    this.onOpenDetail = () => {\n      this.setState({\n        openDetail: true\n      });\n    };\n\n    this.onOpenDelete = () => {\n      this.setState({\n        openDelete: true\n      });\n    };\n\n    this.handleComposeClose = () => {\n      this.setState({\n        openCompose: false\n      });\n      this.props.handleReclamRequestClose();\n    };\n\n    this.handleChangeStatusClose = () => {\n      this.setState({\n        openChangeStatus: false\n      });\n      this.props.onChangeStatusClose();\n    };\n\n    this.handleDetailClose = () => {\n      this.setState({\n        openDetail: false\n      });\n    };\n\n    this.handleDeleteClose = () => {\n      this.setState({\n        openDelete: false\n      });\n      this.props.handleReclamRequestClose();\n    };\n\n    this.handleShowClose = () => {\n      this.setState({\n        showMessage: false\n      });\n    };\n\n    this.state = {\n      openCompose: false,\n      openChangeStatus: false,\n      openDetail: false,\n      openDelete: false,\n      showMessage: false\n    };\n  }\n\n  onReclamSend(data) {\n    this.props.onReclamSend(data);\n  }\n\n  render() {\n    const data = this.props.data;\n    const {\n      openCompose,\n      openChangeStatus,\n      openDetail,\n      openDelete\n    } = this.state;\n    const {\n      menuState,\n      anchorEl,\n      handleRequestClose\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      id: \"long-menu\",\n      anchorEl: anchorEl,\n      open: menuState,\n      onClose: handleRequestClose,\n      MenuListProps: {\n        style: {\n          width: 150,\n          paddingTop: 0,\n          paddingBottom: 0\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"{afficher}\",\n      onClick: () => {\n        this.onOpenDetail();\n        handleRequestClose();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"Reclam.Afficher\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"{R\\xE9pondre}\",\n      onClick: () => {\n        this.onComposeMail();\n        handleRequestClose();\n      },\n      disabled: this.props.type === \"Envoyées\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"Reclam.r\\xE9pondre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    })), localStorage.roles_id == roleIdAdmin && this.props.type != \"Envoyées\" ? /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"{modifier l'\\xE9tat}\",\n      onClick: () => {\n        this.onChangeStatus();\n        handleRequestClose();\n      } // disabled={this.props.type === \"Envoyées\"}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"Reclam.modifier\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    })) : \"\", localStorage.roles_id == roleIdAdmin ? /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"{Supprimer}\",\n      onClick: () => {\n        this.onOpenDelete();\n        handleRequestClose();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"Reclam.supprimer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    })) : \"\"), /*#__PURE__*/React.createElement(Reclamer, {\n      open: openCompose,\n      subjectReply: data.subject,\n      emailReplay: data.profile.user.email,\n      receiverID: data.sender_id,\n      onClose: this.handleComposeClose.bind(this),\n      onMailSend: this.onReclamSend.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ComplaintChangeStatus, {\n      data: data,\n      open: openChangeStatus,\n      onClose: this.handleChangeStatusClose.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ReclamDetail, {\n      type: this.props.type,\n      data: data,\n      onClose: this.handleDetailClose.bind(this),\n      open: openDetail,\n      compose: this.onComposeMail.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }), openDelete ? /*#__PURE__*/React.createElement(DeleteComplaint, {\n      cancelModalDelete: this.handleDeleteClose.bind(this),\n      itemId: data.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }) : \"\");\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nexport default connect(mapStateToProps, {\n  onReclamSend,\n  onChangeStatusClose,\n  handleReclamRequestClose\n})(ComplaintChoiceMenu);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Community/routes/Complaint/ComplaintChoiceMenu.js"],"names":["React","connect","Menu","ComplaintChangeStatus","MenuItem","onReclamSend","onChangeStatusClose","handleReclamRequestClose","Reclamer","ReclamDetail","DeleteComplaint","IntlMessages","roleIdAdmin","ComplaintChoiceMenu","Component","constructor","onComposeMail","setState","openCompose","onChangeStatus","openChangeStatus","onOpenDetail","openDetail","onOpenDelete","openDelete","handleComposeClose","props","handleChangeStatusClose","handleDetailClose","handleDeleteClose","handleShowClose","showMessage","state","data","render","menuState","anchorEl","handleRequestClose","style","width","paddingTop","paddingBottom","type","localStorage","roles_id","subject","profile","user","email","sender_id","bind","id","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Menu from \"@material-ui/core/Menu\";\nimport ComplaintChangeStatus from \"./ComplaintChangeStatus\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {\n  onReclamSend,\n  onChangeStatusClose,\n  handleReclamRequestClose,\n} from \"../../../actions/complaintAction\";\nimport Reclamer from \"./reclamer\";\nimport ReclamDetail from \"./ReclamDetail\";\nimport DeleteComplaint from \"./DeleteComplaint\";\nimport IntlMessages from \"../../../util/IntlMessages\";\nimport { roleIdAdmin } from \"../../../config/config\";\n\nclass ComplaintChoiceMenu extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      openCompose: false,\n      openChangeStatus: false,\n      openDetail: false,\n      openDelete: false,\n      showMessage: false,\n    };\n  }\n\n  onComposeMail = () => {\n    this.setState({ openCompose: true });\n  };\n  onChangeStatus = () => {\n    this.setState({ openChangeStatus: true });\n  };\n  onOpenDetail = () => {\n    this.setState({ openDetail: true });\n  };\n  onOpenDelete = () => {\n    this.setState({ openDelete: true });\n  };\n\n  handleComposeClose = () => {\n    this.setState({ openCompose: false });\n    this.props.handleReclamRequestClose();\n  };\n  handleChangeStatusClose = () => {\n    this.setState({ openChangeStatus: false });\n    this.props.onChangeStatusClose();\n  };\n  handleDetailClose = () => {\n    this.setState({ openDetail: false });\n  };\n  handleDeleteClose = () => {\n    this.setState({ openDelete: false });\n    this.props.handleReclamRequestClose();\n  };\n  handleShowClose = () => {\n    this.setState({ showMessage: false });\n  };\n\n  onReclamSend(data) {\n    this.props.onReclamSend(data);\n  }\n  render() {\n    const data = this.props.data;\n    const {\n      openCompose,\n      openChangeStatus,\n      openDetail,\n      openDelete,\n    } = this.state;\n\n    const { menuState, anchorEl, handleRequestClose } = this.props;\n    return (\n      <div>\n        <Menu\n          id=\"long-menu\"\n          anchorEl={anchorEl}\n          open={menuState}\n          onClose={handleRequestClose}\n          MenuListProps={{\n            style: {\n              width: 150,\n              paddingTop: 0,\n              paddingBottom: 0,\n            },\n          }}\n        >\n          <MenuItem\n            key=\"{afficher}\"\n            onClick={() => {\n              this.onOpenDetail();\n              handleRequestClose();\n            }}\n          >\n            <IntlMessages id=\"Reclam.Afficher\" />\n          </MenuItem>\n          <MenuItem\n            key=\"{Répondre}\"\n            onClick={() => {\n              this.onComposeMail();\n              handleRequestClose();\n            }}\n            disabled={this.props.type === \"Envoyées\"}\n          >\n            <IntlMessages id=\"Reclam.répondre\" />\n          </MenuItem>\n          {localStorage.roles_id == roleIdAdmin &&\n          this.props.type != \"Envoyées\" ? (\n            <MenuItem\n              key=\"{modifier l'état}\"\n              onClick={() => {\n                this.onChangeStatus();\n                handleRequestClose();\n              }}\n              // disabled={this.props.type === \"Envoyées\"}\n            >\n              <IntlMessages id=\"Reclam.modifier\" />\n            </MenuItem>\n          ) : (\n            \"\"\n          )}\n\n          {localStorage.roles_id == roleIdAdmin ? (\n            <MenuItem\n              key=\"{Supprimer}\"\n              onClick={() => {\n                this.onOpenDelete();\n                handleRequestClose();\n              }}\n            >\n              <IntlMessages id=\"Reclam.supprimer\" />\n            </MenuItem>\n          ) : (\n            \"\"\n          )}\n        </Menu>\n        <Reclamer\n          open={openCompose}\n          subjectReply={data.subject}\n          emailReplay={data.profile.user.email}\n          receiverID={data.sender_id}\n          onClose={this.handleComposeClose.bind(this)}\n          onMailSend={this.onReclamSend.bind(this)}\n        />\n        <ComplaintChangeStatus\n          data={data}\n          open={openChangeStatus}\n          onClose={this.handleChangeStatusClose.bind(this)}\n        ></ComplaintChangeStatus>\n        <ReclamDetail\n          type={this.props.type}\n          data={data}\n          onClose={this.handleDetailClose.bind(this)}\n          open={openDetail}\n          compose={this.onComposeMail.bind(this)}\n        />\n        {openDelete ? (\n          <DeleteComplaint\n            cancelModalDelete={this.handleDeleteClose.bind(this)}\n            itemId={data.id}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {};\n};\nexport default connect(\n  mapStateToProps,\n  {\n    onReclamSend,\n    onChangeStatusClose,\n    handleReclamRequestClose,\n  }\n)(ComplaintChoiceMenu);\n"]},"metadata":{},"sourceType":"module"}