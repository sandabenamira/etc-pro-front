{"ast":null,"code":"import { callService } from '../_services/call.service';\nimport _ from 'lodash';\nimport { GET_PERMISSION_SETTING } from '../constants/ActionTypes';\nexport const getPermissionSetting = estabId => {\n  let id = parseInt(estabId, 10);\n  return dispatch => {\n    let apiEndpoint = `/establishments/${id}/permission?access_token=${localStorage.token}`;\n    callService.get(apiEndpoint).then(response => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        dispatch({\n          type: GET_PERMISSION_SETTING,\n          payload: response.data.permissionList\n        });\n        console.log(response.data.permissionList, 'response response response');\n      }\n    });\n  };\n};\nexport const applyPermissionSetting = data => {\n  let permissionList = {\n    permissionRoleEtab: data\n  };\n  return dispatch => {\n    let apiEndpoint = `/permissions/attributePermission?access_token=${localStorage.token}`;\n    console.log(permissionList, 'data aplyyyyyyy');\n    callService.put(apiEndpoint, permissionList).then(response => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        // dispatch({ type: GET_PERMISSION_SETTING, payload: response.data.permissionList });\n        console.log(response.data, 'response applyPermissionSetting response');\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/actions/PermissionAction.js"],"names":["callService","_","GET_PERMISSION_SETTING","getPermissionSetting","estabId","id","parseInt","dispatch","apiEndpoint","localStorage","token","get","then","response","type","payload","data","permissionList","console","log","applyPermissionSetting","permissionRoleEtab","put"],"mappings":"AAAA,SAASA,WAAT,QAA4B,2BAA5B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,sBAAT,QAAuC,0BAAvC;AAEA,OAAO,MAAMC,oBAAoB,GAAIC,OAAD,IAAa;AAC/C,MAAIC,EAAE,GAAGC,QAAQ,CAACF,OAAD,EAAU,EAAV,CAAjB;AACA,SAAQG,QAAD,IAAc;AACnB,QAAIC,WAAW,GAAI,mBAAkBH,EAAG,4BAA2BI,YAAY,CAACC,KAAM,EAAtF;AAEAV,IAAAA,WAAW,CAACW,GAAZ,CAAgBH,WAAhB,EAA6BI,IAA7B,CAAmCC,QAAD,IAAc;AAC9C,UAAIA,QAAJ,EAAc;AACZ;AACAN,QAAAA,QAAQ,CAAC;AAAEO,UAAAA,IAAI,EAAEZ,sBAAR;AAAgCa,UAAAA,OAAO,EAAEF,QAAQ,CAACG,IAAT,CAAcC;AAAvD,SAAD,CAAR;AAEAC,QAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACG,IAAT,CAAcC,cAA1B,EAA0C,4BAA1C;AACD;AACF,KAPD;AAQD,GAXD;AAYD,CAdM;AAeP,OAAO,MAAMG,sBAAsB,GAAIJ,IAAD,IAAU;AAC9C,MAAIC,cAAc,GAAG;AAAEI,IAAAA,kBAAkB,EAAEL;AAAtB,GAArB;AACA,SAAQT,QAAD,IAAc;AACnB,QAAIC,WAAW,GAAI,iDAAgDC,YAAY,CAACC,KAAM,EAAtF;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYF,cAAZ,EAA4B,iBAA5B;AAEAjB,IAAAA,WAAW,CAACsB,GAAZ,CAAgBd,WAAhB,EAA6BS,cAA7B,EAA6CL,IAA7C,CAAmDC,QAAD,IAAc;AAC9D,UAAIA,QAAJ,EAAc;AACZ;AACA;AAEAK,QAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACG,IAArB,EAA2B,0CAA3B;AACD;AACF,KAPD;AAQD,GAZD;AAaD,CAfM","sourcesContent":["import { callService } from '../_services/call.service';\nimport _ from 'lodash';\nimport { GET_PERMISSION_SETTING } from '../constants/ActionTypes';\n\nexport const getPermissionSetting = (estabId) => {\n  let id = parseInt(estabId, 10);\n  return (dispatch) => {\n    let apiEndpoint = `/establishments/${id}/permission?access_token=${localStorage.token}`;\n\n    callService.get(apiEndpoint).then((response) => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        dispatch({ type: GET_PERMISSION_SETTING, payload: response.data.permissionList });\n\n        console.log(response.data.permissionList, 'response response response');\n      }\n    });\n  };\n};\nexport const applyPermissionSetting = (data) => {\n  let permissionList = { permissionRoleEtab: data };\n  return (dispatch) => {\n    let apiEndpoint = `/permissions/attributePermission?access_token=${localStorage.token}`;\n    console.log(permissionList, 'data aplyyyyyyy');\n\n    callService.put(apiEndpoint, permissionList).then((response) => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        // dispatch({ type: GET_PERMISSION_SETTING, payload: response.data.permissionList });\n\n        console.log(response.data, 'response applyPermissionSetting response');\n      }\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}