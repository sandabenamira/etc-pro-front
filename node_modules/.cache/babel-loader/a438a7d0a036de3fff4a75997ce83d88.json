{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/PermissionSetting/PermissionList.js\";\nimport React, { Component } from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport Select from 'react-select';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport PermissionListItem from './PermissionListItem';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nexport class PermissionList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listPermissions: []\n    };\n    this.addPermission = this.addPermission.bind(this);\n    this.deletePermission = this.deletePermission.bind(this);\n    this.resetPermission = this.resetPermission.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      listPermissions: this.props.listPermissions\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.listPermissions !== this.props.listPermissions) {\n      this.setState({\n        listPermissions: this.props.listPermissions\n      });\n    }\n  }\n\n  resetPermission() {\n    this.setState({\n      listPermissions: this.props.listPermissions\n    });\n  }\n\n  deletePermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map(permission => {\n      let newPermission = permission.id === parseInt(idPermission) ? { ...permission,\n        role: permission.role.filter(role => role != idRole)\n      } : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions\n    });\n  }\n\n  addPermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map(permission => {\n      let newPermission = permission.id === parseInt(idPermission) ? { ...permission,\n        role: permission.role.concat([idRole])\n      } : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions\n    });\n  }\n\n  render() {\n    const {\n      values\n    } = this.props; // console.log(values, 'valuuues');\n\n    console.log(this.props.listPermissions[0], \"proooops\");\n    console.log(this.state.listPermissions[0], \"stateeeee\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-12 col-sm-12 d-flex flex-column bd-highlight mb-3 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-md-12 col-lg-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row bd-highlight  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-3 col-md-6 col-lg-6 col-sm-6  mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        color: '#0000CD',\n        fontFamily: 'Roboto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"sidebar.components.permissionSetting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 col-md-2 col-lg-2 col-sm-2    \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"moduleId\",\n      name: \"moduleId\",\n      select: true,\n      value: values.moduleId,\n      onChange: this.props.handleChange('moduleId'),\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `sidebar.modules`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 24\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      key: 0,\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `userStuppDisplay.all`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    })), this.props.estabModule.map((element, index) => /*#__PURE__*/React.createElement(MenuItem, {\n      key: index,\n      value: element.module.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `sidebar.components.${element.module.name}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 col-md-2 col-lg-2 col-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"subModuleId\",\n      name: \"subModuleId\",\n      select: true,\n      value: values.subModuleId,\n      onChange: this.props.handleChange('subModuleId'),\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `sidebar.modules`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 24\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, values.subModuleList.map(subModule => /*#__PURE__*/React.createElement(MenuItem, {\n      key: subModule.id,\n      value: subModule.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, subModule.name)))))), /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-md-12 col-lg-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive-material\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      className: \"th-border-b\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `action.type.of.education`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `role.admin`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `component.etablishments.info.director`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `role.Supervisor`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `toDo.professor`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `userStuppDisplay.Student`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `userStuppDisplay.Parent`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, this.state.listPermissions.map(element => {\n      return /*#__PURE__*/React.createElement(PermissionListItem, {\n        permission: element,\n        addPermission: this.addPermission,\n        deletePermission: this.deletePermission,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      });\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row-reverse bd-highlight col-md-6 col-lg-6 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"bg-secondary text-white \",\n      style: {\n        borderBottomLeftRadius: '10px',\n        borderBottomRightRadius: '10px',\n        borderTopLeftRadius: '10px',\n        borderTopRightRadius: '10px',\n        width: '100%',\n        height: '80%',\n        textTransform: 'capitalize'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, true ? /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"superadmin.apply.button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"button.modify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      style: {\n        borderBottomLeftRadius: '10px',\n        borderBottomRightRadius: '10px',\n        borderTopLeftRadius: '10px',\n        borderTopRightRadius: '10px',\n        width: '100%',\n        height: '80%',\n        textTransform: 'capitalize'\n      },\n      className: \" bg-grey text-white \",\n      onClick: this.resetPermission,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.classes.formadd.buttonCancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\nexport default PermissionList;","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/PermissionSetting/PermissionList.js"],"names":["React","Component","CardBox","Select","IntlMessages","Button","Table","TableBody","TableCell","TableHead","TableRow","PermissionListItem","TextField","MenuItem","PermissionList","constructor","props","state","listPermissions","addPermission","bind","deletePermission","resetPermission","componentDidMount","setState","componentDidUpdate","prevProps","idPermission","idRole","newListPermissions","map","permission","newPermission","id","parseInt","role","filter","concat","render","values","console","log","color","fontFamily","moduleId","handleChange","disableUnderline","estabModule","element","index","module","name","subModuleId","subModuleList","subModule","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","width","height","textTransform"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport Select from 'react-select';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport PermissionListItem from './PermissionListItem';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport class PermissionList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listPermissions: [],\n    };\n\n    this.addPermission = this.addPermission.bind(this);\n    this.deletePermission = this.deletePermission.bind(this);\n    this.resetPermission = this.resetPermission.bind(this);\n  }\n  componentDidMount() {\n    this.setState({ listPermissions: this.props.listPermissions });\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.listPermissions !== this.props.listPermissions) {\n      this.setState({ listPermissions: this.props.listPermissions });\n    }\n  }\n  resetPermission() {\n    this.setState({ listPermissions: this.props.listPermissions });\n  }\n  deletePermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map((permission) => {\n      let newPermission =\n        permission.id === parseInt(idPermission)\n          ? {\n              ...permission,\n              role: permission.role.filter((role) => role != idRole),\n            }\n          : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions,\n    });\n  }\n  addPermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map((permission) => {\n      let newPermission =\n        permission.id === parseInt(idPermission)\n          ? {\n              ...permission,\n              role: permission.role.concat([idRole]),\n            }\n          : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions,\n    });\n  }\n  render() {\n    const { values } = this.props;\n    // console.log(values, 'valuuues');\n    console.log(this.props.listPermissions[0],\"proooops\");\n    console.log(this.state.listPermissions[0],\"stateeeee\");\n\n    return (\n      <div className=\"col-md-12 col-lg-12 col-sm-12 d-flex flex-column bd-highlight mb-3 \">\n        <CardBox styleName=\"col-md-12 col-lg-12 col-sm-12\">\n          <div className=\"d-flex flex-row bd-highlight  \">\n            <div className=\"p-3 col-md-6 col-lg-6 col-sm-6  mt-4\">\n              <h1 style={{ color: '#0000CD', fontFamily: 'Roboto' }}>\n                {' '}\n                <IntlMessages id=\"sidebar.components.permissionSetting\" />\n              </h1>\n            </div>\n            <div className=\"p-2 col-md-2 col-lg-2 col-sm-2    \">\n              <TextField\n                id=\"moduleId\"\n                name=\"moduleId\"\n                select\n                value={values.moduleId}\n                onChange={this.props.handleChange('moduleId')}\n                SelectProps={{}}\n                label={<IntlMessages id={`sidebar.modules`} />}\n                InputProps={{ disableUnderline: true }}\n                margin=\"normal\"\n                fullWidth\n              >\n                <MenuItem key={0} value={0}>\n                  <IntlMessages id={`userStuppDisplay.all`} />\n                </MenuItem>\n                {this.props.estabModule.map((element, index) => (\n                  <MenuItem key={index} value={element.module.id}>\n                    {/* {element.module.name}  */}\n                    <IntlMessages id={`sidebar.components.${element.module.name}`} />\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n            <div className=\"p-2 col-md-2 col-lg-2 col-sm-2\">\n              <TextField\n                id=\"subModuleId\"\n                name=\"subModuleId\"\n                select\n                value={values.subModuleId}\n                onChange={this.props.handleChange('subModuleId')}\n                SelectProps={{}}\n                label={<IntlMessages id={`sidebar.modules`} />}\n                InputProps={{ disableUnderline: true }}\n                margin=\"normal\"\n                fullWidth\n              >\n                {values.subModuleList.map((subModule) => (\n                  <MenuItem key={subModule.id} value={subModule.id}>\n                    {subModule.name}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n          </div>\n        </CardBox>\n        <CardBox styleName=\"col-md-12 col-lg-12 col-sm-12\">\n          <div className=\"table-responsive-material\">\n            <Table>\n              <TableHead className=\"th-border-b\">\n                <TableRow>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`action.type.of.education`} />\n                  </TableCell>\n\n                  <TableCell>\n                    <IntlMessages id={`role.admin`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`component.etablishments.info.director`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`role.Supervisor`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`toDo.professor`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`userStuppDisplay.Student`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`userStuppDisplay.Parent`} />\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {this.state.listPermissions.map((element) => {\n                  return (\n                    <PermissionListItem\n                      permission={element}\n                      addPermission={this.addPermission}\n                      deletePermission={this.deletePermission}\n                    />\n                  );\n                })}\n              </TableBody>\n            </Table>\n          </div>\n        </CardBox>\n        <div className=\"d-flex flex-row-reverse bd-highlight col-md-6 col-lg-6 col-sm-12\">\n          <div className=\" bd-highlight \">\n            <Button\n              variant=\"contained\"\n              className=\"bg-secondary text-white \"\n              style={{\n                borderBottomLeftRadius: '10px',\n                borderBottomRightRadius: '10px',\n                borderTopLeftRadius: '10px',\n                borderTopRightRadius: '10px',\n                width: '100%',\n                height: '80%',\n                textTransform: 'capitalize',\n              }}\n            >\n              {true ? (\n                <IntlMessages id=\"superadmin.apply.button\" />\n              ) : (\n                <IntlMessages id=\"button.modify\" />\n              )}\n            </Button>\n          </div>\n          <div className=\" bd-highlight mr-2\">\n            <Button\n              variant=\"contained\"\n              style={{\n                borderBottomLeftRadius: '10px',\n                borderBottomRightRadius: '10px',\n                borderTopLeftRadius: '10px',\n                borderTopRightRadius: '10px',\n                width: '100%',\n                height: '80%',\n                textTransform: 'capitalize',\n              }}\n              className=\" bg-grey text-white \"\n              onClick={this.resetPermission}\n            >\n              <IntlMessages id=\"components.classes.formadd.buttonCancel\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PermissionList;\n"]},"metadata":{},"sourceType":"module"}