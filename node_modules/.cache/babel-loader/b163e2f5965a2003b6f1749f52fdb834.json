{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.endOfRange = endOfRange;\nexports.eventSegments = eventSegments;\nexports.eventLevels = eventLevels;\nexports.inRange = inRange;\nexports.segsOverlap = segsOverlap;\nexports.sortEvents = sortEvents;\n\nvar _findIndex = _interopRequireDefault(require(\"lodash/findIndex\"));\n\nvar _dates = _interopRequireDefault(require(\"./dates\"));\n\nfunction endOfRange(dateRange, unit) {\n  if (unit === void 0) {\n    unit = 'day';\n  }\n\n  return {\n    first: dateRange[0],\n    last: _dates.default.add(dateRange[dateRange.length - 1], 1, unit)\n  };\n}\n\nfunction eventSegments(event, range, accessors) {\n  var _endOfRange = endOfRange(range),\n      first = _endOfRange.first,\n      last = _endOfRange.last;\n\n  var slots = _dates.default.diff(first, last, 'day');\n\n  var start = _dates.default.max(_dates.default.startOf(accessors.start(event), 'day'), first);\n\n  var end = _dates.default.min(_dates.default.ceil(accessors.end(event), 'day'), last);\n\n  var padding = (0, _findIndex.default)(range, function (x) {\n    return _dates.default.eq(x, start, 'day');\n  });\n\n  var span = _dates.default.diff(start, end, 'day');\n\n  span = Math.min(span, slots);\n  span = Math.max(span, 1);\n  return {\n    event: event,\n    span: span,\n    left: padding + 1,\n    right: Math.max(padding + span, 1)\n  };\n}\n\nfunction eventLevels(rowSegments, limit) {\n  if (limit === void 0) {\n    limit = Infinity;\n  }\n\n  var i,\n      j,\n      seg,\n      levels = [],\n      extra = [];\n\n  for (i = 0; i < rowSegments.length; i++) {\n    seg = rowSegments[i];\n\n    for (j = 0; j < levels.length; j++) {\n      if (!segsOverlap(seg, levels[j])) break;\n    }\n\n    if (j >= limit) {\n      extra.push(seg);\n    } else {\n      ;\n      (levels[j] || (levels[j] = [])).push(seg);\n    }\n  }\n\n  for (i = 0; i < levels.length; i++) {\n    levels[i].sort(function (a, b) {\n      return a.left - b.left;\n    }); //eslint-disable-line\n  }\n\n  return {\n    levels: levels,\n    extra: extra\n  };\n}\n\nfunction inRange(e, start, end, accessors) {\n  var eStart = _dates.default.startOf(accessors.start(e), 'day');\n\n  var eEnd = accessors.end(e);\n\n  var startsBeforeEnd = _dates.default.lte(eStart, end, 'day'); // when the event is zero duration we need to handle a bit differently\n\n\n  var endsAfterStart = !_dates.default.eq(eStart, eEnd, 'minutes') ? _dates.default.gt(eEnd, start, 'minutes') : _dates.default.gte(eEnd, start, 'minutes');\n  return startsBeforeEnd && endsAfterStart;\n}\n\nfunction segsOverlap(seg, otherSegs) {\n  return otherSegs.some(function (otherSeg) {\n    return otherSeg.left <= seg.right && otherSeg.right >= seg.left;\n  });\n}\n\nfunction sortEvents(evtA, evtB, accessors) {\n  var startSort = +_dates.default.startOf(accessors.start(evtA), 'day') - +_dates.default.startOf(accessors.start(evtB), 'day');\n\n  var durA = _dates.default.diff(accessors.start(evtA), _dates.default.ceil(accessors.end(evtA), 'day'), 'day');\n\n  var durB = _dates.default.diff(accessors.start(evtB), _dates.default.ceil(accessors.end(evtB), 'day'), 'day');\n\n  return startSort || // sort by start Day first\n  Math.max(durB, 1) - Math.max(durA, 1) || // events spanning multiple days go first\n  !!accessors.allDay(evtB) - !!accessors.allDay(evtA) || // then allDay single day events\n  +accessors.start(evtA) - +accessors.start(evtB); // then sort by start time\n}","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/node_modules/react-big-calendar/lib/utils/eventLevels.js"],"names":["_interopRequireDefault","require","exports","__esModule","endOfRange","eventSegments","eventLevels","inRange","segsOverlap","sortEvents","_findIndex","_dates","dateRange","unit","first","last","default","add","length","event","range","accessors","_endOfRange","slots","diff","start","max","startOf","end","min","ceil","padding","x","eq","span","Math","left","right","rowSegments","limit","Infinity","i","j","seg","levels","extra","push","sort","a","b","e","eStart","eEnd","startsBeforeEnd","lte","endsAfterStart","gt","gte","otherSegs","some","otherSeg","evtA","evtB","startSort","durA","durB","allDay"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.endOfRange = endOfRange;\nexports.eventSegments = eventSegments;\nexports.eventLevels = eventLevels;\nexports.inRange = inRange;\nexports.segsOverlap = segsOverlap;\nexports.sortEvents = sortEvents;\n\nvar _findIndex = _interopRequireDefault(require(\"lodash/findIndex\"));\n\nvar _dates = _interopRequireDefault(require(\"./dates\"));\n\nfunction endOfRange(dateRange, unit) {\n  if (unit === void 0) {\n    unit = 'day';\n  }\n\n  return {\n    first: dateRange[0],\n    last: _dates.default.add(dateRange[dateRange.length - 1], 1, unit)\n  };\n}\n\nfunction eventSegments(event, range, accessors) {\n  var _endOfRange = endOfRange(range),\n      first = _endOfRange.first,\n      last = _endOfRange.last;\n\n  var slots = _dates.default.diff(first, last, 'day');\n\n  var start = _dates.default.max(_dates.default.startOf(accessors.start(event), 'day'), first);\n\n  var end = _dates.default.min(_dates.default.ceil(accessors.end(event), 'day'), last);\n\n  var padding = (0, _findIndex.default)(range, function (x) {\n    return _dates.default.eq(x, start, 'day');\n  });\n\n  var span = _dates.default.diff(start, end, 'day');\n\n  span = Math.min(span, slots);\n  span = Math.max(span, 1);\n  return {\n    event: event,\n    span: span,\n    left: padding + 1,\n    right: Math.max(padding + span, 1)\n  };\n}\n\nfunction eventLevels(rowSegments, limit) {\n  if (limit === void 0) {\n    limit = Infinity;\n  }\n\n  var i,\n      j,\n      seg,\n      levels = [],\n      extra = [];\n\n  for (i = 0; i < rowSegments.length; i++) {\n    seg = rowSegments[i];\n\n    for (j = 0; j < levels.length; j++) {\n      if (!segsOverlap(seg, levels[j])) break;\n    }\n\n    if (j >= limit) {\n      extra.push(seg);\n    } else {\n      ;\n      (levels[j] || (levels[j] = [])).push(seg);\n    }\n  }\n\n  for (i = 0; i < levels.length; i++) {\n    levels[i].sort(function (a, b) {\n      return a.left - b.left;\n    }); //eslint-disable-line\n  }\n\n  return {\n    levels: levels,\n    extra: extra\n  };\n}\n\nfunction inRange(e, start, end, accessors) {\n  var eStart = _dates.default.startOf(accessors.start(e), 'day');\n\n  var eEnd = accessors.end(e);\n\n  var startsBeforeEnd = _dates.default.lte(eStart, end, 'day'); // when the event is zero duration we need to handle a bit differently\n\n\n  var endsAfterStart = !_dates.default.eq(eStart, eEnd, 'minutes') ? _dates.default.gt(eEnd, start, 'minutes') : _dates.default.gte(eEnd, start, 'minutes');\n  return startsBeforeEnd && endsAfterStart;\n}\n\nfunction segsOverlap(seg, otherSegs) {\n  return otherSegs.some(function (otherSeg) {\n    return otherSeg.left <= seg.right && otherSeg.right >= seg.left;\n  });\n}\n\nfunction sortEvents(evtA, evtB, accessors) {\n  var startSort = +_dates.default.startOf(accessors.start(evtA), 'day') - +_dates.default.startOf(accessors.start(evtB), 'day');\n\n  var durA = _dates.default.diff(accessors.start(evtA), _dates.default.ceil(accessors.end(evtA), 'day'), 'day');\n\n  var durB = _dates.default.diff(accessors.start(evtB), _dates.default.ceil(accessors.end(evtB), 'day'), 'day');\n\n  return startSort || // sort by start Day first\n  Math.max(durB, 1) - Math.max(durA, 1) || // events spanning multiple days go first\n  !!accessors.allDay(evtB) - !!accessors.allDay(evtA) || // then allDay single day events\n  +accessors.start(evtA) - +accessors.start(evtB); // then sort by start time\n}"]},"metadata":{},"sourceType":"script"}