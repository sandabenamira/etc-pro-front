{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Assiduity/routes/BilletPass/FormDialog.js\";\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport { giveTicket } from '../../../../../actions/RegistreAction';\nimport IntlMessages from \"../../../../../util/IntlMessages\";\n\nclass FormDialog extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      open: false,\n      reason: \"Absence\",\n      emailParent: '',\n      dateBillet: moment().format('L'),\n      heureBillet: moment().format('LT')\n    };\n\n    this.handleSubmit = () => {\n      let data = {\n        reason: this.state.reason,\n        status: true,\n        delivred_by: localStorage.profileId,\n        student_call_id: this.props.callRegisterId,\n        time_stamp: moment().format(),\n        student_profile_id: this.props.studentProfileId\n      };\n      this.props.dispatch(giveTicket(data)); // if (resBillet) {\n      //   let apiEndpoint2 = `/parents/findOne?access_token=${localStorage.token}&filter={\"where\":{\"id\":` + this.props.parent_id + `}}`\n      //   classService.get(apiEndpoint2)\n      //     .then(res => {\n      //       if (res) {\n      //         //Envoyer mail au parent\n      //         let dataMailParent = {\n      //           sender_id: this.props.profileSupervisor,\n      //           receiver_id: res.data.profile_id,\n      //           subject: \"Votre enfant a recu un billet\",\n      //           message: resBillet.data.reason,\n      //           profile_id: res.data.profile_id,\n      //         }\n      //         let apiEndpoint3 = `/mails?access_token=${localStorage.token}`\n      //         classService.post(apiEndpoint3, dataMailParent)\n      //         //Envoyer mail au student\n      //         let dataMailStudent = {\n      //           sender_id: this.props.profileSupervisor,\n      //           receiver_id: this.props.profile_id,\n      //           subject: \"Votre avez recu un billet\",\n      //           message: resBillet.data.reason,\n      //           profile_id: this.props.profile_id,\n      //         }\n      //         classService.post(apiEndpoint3, dataMailStudent)\n      //       }\n      //     }).then(res => alert(\"Un Mail a été envoyer au Parent et a L'èleve avec succés\"))\n      // }\n\n      this.handleRequestClose();\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleClickOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        open: false\n      });\n    };\n  }\n\n  render() {\n    const {\n      address_mail\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"bg-primary text-white\",\n      onClick: this.handleClickOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"give.ticket\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.open,\n      onClose: this.handleRequestClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"ticket.title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      htmlFor: \"age-simple\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 48\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"ticket.name.student\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 52\n      }\n    }), \":\"), \" \", this.props.name, \" \", this.props.surname, \"  \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(InputLabel, {\n      htmlFor: \"age-simple\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 46\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"ticket.name.class\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 50\n      }\n    }), \":\"), \" \", this.props.class_name, \"  \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(InputLabel, {\n      htmlFor: \"age-simple\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 46\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"ticket.message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 51\n      }\n    })), \"  \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(InputLabel, {\n      htmlFor: \"age-simple\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 45\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"ticket.date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 50\n      }\n    }), \": \"), \" \", this.state.dateBillet, \" \\xA0\\xA0 \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 128\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"ticket.time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 132\n      }\n    }), \": \"), \" \", this.state.heureBillet), /*#__PURE__*/React.createElement(TextField, {\n      id: \"reason\",\n      onChange: this.handleChange('reason'),\n      autoFocus: true,\n      margin: \"dense\",\n      label: \"Motif\",\n      type: \"text\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(InputLabel, {\n      htmlFor: \"age-simple\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 45\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"ticket.responsible\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 50\n      }\n    }), \": \"), \" \", this.props.userName, \" \", this.props.userSurname, \" \")), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleRequestClose,\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.classes.formadd.buttonCancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 14\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"give.ticket\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default connect()(FormDialog);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Assiduity/routes/BilletPass/FormDialog.js"],"names":["React","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","InputLabel","moment","connect","giveTicket","IntlMessages","FormDialog","Component","state","open","reason","emailParent","dateBillet","format","heureBillet","handleSubmit","data","status","delivred_by","localStorage","profileId","student_call_id","props","callRegisterId","time_stamp","student_profile_id","studentProfileId","dispatch","handleRequestClose","handleChange","name","event","setState","target","value","handleClickOpen","render","address_mail","surname","class_name","userName","userSurname"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,UAAR,QAAyB,uCAAzB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;;AAEA,MAAMC,UAAN,SAAyBZ,KAAK,CAACa,SAA/B,CAAyC;AAAA;AAAA;AAAA,SACvCC,KADuC,GAC/B;AACNC,MAAAA,IAAI,EAAE,KADA;AAENC,MAAAA,MAAM,EAAE,SAFF;AAGNC,MAAAA,WAAW,EAAE,EAHP;AAINC,MAAAA,UAAU,EAAEV,MAAM,GAAGW,MAAT,CAAgB,GAAhB,CAJN;AAKNC,MAAAA,WAAW,EAACZ,MAAM,GAAGW,MAAT,CAAgB,IAAhB;AALN,KAD+B;;AAAA,SASvCE,YATuC,GASxB,MAAM;AACnB,UAAIC,IAAI,GAAG;AACTN,QAAAA,MAAM,EAAE,KAAKF,KAAL,CAAWE,MADV;AAETO,QAAAA,MAAM,EAAE,IAFC;AAGTC,QAAAA,WAAW,EAAGC,YAAY,CAACC,SAHlB;AAITC,QAAAA,eAAe,EAAC,KAAKC,KAAL,CAAWC,cAJlB;AAKTC,QAAAA,UAAU,EAAEtB,MAAM,GAAGW,MAAT,EALH;AAMTY,QAAAA,kBAAkB,EAAC,KAAKH,KAAL,CAAWI;AANrB,OAAX;AAQJ,WAAKJ,KAAL,CAAWK,QAAX,CAAoBvB,UAAU,CAACY,IAAD,CAA9B,EATuB,CAWf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEJ,WAAKY,kBAAL;AAED,KAnDsC;;AAAA,SAqDvCC,YArDuC,GAqDxBC,IAAI,IAAIC,KAAK,IAAI;AAC9B,WAAKC,QAAL,CAAc;AACZ,SAACF,IAAD,GAAQC,KAAK,CAACE,MAAN,CAAaC;AADT,OAAd;AAGD,KAzDsC;;AAAA,SA2DvCC,eA3DuC,GA2DrB,MAAM;AACtB,WAAKH,QAAL,CAAc;AAAEvB,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,KA7DsC;;AAAA,SA+DvCmB,kBA/DuC,GA+DlB,MAAM;AACzB,WAAKI,QAAL,CAAc;AAAEvB,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,KAjEsC;AAAA;;AAmEvC2B,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAmB,KAAKf,KAA9B;AAEA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAC,WADV;AACsB,MAAA,SAAS,EAAC,uBADhC;AAEE,MAAA,OAAO,EAAE,KAAKa,eAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF,eAOE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,KAAK3B,KAAL,CAAWC,IAAzB;AAA+B,MAAA,OAAO,EAAE,KAAKmB,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAc,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAd,CADF,eAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,MAAnC,OAAwF,KAAKN,KAAL,CAAWQ,IAAnG,OAA0G,KAAKR,KAAL,CAAWgB,OAArH,OADF,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eAGC,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,MAAlC,OAAqF,KAAKhB,KAAL,CAAWiB,UAAhG,OAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,eAKC,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAK,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,CAAlC,OALD,eAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAND,eAOA,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAK,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,OAAlC,OAAiF,KAAK/B,KAAL,CAAWI,UAA5F,6BAAqH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,OAArH,OAAmK,KAAKJ,KAAL,CAAWM,WAA9K,CAPA,eASC,oBAAC,SAAD;AACG,MAAA,EAAE,EAAC,QADN;AAEG,MAAA,QAAQ,EAAE,KAAKe,YAAL,CAAkB,QAAlB,CAFb;AAGG,MAAA,SAAS,MAHZ;AAIG,MAAA,MAAM,EAAC,OAJV;AAKG,MAAA,KAAK,EAAC,OALT;AAMG,MAAA,IAAI,EAAC,MANR;AAOG,MAAA,SAAS,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATD,eAkBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBD,eAkBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBN,eAmBA,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAK,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,oBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,OAAlC,OAAwF,KAAKP,KAAL,CAAWkB,QAAnG,OAA8G,KAAKlB,KAAL,CAAWmB,WAAzH,MAnBA,CAFF,eAkCE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKb,kBAAtB;AAA0C,MAAA,KAAK,EAAC,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,yCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADF,eAIE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKb,YAAtB;AAAoC,MAAA,KAAK,EAAC,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,CAlCF,CAPF,CADF;AAqDD;;AA3HsC;;AA8HzC,eAAeZ,OAAO,GAAGG,UAAH,CAAtB","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport {giveTicket} from '../../../../../actions/RegistreAction';\r\nimport IntlMessages from \"../../../../../util/IntlMessages\";\r\n\r\nclass FormDialog extends React.Component {\r\n  state = {\r\n    open: false,\r\n    reason: \"Absence\",\r\n    emailParent: '',\r\n    dateBillet: moment().format('L'),\r\n    heureBillet:moment().format('LT'),\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    let data = {\r\n      reason: this.state.reason,\r\n      status: true,\r\n      delivred_by:  localStorage.profileId,\r\n      student_call_id:this.props.callRegisterId,\r\n      time_stamp: moment().format(),\r\n      student_profile_id:this.props.studentProfileId\r\n    }\r\nthis.props.dispatch(giveTicket(data))\r\n  \r\n        // if (resBillet) {\r\n        //   let apiEndpoint2 = `/parents/findOne?access_token=${localStorage.token}&filter={\"where\":{\"id\":` + this.props.parent_id + `}}`\r\n        //   classService.get(apiEndpoint2)\r\n        //     .then(res => {\r\n        //       if (res) {\r\n        //         //Envoyer mail au parent\r\n        //         let dataMailParent = {\r\n        //           sender_id: this.props.profileSupervisor,\r\n        //           receiver_id: res.data.profile_id,\r\n        //           subject: \"Votre enfant a recu un billet\",\r\n        //           message: resBillet.data.reason,\r\n        //           profile_id: res.data.profile_id,\r\n        //         }\r\n        //         let apiEndpoint3 = `/mails?access_token=${localStorage.token}`\r\n        //         classService.post(apiEndpoint3, dataMailParent)\r\n\r\n        //         //Envoyer mail au student\r\n        //         let dataMailStudent = {\r\n        //           sender_id: this.props.profileSupervisor,\r\n        //           receiver_id: this.props.profile_id,\r\n        //           subject: \"Votre avez recu un billet\",\r\n        //           message: resBillet.data.reason,\r\n        //           profile_id: this.props.profile_id,\r\n        //         }\r\n        //         classService.post(apiEndpoint3, dataMailStudent)\r\n        //       }\r\n        //     }).then(res => alert(\"Un Mail a été envoyer au Parent et a L'èleve avec succés\"))\r\n        // }\r\n      \r\n    this.handleRequestClose();\r\n\r\n  };\r\n\r\n  handleChange = name => event => {\r\n    this.setState({\r\n      [name]: event.target.value\r\n    })\r\n  }\r\n\r\n  handleClickOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleRequestClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    const { address_mail } = this.props;\r\n    \r\n    return (\r\n      <div>\r\n        <Button\r\n          variant=\"contained\" className=\"bg-primary text-white\"\r\n          onClick={this.handleClickOpen}\r\n        >\r\n         {<IntlMessages id=\"give.ticket\" />}\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleRequestClose}>\r\n          <DialogTitle>{<IntlMessages id=\"ticket.title\" />}</DialogTitle>\r\n          <DialogContent>\r\n            <InputLabel htmlFor=\"age-simple\" > <b>{<IntlMessages id=\"ticket.name.student\" />}:</b> {this.props.name} {this.props.surname}  </InputLabel>\r\n          <br/>\r\n           <InputLabel htmlFor=\"age-simple\" ><b>{<IntlMessages id=\"ticket.name.class\" />}:</b> {this.props.class_name}  </InputLabel>\r\n           <br/>\r\n           <InputLabel htmlFor=\"age-simple\" ><b> {<IntlMessages id=\"ticket.message\" />}</b>  </InputLabel>\r\n           <br/>\r\n          <InputLabel htmlFor=\"age-simple\" ><b> {<IntlMessages id=\"ticket.date\" />}: </b> {this.state.dateBillet} &nbsp;&nbsp; <b>{<IntlMessages id=\"ticket.time\" />}: </b> {this.state.heureBillet}</InputLabel> \r\n           \r\n           <TextField\r\n              id=\"reason\"\r\n              onChange={this.handleChange('reason')}\r\n              autoFocus\r\n              margin=\"dense\"\r\n              label=\"Motif\"\r\n              type=\"text\"\r\n              fullWidth\r\n            />\r\n           <br/><br/>\r\n          <InputLabel htmlFor=\"age-simple\" ><b> {<IntlMessages id=\"ticket.responsible\" />}: </b> {this.props.userName} {this.props.userSurname} </InputLabel>\r\n          \r\n            {/* <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"email\"\r\n              onChange={this.handleChange('email')}\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              fullWidth\r\n              value={address_mail}\r\n            /> */}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleRequestClose} color=\"secondary\">\r\n            {<IntlMessages id=\"components.classes.formadd.buttonCancel\" />}\r\n            </Button>\r\n            <Button onClick={this.handleSubmit} color=\"primary\">\r\n             {<IntlMessages id=\"give.ticket\" />}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(FormDialog);"]},"metadata":{},"sourceType":"module"}