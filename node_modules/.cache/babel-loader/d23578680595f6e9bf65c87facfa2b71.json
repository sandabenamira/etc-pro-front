{"ast":null,"code":"import { callService } from '../_services/call.service';\nimport _ from 'lodash';\nimport { GET_PERMISSION_SETTING } from '../constants/ActionTypes';\nvar listPermissions = [{\n  id: 1,\n  Action_Fr: 'Ajouter un admin',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 2,\n  role: [1, 2, 3, 5]\n}, {\n  id: 2,\n  Action_Fr: 'Modifier un admin ',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 2,\n  role: [1, 3, 5]\n}, {\n  id: 3,\n  Action_Fr: 'Supprimer un admin  ',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 2,\n  role: [1, 3, 5, 6]\n}, {\n  id: 4,\n  Action_Fr: 'Consulter des admin',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 2,\n  role: [1, 2, 3, 7]\n}, {\n  id: 5,\n  Action_Fr: 'Ajouter un membre de direction ',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 2,\n  role: [1, 2, 3, 4]\n}, {\n  id: 6,\n  Action_Fr: 'Ajouter un devoir de maison  ',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 9,\n  role: [1, 2, 3, 5, 6]\n}, {\n  id: 7,\n  Action_Fr: 'Modifier un devoir de maison ',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 9,\n  role: [1, 2, 3, 5]\n}, {\n  id: 8,\n  Action_Fr: 'Supprimer un devoir de maison ',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 9,\n  role: [1, 2, 3, 5]\n}, {\n  id: 9,\n  Action_Fr: 'Consulter les devoirs de maisons',\n  Action_Ag: 'Add admin',\n  Action_Ar: 'أضف المسؤول',\n  moduleId: 9,\n  role: [1, 2, 3, 5]\n}];\nexport const getPermissionSetting = estabId => {\n  console.log(estabId, 'getPermissionSetting');\n  let id = parseInt(estabId, 10);\n  return dispatch => {\n    let apiEndpoint = `/establishments/${id}/permission?access_token=${localStorage.token}`;\n    console.log(typeof estabId, 'tyyyyyyype');\n    callService.get(apiEndpoint).then(response => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        dispatch({\n          type: GET_PERMISSION_SETTING,\n          payload: response.data.permissionList\n        });\n        console.log(response.data.permissionList, 'response response response');\n      }\n    });\n  };\n};\nexport const applyPermissionSetting = data => {\n  return dispatch => {\n    let apiEndpoint = `/permissions/attributePermission?access_token=${localStorage.token}`;\n    console.log(data, 'data aplyyyyyyy');\n    callService.put(apiEndpoint, data).then(response => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        dispatch({\n          type: GET_PERMISSION_SETTING,\n          payload: response.data.permissionList\n        });\n        console.log(response.data, 'response applyPermissionSetting response');\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/actions/PermissionAction.js"],"names":["callService","_","GET_PERMISSION_SETTING","listPermissions","id","Action_Fr","Action_Ag","Action_Ar","moduleId","role","getPermissionSetting","estabId","console","log","parseInt","dispatch","apiEndpoint","localStorage","token","get","then","response","type","payload","data","permissionList","applyPermissionSetting","put"],"mappings":"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","sourcesContent":["import { callService } from '../_services/call.service';\nimport _ from 'lodash';\nimport { GET_PERMISSION_SETTING } from '../constants/ActionTypes';\nvar listPermissions = [\n  {\n    id: 1,\n    Action_Fr: 'Ajouter un admin',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 2,\n    role: [1, 2, 3, 5],\n  },\n  {\n    id: 2,\n    Action_Fr: 'Modifier un admin ',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 2,\n    role: [1, 3, 5],\n  },\n  {\n    id: 3,\n    Action_Fr: 'Supprimer un admin  ',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 2,\n    role: [1, 3, 5, 6],\n  },\n  {\n    id: 4,\n    Action_Fr: 'Consulter des admin',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 2,\n    role: [1, 2, 3, 7],\n  },\n  {\n    id: 5,\n    Action_Fr: 'Ajouter un membre de direction ',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 2,\n    role: [1, 2, 3, 4],\n  },\n  {\n    id: 6,\n    Action_Fr: 'Ajouter un devoir de maison  ',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 9,\n    role: [1, 2, 3, 5, 6],\n  },\n  {\n    id: 7,\n    Action_Fr: 'Modifier un devoir de maison ',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 9,\n    role: [1, 2, 3, 5],\n  },\n  {\n    id: 8,\n    Action_Fr: 'Supprimer un devoir de maison ',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 9,\n    role: [1, 2, 3, 5],\n  },\n  {\n    id: 9,\n    Action_Fr: 'Consulter les devoirs de maisons',\n    Action_Ag: 'Add admin',\n    Action_Ar: 'أضف المسؤول',\n    moduleId: 9,\n    role: [1, 2, 3, 5],\n  },\n];\nexport const getPermissionSetting = (estabId) => {\n  console.log(estabId, 'getPermissionSetting');\n  let id = parseInt(estabId, 10);\n  return (dispatch) => {\n    let apiEndpoint = `/establishments/${id}/permission?access_token=${localStorage.token}`;\n    console.log(typeof estabId, 'tyyyyyyype');\n\n    callService.get(apiEndpoint).then((response) => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        dispatch({ type: GET_PERMISSION_SETTING, payload: response.data.permissionList });\n\n        console.log(response.data.permissionList, 'response response response');\n      }\n    });\n  };\n};\nexport const applyPermissionSetting = (data) => {\n  return (dispatch) => {\n    let apiEndpoint = `/permissions/attributePermission?access_token=${localStorage.token}`;\n    console.log(  data, 'data aplyyyyyyy');\n\n    callService.put(apiEndpoint, data).then((response) => {\n      if (response) {\n        // let listPermissionsuniq = _.uniqBy(response.data, 'fk_id_permission');\n        dispatch({ type: GET_PERMISSION_SETTING, payload: response.data.permissionList });\n\n        console.log(response.data, 'response applyPermissionSetting response');\n      }\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}