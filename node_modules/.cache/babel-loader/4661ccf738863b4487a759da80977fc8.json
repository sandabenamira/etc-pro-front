{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/Option/AddOption.js\";\nimport React from 'react';\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport languageData from '../../../../../components/LanguageSwitcher/data';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { getNameLanguage, getAppLanguage, initCalendar, alertSuccess, alertfailed } from '../../../../../actions/Setting';\nimport { TimePicker } from '@material-ui/pickers';\nimport { classService } from \"../../../../../_services/class.service\";\nimport { connect } from \"react-redux\";\n\nclass AddOption extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleStartTimeChange = time => {\n      this.setState({\n        selectedStartTime: time,\n        startTime: time.format('LT')\n      });\n    };\n\n    this.handleEndTimeChange = time => {\n      this.setState({\n        selectedEndTime: time,\n        endTime: time.format('LT')\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let apiEndpoint = `/settings/initLanguageAndTimeCalendar?access_token=${localStorage.token}`;\n      let data = {\n        \"app_lang\": this.state.appLang_id,\n        \"start_time_calendar\": this.state.startTime,\n        \"end_time_calendar\": this.state.endTime,\n        \"establishment_id\": this.props.establishment_id\n      };\n      classService.post(apiEndpoint, data).then(response => {\n        if (response) {\n          this.props.dispatch(getAppLanguage(this.state.appLang_id));\n          this.props.dispatch(initCalendar(this.state.startTime, this.state.endTime));\n          this.handleCancel();\n          this.props.dispatch(alertSuccess());\n        } else {\n          this.props.dispatch(alertfailed());\n        }\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.state = {\n      selectedStartTime: new Date(),\n      selectedEndTime: new Date(),\n      startTime: '',\n      endTime: '',\n      appLang_id: ''\n    };\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {}\n\n  handleCancel() {\n    this.setState({\n      selectedStartTime: new Date(),\n      selectedEndTime: new Date(),\n      startTime: '',\n      endTime: '',\n      appLang_id: ''\n    });\n  }\n\n  render() {\n    const {\n      selectedEndTime,\n      selectedStartTime\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"off\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      heading: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"component.etablishments.info.general\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 30\n        }\n      }),\n      styleName: \"col-lg-12 text-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"appLang_id\",\n      id: \"appLang_id\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"list.of.languages\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 44\n        }\n      }),\n      value: this.state.appLang_id,\n      onChange: this.handleChange('appLang_id'),\n      fullWidth: true,\n      SelectProps: {},\n      margin: \"normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 33\n      }\n    }, languageData.map((lang, index) => /*#__PURE__*/React.createElement(MenuItem, {\n      key: index,\n      value: lang.languageId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 41\n      }\n    }, getNameLanguage(lang.languageId))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      key: \"datetime_default\",\n      className: \"picker\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(TimePicker, {\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"start.hour.calendar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 48\n        }\n      }),\n      fullWidth: true,\n      value: selectedStartTime,\n      showTabs: false,\n      onChange: this.handleStartTimeChange,\n      leftArrowIcon: /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-arrow-back\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 56\n        }\n      }),\n      rightArrowIcon: /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-arrow-forward\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 57\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      key: \"datetime_default\",\n      className: \"picker\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(TimePicker, {\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"end.hour.calendar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 48\n        }\n      }),\n      fullWidth: true,\n      value: selectedEndTime,\n      showTabs: false,\n      onChange: this.handleEndTimeChange,\n      leftArrowIcon: /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-arrow-back\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 56\n        }\n      }),\n      rightArrowIcon: /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-arrow-forward\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 57\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 text-left \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"jr-btn bg-indigo text-white \",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.buttonAdd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 110\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"jr-btn bg-grey text-white \",\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.buttonCancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 121\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.auth.userProfile\n  };\n};\n\nexport default connect(mapStateToProps)(AddOption);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/Option/AddOption.js"],"names":["React","IntlMessages","CardBox","Button","TextField","languageData","MenuItem","getNameLanguage","getAppLanguage","initCalendar","alertSuccess","alertfailed","TimePicker","classService","connect","AddOption","Component","constructor","props","handleStartTimeChange","time","setState","selectedStartTime","startTime","format","handleEndTimeChange","selectedEndTime","endTime","handleSubmit","e","preventDefault","apiEndpoint","localStorage","token","data","state","appLang_id","establishment_id","post","then","response","dispatch","handleCancel","handleChange","name","event","target","value","Date","bind","componentDidMount","render","map","lang","index","languageId","mapStateToProps","userProfile","auth"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,OAAOC,OAAP,MAAoB,yCAApB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,YAAP,MAAyB,iDAAzB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,eAAT,EAA0BC,cAA1B,EAA0CC,YAA1C,EAAwDC,YAAxD,EAAsEC,WAAtE,QAAyF,gCAAzF;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,SAASC,YAAT,QAA6B,wCAA7B;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAGA,MAAMC,SAAN,SAAwBf,KAAK,CAACgB,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkBnBC,qBAlBmB,GAkBMC,IAAD,IAAU;AAC9B,WAAKC,QAAL,CAAc;AAAEC,QAAAA,iBAAiB,EAAEF,IAArB;AAA4BG,QAAAA,SAAS,EAAEH,IAAI,CAACI,MAAL,CAAY,IAAZ;AAAvC,OAAd;AACH,KApBkB;;AAAA,SAsBnBC,mBAtBmB,GAsBIL,IAAD,IAAU;AAC5B,WAAKC,QAAL,CAAc;AAAEK,QAAAA,eAAe,EAAEN,IAAnB;AAAyBO,QAAAA,OAAO,EAAEP,IAAI,CAACI,MAAL,CAAY,IAAZ;AAAlC,OAAd;AACH,KAxBkB;;AAAA,SA0BnBI,YA1BmB,GA0BHC,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,WAAW,GAAI,sDAAqDC,YAAY,CAACC,KAAM,EAA3F;AACD,UAAIC,IAAI,GAAE;AACT,oBAAa,KAAKC,KAAL,CAAWC,UADf;AAET,+BAAuB,KAAKD,KAAL,CAAWZ,SAFzB;AAGT,6BAAqB,KAAKY,KAAL,CAAWR,OAHvB;AAIT,4BAAoB,KAAKT,KAAL,CAAWmB;AAJtB,OAAV;AAOCxB,MAAAA,YAAY,CAACyB,IAAb,CAAkBP,WAAlB,EAA+BG,IAA/B,EACKK,IADL,CACUC,QAAQ,IAAI;AACd,YAAGA,QAAH,EAAY;AACR,eAAKtB,KAAL,CAAWuB,QAAX,CAAoBjC,cAAc,CAAC,KAAK2B,KAAL,CAAWC,UAAZ,CAAlC;AACA,eAAKlB,KAAL,CAAWuB,QAAX,CAAoBhC,YAAY,CAAC,KAAK0B,KAAL,CAAWZ,SAAZ,EAAuB,KAAKY,KAAL,CAAWR,OAAlC,CAAhC;AACA,eAAKe,YAAL;AACA,eAAKxB,KAAL,CAAWuB,QAAX,CAAoB/B,YAAY,EAAhC;AACH,SALD,MAKK;AACD,eAAKQ,KAAL,CAAWuB,QAAX,CAAoB9B,WAAW,EAA/B;AACH;AAEA,OAXT;AAaH,KAjDkB;;AAAA,SAmDnBgC,YAnDmB,GAmDJC,IAAI,IAAIC,KAAK,IAAI;AAC5B,WAAKxB,QAAL,CAAc;AAAE,SAACuB,IAAD,GAAQC,KAAK,CAACC,MAAN,CAAaC;AAAvB,OAAd;AACH,KArDkB;;AAEf,SAAKZ,KAAL,GAAa;AACTb,MAAAA,iBAAiB,EAAE,IAAI0B,IAAJ,EADV;AAETtB,MAAAA,eAAe,EAAE,IAAIsB,IAAJ,EAFR;AAGTzB,MAAAA,SAAS,EAAE,EAHF;AAITI,MAAAA,OAAO,EAAC,EAJC;AAKTS,MAAAA,UAAU,EAAC;AALF,KAAb;AAOA,SAAKM,YAAL,GAAoB,KAAKA,YAAL,CAAkBO,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKN,YAAL,GAAoB,KAAKA,YAAL,CAAkBM,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKrB,YAAL,GAAoB,KAAKA,YAAL,CAAkBqB,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG,CAEnB;;AAuCDR,EAAAA,YAAY,GAAG;AACX,SAAKrB,QAAL,CAAc;AACVC,MAAAA,iBAAiB,EAAE,IAAI0B,IAAJ,EADT;AAEVtB,MAAAA,eAAe,EAAE,IAAIsB,IAAJ,EAFP;AAGVzB,MAAAA,SAAS,EAAE,EAHD;AAIVI,MAAAA,OAAO,EAAC,EAJE;AAKVS,MAAAA,UAAU,EAAC;AALD,KAAd;AAOH;;AACDe,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEzB,MAAAA,eAAF;AAAmBJ,MAAAA;AAAnB,QAAyC,KAAKa,KAApD;AACA,wBAEI;AAAM,MAAA,YAAY,EAAC,KAAnB;AAAyB,MAAA,QAAQ,EAAE,KAAKP,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AACI,MAAA,OAAO,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAC,sCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADb;AACyE,MAAA,SAAS,EAAC,wBADnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AACI,MAAA,QAAQ,MADZ;AAEI,MAAA,IAAI,EAAC,YAFT;AAGI,MAAA,EAAE,EAAC,YAHP;AAII,MAAA,MAAM,MAJV;AAKI,MAAA,KAAK,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAC,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALX;AAMI,MAAA,KAAK,EAAE,KAAKO,KAAL,CAAWC,UANtB;AAOK,MAAA,QAAQ,EAAE,KAAKO,YAAL,CAAkB,YAAlB,CAPf;AASI,MAAA,SAAS,MATb;AAUI,MAAA,WAAW,EAAE,EAVjB;AAWI,MAAA,MAAM,EAAC,QAXX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAcKtC,YAAY,CAAC+C,GAAb,CAAiB,CAACC,IAAD,EAAOC,KAAP,kBACd,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,KAAf;AAAsB,MAAA,KAAK,EAAED,IAAI,CAACE,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKhD,eAAe,CAAC8C,IAAI,CAACE,UAAN,CADpB,CADH,CAdL,CADJ,CADJ,CADJ,CAFJ,eA4BU;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACF;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAC,kBAAT;AAA4B,MAAA,SAAS,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,UAAD;AACI,MAAA,KAAK,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAC,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADX;AAEI,MAAA,SAAS,MAFb;AAGI,MAAA,KAAK,EAAEjC,iBAHX;AAII,MAAA,QAAQ,EAAE,KAJd;AAKI,MAAA,QAAQ,EAAE,KAAKH,qBALnB;AAMI,MAAA,aAAa,eAAE;AAAG,QAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANnB;AAOI,MAAA,cAAc,eAAE;AAAG,QAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADJ,CADE,eAgBF;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAC,kBAAT;AAA4B,MAAA,SAAS,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,UAAD;AACI,MAAA,KAAK,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAC,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADX;AAEI,MAAA,SAAS,MAFb;AAGI,MAAA,KAAK,EAAEO,eAHX;AAII,MAAA,QAAQ,EAAE,KAJd;AAKI,MAAA,QAAQ,EAAE,KAAKD,mBALnB;AAMI,MAAA,aAAa,eAAE;AAAG,QAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANnB;AAOI,MAAA,cAAc,eAAE;AAAG,QAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADJ,CAhBE,eAgCE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADI,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEJ,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,SAAS,EAAC,8BAAtC;AAAqE,MAAA,IAAI,EAAC,QAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqF,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,6CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArF,CAFI,eAGJ,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,SAAS,EAAC,4BAAtC;AAAmE,MAAA,OAAO,EAAE,KAAKiB,YAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAgG,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,gDAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAhG,CAHI,CAhCF,CA5BV,CADJ,CAFJ;AA2EH;;AA9ImC;;AAgJxC,MAAMc,eAAe,GAAGrB,KAAK,IAAI;AAC7B,SAAO;AACLsB,IAAAA,WAAW,EAAEtB,KAAK,CAACuB,IAAN,CAAWD;AADnB,GAAP;AAGD,CAJH;;AAMA,eAAe3C,OAAO,CAAC0C,eAAD,CAAP,CAA0BzC,SAA1B,CAAf","sourcesContent":["import React from 'react';\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport languageData from '../../../../../components/LanguageSwitcher/data';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { getNameLanguage, getAppLanguage, initCalendar, alertSuccess, alertfailed } from '../../../../../actions/Setting';\nimport { TimePicker } from '@material-ui/pickers';\nimport { classService } from \"../../../../../_services/class.service\";\nimport { connect } from \"react-redux\";\n\n\nclass AddOption extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            selectedStartTime: new Date(),\n            selectedEndTime: new Date(),\n            startTime: '',\n            endTime:'',\n            appLang_id:''\n        }\n        this.handleCancel = this.handleCancel.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n\n    }\n\n    handleStartTimeChange = (time) => {\n        this.setState({ selectedStartTime: time , startTime: time.format('LT')});\n    };\n\n    handleEndTimeChange = (time) => {\n        this.setState({ selectedEndTime: time, endTime: time.format('LT') });\n    };\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        let apiEndpoint = `/settings/initLanguageAndTimeCalendar?access_token=${localStorage.token}`;\n       let data ={\n        \"app_lang\" : this.state.appLang_id,\n        \"start_time_calendar\": this.state.startTime,\n        \"end_time_calendar\": this.state.endTime,\n        \"establishment_id\": this.props.establishment_id\n\n        }\n        classService.post(apiEndpoint, data)\n            .then(response => {\n                if(response){\n                    this.props.dispatch(getAppLanguage(this.state.appLang_id));\n                    this.props.dispatch(initCalendar(this.state.startTime, this.state.endTime))\n                    this.handleCancel()\n                    this.props.dispatch(alertSuccess())\n                }else{\n                    this.props.dispatch(alertfailed())\n                }\n             \n                })\n            \n    }\n\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    handleCancel() {\n        this.setState({\n            selectedStartTime: new Date(),\n            selectedEndTime: new Date(),\n            startTime: '',\n            endTime:'',\n            appLang_id:''\n        })\n    };\n    render() {\n        const { selectedEndTime ,selectedStartTime } = this.state;\n        return (\n\n            <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n                <CardBox\n                    heading={<IntlMessages id=\"component.etablishments.info.general\" />} styleName=\"col-lg-12 text-primary\">\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group\">\n                                <TextField\n                                    required\n                                    name='appLang_id'\n                                    id=\"appLang_id\"\n                                    select\n                                    label={<IntlMessages id=\"list.of.languages\" />}\n                                    value={this.state.appLang_id}\n                                     onChange={this.handleChange('appLang_id')}\n\n                                    fullWidth\n                                    SelectProps={{}}\n                                    margin=\"normal\"\n                                >\n\n                                    {languageData.map((lang, index) =>\n                                        <MenuItem key={index} value={lang.languageId}>\n                                            {getNameLanguage(lang.languageId)}\n                                        </MenuItem>\n                                    )}\n                                </TextField>\n                            </div>\n                        </div>\n\n                    </div><div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group\">\n                                <div key=\"datetime_default\" className=\"picker\">\n\n                                    <TimePicker\n                                        label={<IntlMessages id=\"start.hour.calendar\" />}\n                                        fullWidth\n                                        value={selectedStartTime}\n                                        showTabs={false}\n                                        onChange={this.handleStartTimeChange}\n                                        leftArrowIcon={<i className=\"zmdi zmdi-arrow-back\" />}\n                                        rightArrowIcon={<i className=\"zmdi zmdi-arrow-forward\" />}\n                                    />\n                                </div>\n                            </div></div>\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group\">\n                                <div key=\"datetime_default\" className=\"picker\">\n\n                                    <TimePicker\n                                        label={<IntlMessages id=\"end.hour.calendar\" />}\n                                        fullWidth\n                                        value={selectedEndTime}\n                                        showTabs={false}\n                                        onChange={this.handleEndTimeChange}\n                                        leftArrowIcon={<i className=\"zmdi zmdi-arrow-back\" />}\n                                        rightArrowIcon={<i className=\"zmdi zmdi-arrow-forward\" />}\n                                    />\n                                </div>\n\n                            </div></div>\n                            <div className=\"col-md-12 text-left \">\n                        <br /><br />\n                        <Button variant=\"contained\" className=\"jr-btn bg-indigo text-white \" type=\"submit\" >{<IntlMessages id=\"components.establishments.formadd.buttonAdd\" />}</Button>\n                        <Button variant=\"contained\" className=\"jr-btn bg-grey text-white \" onClick={this.handleCancel}>{<IntlMessages id=\"components.establishments.formadd.buttonCancel\" />}</Button>\n                    </div>\n                    </div>\n                   \n                </CardBox>\n            </form>\n\n\n        );\n    }\n}\nconst mapStateToProps = state => {\n    return {\n      userProfile: state.auth.userProfile,\n    };\n  };\n\nexport default connect(mapStateToProps) (AddOption);"]},"metadata":{},"sourceType":"module"}