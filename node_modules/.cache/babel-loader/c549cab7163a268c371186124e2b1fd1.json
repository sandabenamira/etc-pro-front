{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Administration/routes/SchoolYear/SchoolYearEtab.js\";\nimport React from \"react\";\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport ContainerHeader from '../../../../../components/ContainerHeader/index';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddSchoolYearEtab from './AddSchoolYearEtab';\nimport { connect } from 'react-redux';\nimport { getEstablishment } from '../../../../../actions/establishmentAction';\nimport { getSchoolYearEtabs } from '../../../../../actions/SchoolYearEtabAction';\nimport axios from 'axios';\nimport baseUrl from '../../../../../config/config';\nimport { UncontrolledAlert } from 'reactstrap';\nimport SchoolYearEtabList from './SchoolYearEtabList';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { string } from \"prop-types\";\n\nclass SchoolYearEtab extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n      let schoolYearEtabsFilredLists = this.props.schoolYearEtabs.filter(element => element.school_year_id === event.target.value);\n      this.setState({\n        schoolYearEtabsFilredList: schoolYearEtabsFilredLists\n      });\n    };\n\n    this.state = {\n      addSchoolYearModal: false,\n      schoolYearsList: [],\n      school_year_id: '',\n      schoolYearEtabsFilredList: []\n    };\n    this.addSchoolYear = this.addSchoolYear.bind(this);\n    this.handleCancelModal = this.handleCancelModal.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getEstablishment());\n    this.props.dispatch(getSchoolYearEtabs());\n    axios.get(`${baseUrl.baseUrl}/school_years?access_token=${localStorage.token}`).then(res => {\n      this.setState({\n        schoolYearsList: res.data\n      });\n    });\n  }\n\n  addSchoolYear() {\n    this.setState({\n      addSchoolYearModal: true\n    });\n  }\n\n  handleCancelModal() {\n    this.setState({\n      addSchoolYearModal: false\n    });\n  }\n\n  render() {\n    var schoolYearEtabsFilred = [];\n\n    if (typeof this.state.school_year_id === 'string') {\n      schoolYearEtabsFilred = this.props.schoolYearEtabs;\n    } else {\n      schoolYearEtabsFilred = this.state.schoolYearEtabsFilredList;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ContainerHeader, {\n      match: this.props.match,\n      title: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"sidebar.components.schoolYears\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 28\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }), this.props.successStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, \" \", this.props.message, \" \")) : '', this.props.errorStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-danger bg-danger text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, \" \", this.props.message, \" \")) : '', /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 text-left d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      className: \"mt-0\",\n      variant: \"outlined\",\n      required: true,\n      name: \"school_year_id\",\n      id: \"school_year_id\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"sidebar.components.schoolYears\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 36\n        }\n      }),\n      value: this.state.school_year_id,\n      onChange: this.handleChange('school_year_id'),\n      SelectProps: {},\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      key: \"0\",\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"all.years\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 33\n      }\n    })), this.state.schoolYearsList.map(year => /*#__PURE__*/React.createElement(MenuItem, {\n      key: year.id,\n      value: year.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }, year.name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 text-right \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      size: \"small\",\n      color: \"primary\",\n      \"aria-label\": \"Add\",\n      onClick: this.addSchoolYear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(SchoolYearEtabList, {\n      schoolYearEtabs: schoolYearEtabsFilred,\n      establishmentsList: this.props.establishments,\n      schoolYearsList: this.state.schoolYearsList,\n      settings: this.props.settings,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }), this.state.addSchoolYearModal ? /*#__PURE__*/React.createElement(AddSchoolYearEtab, {\n      cancelModal: this.handleCancelModal,\n      establishments: this.props.establishments,\n      schoolYearsList: this.state.schoolYearsList,\n      schoolYearEtabs: this.props.schoolYearEtabs,\n      settings: this.props.settings,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }) : '');\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    establishments: state.establishment.remoteEstablishments,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n    settings: state.settings.locale.languageId\n  };\n};\n\nexport default connect(mapStateToProps)(SchoolYearEtab);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Administration/routes/SchoolYear/SchoolYearEtab.js"],"names":["React","IntlMessages","ContainerHeader","Fab","AddIcon","AddSchoolYearEtab","connect","getEstablishment","getSchoolYearEtabs","axios","baseUrl","UncontrolledAlert","SchoolYearEtabList","TextField","MenuItem","string","SchoolYearEtab","Component","constructor","props","handleChange","name","event","setState","target","value","schoolYearEtabsFilredLists","schoolYearEtabs","filter","element","school_year_id","schoolYearEtabsFilredList","state","addSchoolYearModal","schoolYearsList","addSchoolYear","bind","handleCancelModal","componentDidMount","dispatch","get","localStorage","token","then","res","data","render","schoolYearEtabsFilred","match","successStatus","message","errorStatus","map","year","id","establishments","settings","mapStateToProps","establishment","remoteEstablishments","alert","success","error","schoolYearEtab","remoteSchoolYearEtab","locale","languageId"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,OAAOC,eAAP,MAA4B,iDAA5B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,gBAAT,QAAiC,4CAAjC;AACA,SAASC,kBAAT,QAAmC,6CAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,SAASC,iBAAT,QAAkC,YAAlC;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,MAAT,QAAuB,YAAvB;;AAGA,MAAMC,cAAN,SAA6BhB,KAAK,CAACiB,SAAnC,CAA6C;AAEzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgCnBC,YAhCmB,GAgCJC,IAAI,IAAIC,KAAK,IAAI;AAC5B,WAAKC,QAAL,CAAc;AAAE,SAACF,IAAD,GAAQC,KAAK,CAACE,MAAN,CAAaC;AAAvB,OAAd;AACA,UAAIC,0BAA0B,GAAG,KAAKP,KAAL,CAAWQ,eAAX,CAA2BC,MAA3B,CAC5BC,OAAD,IAAaA,OAAO,CAACC,cAAR,KAA2BR,KAAK,CAACE,MAAN,CAAaC,KADxB,CAAjC;AAGA,WAAKF,QAAL,CAAc;AAAEQ,QAAAA,yBAAyB,EAAEL;AAA7B,OAAd;AACH,KAtCkB;;AAEf,SAAKM,KAAL,GAAa;AACTC,MAAAA,kBAAkB,EAAE,KADX;AAETC,MAAAA,eAAe,EAAE,EAFR;AAGTJ,MAAAA,cAAc,EAAE,EAHP;AAITC,MAAAA,yBAAyB,EAAE;AAJlB,KAAb;AAMA,SAAKI,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKhB,YAAL,GAAoB,KAAKA,YAAL,CAAkBgB,IAAlB,CAAuB,IAAvB,CAApB;AAIH;;AACDE,EAAAA,iBAAiB,GAAG;AAChB,SAAKnB,KAAL,CAAWoB,QAAX,CAAoBhC,gBAAgB,EAApC;AACA,SAAKY,KAAL,CAAWoB,QAAX,CAAoB/B,kBAAkB,EAAtC;AAEAC,IAAAA,KAAK,CACA+B,GADL,CACU,GAAE9B,OAAO,CAACA,OAAQ,8BAA6B+B,YAAY,CAACC,KAAM,EAD5E,EAEKC,IAFL,CAEUC,GAAG,IAAI;AACT,WAAKrB,QAAL,CAAc;AAAEW,QAAAA,eAAe,EAAEU,GAAG,CAACC;AAAvB,OAAd;AACH,KAJL;AAKH;;AACDV,EAAAA,aAAa,GAAG;AACZ,SAAKZ,QAAL,CAAc;AAAEU,MAAAA,kBAAkB,EAAE;AAAtB,KAAd;AACH;;AACDI,EAAAA,iBAAiB,GAAG;AAChB,SAAKd,QAAL,CAAc;AAAEU,MAAAA,kBAAkB,EAAE;AAAtB,KAAd;AAEH;;AAQDa,EAAAA,MAAM,GAAG;AACL,QAAIC,qBAAqB,GAAG,EAA5B;;AACA,QAAK,OAAO,KAAKf,KAAL,CAAWF,cAAlB,KAAqC,QAA1C,EAAqD;AACjDiB,MAAAA,qBAAqB,GAAG,KAAK5B,KAAL,CAAWQ,eAAnC;AACH,KAFD,MAEO;AACHoB,MAAAA,qBAAqB,GAAG,KAAKf,KAAL,CAAWD,yBAAnC;AACH;;AAID,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,eAAD;AACI,MAAA,KAAK,EAAE,KAAKZ,KAAL,CAAW6B,KADtB;AAEI,MAAA,KAAK,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAC,gCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAMK,KAAK7B,KAAL,CAAW8B,aAAX,gBACG,oBAAC,iBAAD;AAAmB,MAAA,SAAS,EAAC,6DAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAmC,KAAK9B,KAAL,CAAW+B,OAA9C,MAJJ,CADH,GAQO,EAdZ,EAgBK,KAAK/B,KAAL,CAAWgC,WAAX,gBACG,oBAAC,iBAAD;AAAmB,MAAA,SAAS,EAAC,2DAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,4CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAmC,KAAKhC,KAAL,CAAW+B,OAA9C,MAJJ,CADH,GAQO,EAxBZ,eA0BI;AAAK,MAAA,SAAS,EAAC,oDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AACI,MAAA,SAAS,EAAC,MADd;AAEI,MAAA,OAAO,EAAC,UAFZ;AAGI,MAAA,QAAQ,MAHZ;AAII,MAAA,IAAI,EAAC,gBAJT;AAKI,MAAA,EAAE,EAAC,gBALP;AAMI,MAAA,MAAM,MANV;AAOI,MAAA,KAAK,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAC,gCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPX;AAQI,MAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWF,cARtB;AASI,MAAA,QAAQ,EAAE,KAAKV,YAAL,CAAkB,gBAAlB,CATd;AAUI,MAAA,WAAW,EAAE,EAVjB;AAWI,MAAA,MAAM,EAAC,QAXX;AAYI,MAAA,SAAS,MAZb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAaI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAC,GAAd;AAAkB,MAAA,KAAK,EAAC,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAbJ,EAgBK,KAAKY,KAAL,CAAWE,eAAX,CAA2BkB,GAA3B,CAA+BC,IAAI,iBAChC,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,IAAI,CAACC,EAApB;AAAwB,MAAA,KAAK,EAAED,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKD,IAAI,CAAChC,IADV,CADH,CAhBL,CADJ,CADJ,eAyBI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AACI,MAAA,IAAI,EAAC,OADT;AAEI,MAAA,KAAK,EAAC,SAFV;AAGI,oBAAW,KAHf;AAII,MAAA,OAAO,EAAE,KAAKc,aAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADJ,CAzBJ,CA1BJ,eA+DI,oBAAC,kBAAD;AACI,MAAA,eAAe,EAAEY,qBADrB;AAEI,MAAA,kBAAkB,EAAE,KAAK5B,KAAL,CAAWoC,cAFnC;AAGI,MAAA,eAAe,EAAE,KAAKvB,KAAL,CAAWE,eAHhC;AAII,MAAA,QAAQ,EAAE,KAAKf,KAAL,CAAWqC,QAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/DJ,EAyEQ,KAAKxB,KAAL,CAAWC,kBAAX,gBACI,oBAAC,iBAAD;AACI,MAAA,WAAW,EAAE,KAAKI,iBADtB;AAEI,MAAA,cAAc,EAAE,KAAKlB,KAAL,CAAWoC,cAF/B;AAGI,MAAA,eAAe,EAAE,KAAKvB,KAAL,CAAWE,eAHhC;AAII,MAAA,eAAe,EAAE,KAAKf,KAAL,CAAWQ,eAJhC;AAKI,MAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWqC,QALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,GAUQ,EAnFhB,CADJ;AAyFH;;AA5IwC;;AA+I7C,MAAMC,eAAe,GAAIzB,KAAD,IAAW;AAC/B,SAAO;AACHuB,IAAAA,cAAc,EAAEvB,KAAK,CAAC0B,aAAN,CAAoBC,oBADjC;AAEHV,IAAAA,aAAa,EAAEjB,KAAK,CAAC4B,KAAN,CAAYC,OAFxB;AAGHV,IAAAA,WAAW,EAAEnB,KAAK,CAAC4B,KAAN,CAAYE,KAHtB;AAIHZ,IAAAA,OAAO,EAAElB,KAAK,CAAC4B,KAAN,CAAYV,OAJlB;AAKHvB,IAAAA,eAAe,EAAEK,KAAK,CAAC+B,cAAN,CAAqBC,oBALnC;AAMHR,IAAAA,QAAQ,EAAExB,KAAK,CAACwB,QAAN,CAAeS,MAAf,CAAsBC;AAN7B,GAAP;AAUH,CAXD;;AAaA,eAAe5D,OAAO,CAACmD,eAAD,CAAP,CAAyBzC,cAAzB,CAAf","sourcesContent":["import React from \"react\";\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport ContainerHeader from '../../../../../components/ContainerHeader/index';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddSchoolYearEtab from './AddSchoolYearEtab';\nimport { connect } from 'react-redux';\nimport { getEstablishment } from '../../../../../actions/establishmentAction';\nimport { getSchoolYearEtabs } from '../../../../../actions/SchoolYearEtabAction';\nimport axios from 'axios';\nimport baseUrl from '../../../../../config/config';\nimport { UncontrolledAlert } from 'reactstrap';\nimport SchoolYearEtabList from './SchoolYearEtabList';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { string } from \"prop-types\";\n\n\nclass SchoolYearEtab extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            addSchoolYearModal: false,\n            schoolYearsList: [],\n            school_year_id: '',\n            schoolYearEtabsFilredList: []\n        };\n        this.addSchoolYear = this.addSchoolYear.bind(this);\n        this.handleCancelModal = this.handleCancelModal.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n\n\n\n    }\n    componentDidMount() {\n        this.props.dispatch(getEstablishment());\n        this.props.dispatch(getSchoolYearEtabs());\n\n        axios\n            .get(`${baseUrl.baseUrl}/school_years?access_token=${localStorage.token}`)\n            .then(res => {\n                this.setState({ schoolYearsList: res.data });\n            });\n    }\n    addSchoolYear() {\n        this.setState({ addSchoolYearModal: true });\n    }\n    handleCancelModal() {\n        this.setState({ addSchoolYearModal: false });\n\n    }\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.value });\n        let schoolYearEtabsFilredLists = this.props.schoolYearEtabs.filter(\n            (element) => element.school_year_id === event.target.value\n        );\n        this.setState({ schoolYearEtabsFilredList: schoolYearEtabsFilredLists });\n    };\n    render() {\n        var schoolYearEtabsFilred = [];\n        if ((typeof this.state.school_year_id === 'string')) {\n            schoolYearEtabsFilred = this.props.schoolYearEtabs;\n        } else {\n            schoolYearEtabsFilred = this.state.schoolYearEtabsFilredList\n        }\n\n\n\n        return (\n            <div>\n                <ContainerHeader\n                    match={this.props.match}\n                    title={<IntlMessages id=\"sidebar.components.schoolYears\" />}\n                />\n\n                {this.props.successStatus ? (\n                    <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n                        <span className=\"icon-addon alert-addon\">\n                            <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n                        </span>\n                        <span className=\"d-inline-block\"> {this.props.message} </span>\n                    </UncontrolledAlert>\n                ) : (\n                        ''\n                    )}\n                {this.props.errorStatus ? (\n                    <UncontrolledAlert className=\"alert-addon-card bg-danger bg-danger text-white shadow-lg\">\n                        <span className=\"icon-addon alert-addon\">\n                            <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n                        </span>\n                        <span className=\"d-inline-block\"> {this.props.message} </span>\n                    </UncontrolledAlert>\n                ) : (\n                        ''\n                    )}\n                <div className=\"col-md-12 text-left d-flex justify-content-between\">\n                    <div className=\"col-md-4 text-left\">\n                        <TextField\n                            className=\"mt-0\"\n                            variant=\"outlined\"\n                            required\n                            name=\"school_year_id\"\n                            id=\"school_year_id\"\n                            select\n                            label={<IntlMessages id=\"sidebar.components.schoolYears\" />}\n                            value={this.state.school_year_id}\n                            onChange={this.handleChange('school_year_id')}\n                            SelectProps={{}}\n                            margin=\"normal\"\n                            fullWidth >\n                            <MenuItem key=\"0\" value=\"0\">\n                                <IntlMessages id=\"all.years\" />\n                            </MenuItem>\n                            {this.state.schoolYearsList.map(year => (\n                                <MenuItem key={year.id} value={year.id}>\n                                    {year.name}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    </div>\n                    <div className=\"col-md-2 text-right \" >\n                        <Fab\n                            size=\"small\"\n                            color=\"primary\"\n                            aria-label=\"Add\"\n                            onClick={this.addSchoolYear}\n                        >\n                            <AddIcon />\n                        </Fab>\n                    </div>\n\n                </div>\n                <SchoolYearEtabList\n                    schoolYearEtabs={schoolYearEtabsFilred}\n                    establishmentsList={this.props.establishments}\n                    schoolYearsList={this.state.schoolYearsList}\n                    settings={this.props.settings}\n\n\n\n                />\n                {\n                    this.state.addSchoolYearModal ? (\n                        <AddSchoolYearEtab\n                            cancelModal={this.handleCancelModal}\n                            establishments={this.props.establishments}\n                            schoolYearsList={this.state.schoolYearsList}\n                            schoolYearEtabs={this.props.schoolYearEtabs}\n                            settings={this.props.settings}\n\n                        />\n                    ) : (\n                            ''\n                        )\n                }\n            </div >\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        establishments: state.establishment.remoteEstablishments,\n        successStatus: state.alert.success,\n        errorStatus: state.alert.error,\n        message: state.alert.message,\n        schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n        settings: state.settings.locale.languageId,\n\n\n    };\n};\n\nexport default connect(mapStateToProps)(SchoolYearEtab);\n\n\n"]},"metadata":{},"sourceType":"module"}