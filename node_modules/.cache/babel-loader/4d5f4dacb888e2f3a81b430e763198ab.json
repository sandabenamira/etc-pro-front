{"ast":null,"code":"import { FETCH_ALL_ROLE, ADD_USER, GET_ALL_USERS_FOR_ADMIN, GET_ALL_USERS_FOR_SUPER_ADMIN, EDIT_USER, DELETE_USER, ARCHIVED_USERS, SHOW_LOADER, HIDE_LOADER } from \"../constants/ActionTypes\";\nimport { roleIdSuperAdmin, roleIdAdmin, roleIdProfessor, roleIdStudent, roleIdDirector, roleIdParent, roleIdSupervisor } from \"../config/config\";\nconst initialState = {\n  roles: [],\n  users: [],\n  archivedUsers: [],\n  allUsers: [],\n  students: [],\n  parents: [],\n  professors: [],\n  admins: [],\n  directors: [],\n  supervisors: [],\n  userLoading: false\n};\nexport default function (state = initialState, action) {\n  if (action.type === FETCH_ALL_ROLE) {\n    return Object.assign({}, state, {\n      roles: action.payload\n    });\n  }\n\n  if (action.type === GET_ALL_USERS_FOR_ADMIN) {\n    let parents = action.payload.filter(element => element.roleId === roleIdParent);\n    let students = action.payload.filter(element => element.roleId === roleIdStudent);\n    let professors = action.payload.filter(element => element.roleId === roleIdProfessor);\n    let admins = action.payload.filter(element => element.roleId === roleIdAdmin);\n    let directors = action.payload.filter(element => element.roleId === roleIdDirector);\n    let supervisors = action.payload.filter(element => element.roleId === roleIdSupervisor);\n    return Object.assign({}, state, {\n      users: action.payload,\n      parents: parents,\n      students: students,\n      professors: professors,\n      admins: admins,\n      directors: directors,\n      supervisors: supervisors\n    });\n  }\n\n  if (action.type === GET_ALL_USERS_FOR_SUPER_ADMIN) {\n    return Object.assign({}, state, {\n      allUsers: action.payload,\n      userLoading: false\n    });\n  }\n\n  if (action.type === ADD_USER) {\n    return Object.assign({}, state, {\n      users: state.users.concat(action.payload),\n      userLoading: false\n    });\n  }\n\n  if (action.type === EDIT_USER) {\n    return Object.assign({}, state, {\n      users: [...state.users.filter(element => element.id !== action.payload.id), action.payload]\n    });\n  }\n\n  if (action.type === DELETE_USER) {\n    return Object.assign({}, state, {\n      users: [...state.users.filter(element => element.id !== action.payload.id)],\n      archivedUsers: state.archivedUsers.concat(action.payload)\n    });\n  }\n\n  if (action.type === SHOW_LOADER) {\n    return Object.assign({}, state, {\n      userLoading: true\n    });\n  }\n\n  if (action.type === HIDE_LOADER) {\n    return Object.assign({}, state, {\n      userLoading: false\n    });\n  }\n\n  return state;\n}","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/reducers/usersReducer.js"],"names":["FETCH_ALL_ROLE","ADD_USER","GET_ALL_USERS_FOR_ADMIN","GET_ALL_USERS_FOR_SUPER_ADMIN","EDIT_USER","DELETE_USER","ARCHIVED_USERS","SHOW_LOADER","HIDE_LOADER","roleIdSuperAdmin","roleIdAdmin","roleIdProfessor","roleIdStudent","roleIdDirector","roleIdParent","roleIdSupervisor","initialState","roles","users","archivedUsers","allUsers","students","parents","professors","admins","directors","supervisors","userLoading","state","action","type","Object","assign","payload","filter","element","roleId","concat","id"],"mappings":"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","sourcesContent":["import {\n  FETCH_ALL_ROLE,\n  ADD_USER,\n  GET_ALL_USERS_FOR_ADMIN,\n  GET_ALL_USERS_FOR_SUPER_ADMIN,\n  EDIT_USER,\n  DELETE_USER,\n  ARCHIVED_USERS,\n  SHOW_LOADER,\n  HIDE_LOADER,\n} from \"../constants/ActionTypes\";\nimport {\n  roleIdSuperAdmin,\n  roleIdAdmin,\n  roleIdProfessor,\n  roleIdStudent,\n  roleIdDirector,\n  roleIdParent,\n  roleIdSupervisor,\n} from \"../config/config\";\nconst initialState = {\n  roles: [],\n  users: [],\n  archivedUsers: [],\n  allUsers: [],\n  students: [],\n  parents: [],\n  professors: [],\n  admins: [],\n  directors: [],\n  supervisors: [],\n  userLoading: false,\n};\n\nexport default function(state = initialState, action) {\n  if (action.type === FETCH_ALL_ROLE) {\n    return Object.assign({}, state, {\n      roles: action.payload,\n    });\n  }\n  if (action.type === GET_ALL_USERS_FOR_ADMIN) {\n    let parents = action.payload.filter(\n      (element) => element.roleId === roleIdParent\n    );\n    let students = action.payload.filter(\n      (element) => element.roleId === roleIdStudent\n    );\n    let professors = action.payload.filter(\n      (element) => element.roleId === roleIdProfessor\n    );\n    let admins = action.payload.filter(\n      (element) => element.roleId === roleIdAdmin\n    );\n    let directors = action.payload.filter(\n      (element) => element.roleId === roleIdDirector\n    );\n    let supervisors = action.payload.filter(\n      (element) => element.roleId === roleIdSupervisor\n    );\n\n    return Object.assign({}, state, {\n      users: action.payload,\n      parents: parents,\n      students: students,\n      professors: professors,\n      admins: admins,\n      directors: directors,\n      supervisors: supervisors,\n    });\n  }\n  if (action.type === GET_ALL_USERS_FOR_SUPER_ADMIN) {\n    return Object.assign({}, state, {\n      allUsers: action.payload,\n      userLoading: false,\n    });\n  }\n  if (action.type === ADD_USER) {\n    return Object.assign({}, state, {\n      users: state.users.concat(action.payload),\n      userLoading: false,\n    });\n  }\n\n  if (action.type === EDIT_USER) {\n    return Object.assign({}, state, {\n      users: [\n        ...state.users.filter((element) => element.id !== action.payload.id),\n        action.payload,\n      ],\n    });\n  }\n\n  if (action.type === DELETE_USER) {\n    return Object.assign({}, state, {\n      users: [\n        ...state.users.filter((element) => element.id !== action.payload.id),\n      ],\n      archivedUsers: state.archivedUsers.concat(action.payload),\n    });\n  }\n  if (action.type === SHOW_LOADER) {\n    return Object.assign({}, state, {\n      userLoading: true,\n    });\n  }\n  if (action.type === HIDE_LOADER) {\n    return Object.assign({}, state, {\n      userLoading: false,\n    });\n  }\n\n  return state;\n}\n"]},"metadata":{},"sourceType":"module"}