{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/UsersManagement/Users.js\";\nimport React from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport { connect } from 'react-redux';\nimport ArchiveUsers from './ArchiveUsers';\nimport UsersList from './UsersList';\nimport { UncontrolledAlert } from 'reactstrap';\nimport AddUsers from './AddUsers';\nimport { getAllRole } from \"../../../../../actions/usersAction\";\nimport { getSchoolYearEtabs } from \"../../../../../actions/SchoolYearEtabAction\";\nimport countriesList from \"../../../../../constants/const\";\nimport { addUsers } from '../../../../../actions/usersAction';\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeAlerte = name => {\n      this.setState({\n        sessionExist: true,\n        messageAlerte: \"Il existe déja une licence pour cet etablissement\"\n      });\n      setTimeout(() => {\n        this.setState({\n          sessionExist: false,\n          messageAlerte: \"\"\n        });\n      }, 4000);\n    };\n\n    this.handleChangeEducationType = name => event => {\n      let obj = JSON.parse(event.target.value);\n      this.setState({\n        educationItem: obj,\n        educationTypeId: obj.id\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n      console.log(event.target.value);\n    };\n\n    this.handleChangeBirthdayDate = date => {\n      this.setState({\n        birthdayDate: date\n      });\n    };\n\n    this.handleChangeRole = selectedOption => {\n      this.setState({\n        roleId: selectedOption.id,\n        roleName: selectedOption.label\n      }, () => console.log(\"roleId\", this.state.roleId));\n    };\n\n    this.handleChangeSchoolYear = selectedOption => {\n      this.setState({\n        schoolyearId: selectedOption.label\n      }, () => console.log(\"roleId\", this.state.schoolyearId));\n    };\n\n    this.handleChangeClassRoom = selectedOption => {\n      this.setState({\n        classRoomId: selectedOption.id\n      }, () => console.log(\"roleId\", this.state.classRoomId));\n    };\n\n    this.handleChangeSubject = selectedOption => {\n      this.setState({\n        subjectId: selectedOption.id\n      }, () => console.log(\"roleId\", this.state.subjectId));\n    };\n\n    this.handleChangeParent = selectedOption => {\n      this.setState({\n        parentId: selectedOption.id\n      }, () => console.log(\"roleId\", this.state.parentId));\n    };\n\n    this.handleChangeStudent = selectedOption => {\n      this.setState({\n        studentId: selectedOption.id\n      }, () => console.log(\"roleId\", this.state.studentId));\n    };\n\n    this.handleChangeCountries = selectedOption => {\n      this.setState({\n        userCountry: selectedOption.id\n      }, () => console.log(\"code\", this.state.userCountry));\n    };\n\n    this.uploadPhoto = e => {\n      if (e.target.files[0] !== undefined) {\n        let file = e.target.files[0];\n        this.setState({\n          userPhoto: file,\n          photoText: file.name\n        });\n        console.log(\"uploadphoto\", this.state.userPhoto);\n      } else {\n        this.setState({\n          messageAlerte: \"Vous n'avez pas choisir une photo\",\n          alerteFiltre: true\n        });\n        setTimeout(() => {\n          this.setState({\n            messageAlerte: '',\n            alerteFiltre: false\n          });\n        }, 4000);\n      }\n    };\n\n    this.openArchive = () => {\n      console.log('KKKKKKKK');\n      this.setState(previousState => ({\n        openArchive: !previousState.openArchive\n      }));\n    };\n\n    this.state = {\n      listRoles: [],\n      listSchoolYears: [],\n      roleId: '',\n      roleName: '',\n      schoolyearId: '',\n      classRoomId: '',\n      subjectId: '',\n      parentId: '',\n      studentId: '',\n      userName: \"\",\n      userLastName: \"\",\n      userNationnality: \"\",\n      userCIN: '',\n      userID: '',\n      userMail: '',\n      userPhoneNumber: '',\n      userAdress: \"\",\n      userCountry: \"\",\n      userZipCode: \"\",\n      userPhoto: \"\",\n      userGender: \"\",\n      birthdayDate: new Date(),\n      birthdayPlace: \"\",\n      countriesList: [],\n      UsefulInformation: \"\",\n      userPapiersFiles: [],\n      nameUserPapiersFiles: [],\n      isOpen: false,\n      openArchive: false,\n      start_date: new Date(),\n      end_date: new Date(),\n      isOpenArchive: false,\n      messageAlerte: '',\n      photoText: '',\n      nameFiles: []\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n    this.handleChangeBirthdayDate = this.handleChangeBirthdayDate.bind(this);\n    this.openArchiveModal = this.openArchiveModal.bind(this);\n    this.handleChangeAlerte = this.handleChangeAlerte.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeSchoolYear = this.handleChangeSchoolYear.bind(this);\n    this.handleChangeClassRoom = this.handleChangeClassRoom.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.handleChangeParent = this.handleChangeParent.bind(this);\n    this.handleChangeStudent = this.handleChangeStudent.bind(this);\n    this.handleChangeCountries = this.handleChangeCountries.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.uploadPhoto = this.uploadPhoto.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n  }\n\n  openArchiveModal() {\n    this.setState(previousState => ({\n      isOpenArchive: !previousState.isOpenArchive\n    }));\n  }\n\n  handleCancel() {\n    this.setState({\n      isOpen: false\n    });\n  } // openAddModal() {\n  //   this.setState({ isOpen: true });\n  // }\n\n\n  openAddModal() {\n    this.setState(previousState => ({\n      isOpen: !previousState.isOpen\n    }));\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.openAddModal();\n    let data = {\n      name: this.state.userName,\n      surname: this.state.userLastName,\n      gender: this.state.userGender,\n      dateOfBirth: this.state.birthdayDate,\n      placeOfBirth: this.state.birthdayPlace,\n      address: this.state.userAdress,\n      nationality: this.state.userNationnality,\n      phone: this.state.userPhoneNumber,\n      status: true,\n      cin: this.state.userCIN,\n      zipCode: this.state.userZipCode,\n      userCountry: this.state.userCountry,\n      userPhoto: this.state.userPhoto,\n      userPapiersFiles: this.state.userPapiersFiles,\n      name_ar: \"string\",\n      surname_ar: \"string\",\n      email: this.state.userMail,\n      roleId: this.props.userProfile.role_id,\n      establishmentId: this.props.userProfile.establishment_id\n    };\n    this.props.addUsers(data);\n    console.log(\"data user\", data);\n    this.setState({\n      userName: \"\",\n      userLastName: \"\",\n      gender: \"\",\n      birthdayDate: new Date(),\n      birthdayPlace: \"\",\n      userAdress: \"\",\n      userNationnality: \"\",\n      userPhoneNumber: \"\",\n      status: true,\n      userCIN: \"\",\n      userZipCode: \"\",\n      userPhoto: \"\",\n      userPapiersfiles: [],\n      userCountry: \"\",\n      name_ar: \"\",\n      surname_ar: \"\",\n      email: \"\"\n    });\n  }\n\n  handleArchive(event) {\n    event.preventDefault();\n    this.openAddModal();\n    this.setState({});\n  }\n\n  attachFile(e) {\n    var oldFiles = this.state.userPapiersFiles;\n    var files = Object.values(e.target.files);\n    var nameFiles = this.state.nameUserPapiersFiles;\n\n    if (files !== undefined && this.state.nameUserPapiersFiles.length + files.length < 6) {\n      files.map(element => {\n        nameFiles.push(element.name);\n        oldFiles.push(element);\n      });\n      this.setState({\n        userPapiersfiles: oldFiles,\n        nameFiles\n      });\n    } else {\n      this.setState({\n        messageAlerte: 'vous avez dépasser 5 fichiers',\n        alerteStatus: true\n      });\n      setTimeout(() => {\n        this.setState({\n          messageAlerte: '',\n          alerteStatus: false\n        });\n      }, 4000);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.usersReducer !== this.props.usersReducer) {\n      let listRoles = [];\n      listRoles = this.props.usersReducer.roles.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        listRoles: listRoles\n      });\n    }\n\n    if (prevProps.schoolYearEtabs !== this.props.schoolYearEtabs) {\n      let listSchoolYears = [];\n      listSchoolYears = this.props.schoolYearEtabs.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.startDate = element.start_date;\n        object.endtDate = element.end_date;\n        return object;\n      });\n      let countriesListUser = [];\n      console.log();\n      countriesListUser = countriesList.countriesList.map(element => {\n        var object = {};\n        object.label = element.name_fr;\n        object.id = element.code;\n        object.value = element.code;\n        return object;\n      });\n      this.setState({\n        listSchoolYears: listSchoolYears,\n        countriesList: countriesListUser\n      });\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    this.props.getAllRole();\n    this.props.getSchoolYearEtabs();\n  }\n\n  render() {\n    console.log(\"userPapiersfiles\", this.state.userPapiersfiles);\n    console.log(\"userProfile\", this.props.userProfile);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      style: {\n        marginLeft: \"5%\",\n        marginRight: \"10%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"  d-flex flex-column mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }\n    }, this.state.sessionExist ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-danger text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }, \" \", this.state.messageAlerte, \" \")) : \"\", this.props.successStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 15\n      }\n    }, \" \", this.props.message, \" \")) : \"\", this.state.alerteFiltre ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 15\n      }\n    }, \" \", this.state.messageAlerte, \" \")) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: \"90%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 col-sm-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AddUsers, {\n      openAddModal: this.openAddModal,\n      handleCancel: this.handleCancel,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      handleArchive: this.handleArchive,\n      handleChangeRole: this.handleChangeRole,\n      handleChangeSchoolYear: this.handleChangeSchoolYear,\n      handleChangeClassRoom: this.handleChangeClassRoom,\n      handleChangeBirthdayDate: this.handleChangeBirthdayDate,\n      handleChangeSubject: this.handleChangeSubject,\n      handleChangeParent: this.handleChangeParent,\n      handleChangeStudent: this.handleChangeStudent,\n      handleChangeCountries: this.handleChangeCountries,\n      attachFile: this.attachFile,\n      uploadPhoto: this.uploadPhoto,\n      openArchive: this.openArchive,\n      values: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"add-service\",\n      yes: () => /*#__PURE__*/React.createElement(React.Fragment, null, this.state.openArchive ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(ArchiveUsers, {\n        openArchive: this.openArchive,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 25\n        }\n      })) : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 15\n      }\n    })), !this.state.openArchive ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: \"90%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 col-sm-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(UsersList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }\n    }))) : \"\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    usersReducer: state.usersReducer,\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n    schoolSessions: state.schoolSessionReducer.schoolSessions,\n    educationTypes: state.EstabTypes.educationTypes\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAllRole,\n  getSchoolYearEtabs,\n  addUsers\n})(Users);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/UsersManagement/Users.js"],"names":["React","CardBox","connect","ArchiveUsers","UsersList","UncontrolledAlert","AddUsers","getAllRole","getSchoolYearEtabs","countriesList","addUsers","Can","RoleContext","Users","Component","constructor","props","handleChangeAlerte","name","setState","sessionExist","messageAlerte","setTimeout","handleChangeEducationType","event","obj","JSON","parse","target","value","educationItem","educationTypeId","id","handleChange","console","log","handleChangeBirthdayDate","date","birthdayDate","handleChangeRole","selectedOption","roleId","roleName","label","state","handleChangeSchoolYear","schoolyearId","handleChangeClassRoom","classRoomId","handleChangeSubject","subjectId","handleChangeParent","parentId","handleChangeStudent","studentId","handleChangeCountries","userCountry","uploadPhoto","e","files","undefined","file","userPhoto","photoText","alerteFiltre","openArchive","previousState","listRoles","listSchoolYears","userName","userLastName","userNationnality","userCIN","userID","userMail","userPhoneNumber","userAdress","userZipCode","userGender","Date","birthdayPlace","UsefulInformation","userPapiersFiles","nameUserPapiersFiles","isOpen","start_date","end_date","isOpenArchive","nameFiles","openAddModal","bind","handleCancel","handleSubmit","handleArchive","openArchiveModal","attachFile","preventDefault","data","surname","gender","dateOfBirth","placeOfBirth","address","nationality","phone","status","cin","zipCode","name_ar","surname_ar","email","userProfile","role_id","establishmentId","establishment_id","userPapiersfiles","oldFiles","Object","values","length","map","element","push","alerteStatus","componentDidUpdate","prevProps","usersReducer","roles","object","schoolYearEtabs","startDate","endtDate","countriesListUser","name_fr","code","UNSAFE_componentWillMount","render","marginLeft","marginRight","successStatus","message","width","role","mapStateToProps","auth","alert","success","errorStatus","error","schoolYearEtab","remoteSchoolYearEtab","schoolSessions","schoolSessionReducer","educationTypes","EstabTypes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport { connect } from 'react-redux';\nimport ArchiveUsers from './ArchiveUsers';\nimport UsersList from './UsersList';\nimport { UncontrolledAlert } from 'reactstrap';\nimport AddUsers from './AddUsers';\nimport { getAllRole } from \"../../../../../actions/usersAction\";\nimport { getSchoolYearEtabs } from \"../../../../../actions/SchoolYearEtabAction\";\nimport countriesList from \"../../../../../constants/const\";\nimport { addUsers } from '../../../../../actions/usersAction';\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listRoles:[],\n      listSchoolYears:[],\n      roleId:'',\n      roleName:'',\n      schoolyearId:'',\n      classRoomId:'',\n      subjectId:'',\n      parentId:'',\n      studentId:'',\n      userName:\"\",\n      userLastName:\"\",\n      userNationnality:\"\",\n      userCIN:'',\n      userID:'',\n      userMail:'',\n      userPhoneNumber:'',\n      userAdress:\"\",\n      userCountry:\"\",\n      userZipCode:\"\",\n      userPhoto:\"\",\n      userGender:\"\",\n      birthdayDate:new Date(),\n      birthdayPlace:\"\",\n      countriesList:[],\n       UsefulInformation:\"\",\n       userPapiersFiles: [],\n      nameUserPapiersFiles: [],\n      isOpen: false,\n      openArchive: false,\n       start_date: new Date(),\n      end_date: new Date(),\n      isOpenArchive: false,\n        messageAlerte: '',\n       photoText:'',\n       nameFiles:[]\n       \n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n    this.handleChangeBirthdayDate = this.handleChangeBirthdayDate.bind(this);\n     this.openArchiveModal = this.openArchiveModal.bind(this);\n     this.handleChangeAlerte = this.handleChangeAlerte.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeSchoolYear = this.handleChangeSchoolYear.bind(this);\n    this.handleChangeClassRoom = this.handleChangeClassRoom.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.handleChangeParent = this.handleChangeParent.bind(this);\n    this.handleChangeStudent = this.handleChangeStudent.bind(this);\n    this.handleChangeCountries = this.handleChangeCountries.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.uploadPhoto = this.uploadPhoto.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n\n    \n    \n    \n    \n  }\n\n  handleChangeAlerte = (name) => {\n    this.setState({\n      sessionExist: true,\n      messageAlerte: \"Il existe déja une licence pour cet etablissement\",\n    });\n    setTimeout(() => {\n      this.setState({ sessionExist: false, messageAlerte: \"\" });\n    }, 4000);\n  };\n  handleChangeEducationType = (name) => (event) => {\n    let obj = JSON.parse(event.target.value);\n\n    this.setState({ educationItem: obj, educationTypeId: obj.id });\n  };\n  openArchiveModal() {\n    this.setState((previousState) => ({\n      isOpenArchive: !previousState.isOpenArchive,\n    }));\n  }\n  handleCancel() {\n    this.setState({ isOpen: false });\n  }\n  // openAddModal() {\n  //   this.setState({ isOpen: true });\n  // }\n  openAddModal() {\n    this.setState((previousState) => ({\n      isOpen: !previousState.isOpen,\n    }));\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n     this.openAddModal();\n     let data = {\n      name: this.state.userName,\n      surname: this.state.userLastName,\n      gender: this.state.userGender,\n      dateOfBirth: this.state.birthdayDate,\n      placeOfBirth:this.state.birthdayPlace,\n      address: this.state.userAdress,\n      nationality:this.state.userNationnality,\n      phone: this.state.userPhoneNumber,\n      status: true,\n      cin: this.state.userCIN,\n      zipCode: this.state.userZipCode,\n      userCountry:this.state.userCountry,\n      userPhoto: this.state.userPhoto,\n      userPapiersFiles:this.state.userPapiersFiles,\n       name_ar: \"string\",\n      surname_ar: \"string\",\n      email: this.state.userMail,\n      roleId:this.props.userProfile.role_id,\n       establishmentId:this.props.userProfile.establishment_id,\n \n     }\n     this.props.addUsers(data);\n     console.log(\"data user\",data)\n     this.setState({\n      userName:\"\",\n      userLastName:\"\",\n      gender: \"\",\n      birthdayDate: new Date (),\n      birthdayPlace: \"\",\n      userAdress: \"\",\n      userNationnality: \"\",\n      userPhoneNumber: \"\",\n      status: true,\n      userCIN: \"\",\n      userZipCode: \"\",\n      userPhoto: \"\",\n      userPapiersfiles:[],\n      userCountry:\"\",\n       name_ar: \"\",\n      surname_ar: \"\",\n      email: \"\",\n      \n\n    });\n     \n  }\n\n  handleArchive(event) {\n    event.preventDefault();\n    this.openAddModal();\n    this.setState({});\n  }\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n    console.log(event.target.value)\n  };\n  handleChangeBirthdayDate = (date) => {\n    this.setState({ birthdayDate: date });\n  };\n  handleChangeRole = (selectedOption) => {\n     this.setState({roleId:selectedOption.id,roleName:selectedOption.label},()=>console.log(\"roleId\",this.state.roleId));\n  };\n  handleChangeSchoolYear = (selectedOption) => {\n     this.setState({schoolyearId:selectedOption.label},()=>console.log(\"roleId\",this.state.schoolyearId));\n  };\n  handleChangeClassRoom = (selectedOption) => {\n    this.setState({classRoomId:selectedOption.id},()=>console.log(\"roleId\",this.state.classRoomId));\n };\n handleChangeSubject = (selectedOption) => {\n  this.setState({subjectId:selectedOption.id},()=>console.log(\"roleId\",this.state.subjectId));\n};\nhandleChangeParent = (selectedOption) => {\n  this.setState({parentId:selectedOption.id},()=>console.log(\"roleId\",this.state.parentId));\n};\nhandleChangeStudent = (selectedOption) => {\n  this.setState({studentId:selectedOption.id},()=>console.log(\"roleId\",this.state.studentId));\n};\nhandleChangeCountries = (selectedOption) => {\n  this.setState({userCountry:selectedOption.id},()=>console.log(\"code\",this.state.userCountry));\n};\nattachFile(e) {\n  var oldFiles = this.state.userPapiersFiles;\n  var files = Object.values(e.target.files);\n  var nameFiles = this.state.nameUserPapiersFiles;\n  if (files !== undefined && this.state.nameUserPapiersFiles.length + files.length < 6) {\n    files.map((element) => {\n      nameFiles.push(element.name);\n      oldFiles.push(element);\n    });\n    this.setState({ userPapiersfiles: oldFiles, nameFiles });\n  } else {\n    this.setState({\n      messageAlerte: 'vous avez dépasser 5 fichiers',\n      alerteStatus: true,\n    });\n    setTimeout(() => {\n      this.setState({ messageAlerte: '', alerteStatus: false });\n    }, 4000);\n  }\n}\nuploadPhoto = (e) => {\n  if (e.target.files[0] !== undefined) {\n    let file = e.target.files[0];\n    this.setState({ userPhoto: file, photoText: file.name });\n    console.log(\"uploadphoto\",this.state.userPhoto)\n\n  } else {\n    this.setState({\n      messageAlerte: \"Vous n'avez pas choisir une photo\",\n      alerteFiltre: true,\n    });\n    setTimeout(() => {\n      this.setState({ messageAlerte: '', alerteFiltre: false });\n    }, 4000);\n  }\n\n};\nopenArchive=()=>{\n  console.log('KKKKKKKK');\n  \n  this.setState((previousState) => ({\n    openArchive: !previousState.openArchive,\n  }));\n}\n  componentDidUpdate(prevProps) {\n     if (prevProps.usersReducer !== this.props.usersReducer) {\n      let listRoles = [];\n     listRoles = this.props.usersReducer.roles.map((element) => {\n      var object = {};\n      object.label = element.name;\n      object.id = element.id;\n      object.value = element.id;\n      return object;\n    });\n    this.setState({ listRoles :listRoles });\n\n      }\n      if (prevProps.schoolYearEtabs !== this.props.schoolYearEtabs) {\n        let listSchoolYears = [];\n         listSchoolYears = this.props.schoolYearEtabs.map((element) => {\n          var object = {};\n          object.label = element.name;\n          object.id = element.id;\n          object.value = element.id;\n          object.startDate = element.start_date;\n          object.endtDate = element.end_date;\n          return object;\n        });\n        let countriesListUser = [];\n        console.log()\n        countriesListUser = countriesList.countriesList.map((element) => {\n          var object = {};\n          object.label = element.name_fr;\n          object.id = element.code;\n          object.value = element.code;\n          return object;\n        });\n        this.setState({listSchoolYears:listSchoolYears,countriesList:countriesListUser});\n      }\n      \n  }\n  UNSAFE_componentWillMount() {\n    this.props.getAllRole()\n    this.props.getSchoolYearEtabs()\n   }\n  render() {\n    console.log(\"userPapiersfiles\",this.state.userPapiersfiles)\n    console.log(\"userProfile\",this.props.userProfile);\n     return (\n      <div\n        className=\"app-wrapper\"\n        style={{\n          marginLeft: \"5%\",\n          marginRight: \"10%\",\n        }}\n      >\n        <div className=\"  d-flex flex-column mb-3\">\n          {this.state.sessionExist ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-danger text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\">\n                {\" \"}\n                {this.state.messageAlerte}{\" \"}\n              </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n          {this.props.successStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n          {this.state.alerteFiltre ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\">\n                {\" \"}\n                {this.state.messageAlerte}{\" \"}\n              </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n          <div className=\" bd-highlight\" style={{ width: \"90%\" }}>\n            <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n              <AddUsers\n                openAddModal={this.openAddModal}\n                handleCancel={this.handleCancel}\n                handleChange={this.handleChange}\n                handleSubmit={this.handleSubmit}\n                handleArchive={this.handleArchive}\n                 handleChangeRole={this.handleChangeRole}\n                handleChangeSchoolYear={this.handleChangeSchoolYear}\n                handleChangeClassRoom={this.handleChangeClassRoom}\n                handleChangeBirthdayDate={this.handleChangeBirthdayDate}\n                handleChangeSubject={this.handleChangeSubject}\n                handleChangeParent={this.handleChangeParent}\n                handleChangeStudent={this.handleChangeStudent}\n                handleChangeCountries={this.handleChangeCountries}\n                attachFile={this.attachFile}\n                uploadPhoto={this.uploadPhoto}\n                openArchive={this.openArchive}\n                values={this.state}\n\n                \n             />\n            </CardBox>\n          </div>\n\n          <RoleContext.Consumer>\n            {({ role }) => (\n              <Can\n                role={role}\n                perform=\"add-service\"\n                yes={() => (\n                  <>\n                    {this.state.openArchive ? (\n                      <div>\n                        <ArchiveUsers \n                        openArchive={this.openArchive}\n                        />\n                      </div>\n                    ) : (\n                      \"\"\n                    )}\n                  </>\n                )}\n              />\n            )}\n          </RoleContext.Consumer>\n          {!this.state.openArchive ? (\n            <div className=\" bd-highlight\" style={{ width: \"90%\" }}>\n              <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n                <UsersList />\n              </CardBox>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n        {/* <div className=\" bd-highlight\" style={{ width: '90%' }}>\n          <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n            <ArchiveUsers\n              isOpenArchive={this.state.isOpenArchive}\n              openArchiveModal={this.openArchiveModal}\n            />\n          </CardBox>\n        </div> */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    usersReducer:state.usersReducer,\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n    schoolSessions: state.schoolSessionReducer.schoolSessions,\n    educationTypes: state.EstabTypes.educationTypes,\n  };\n};\n\nexport default connect(mapStateToProps, {getAllRole,getSchoolYearEtabs,addUsers\n  \n})(Users);\n"]},"metadata":{},"sourceType":"module"}