{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/User/AddUser.js\";\nimport React, { Component } from \"react\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport Button from \"@material-ui/core/Button\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CommonInformation from \"./UserInformation/CommonInformation\";\nimport RoleInformation from \"./UserInformation/RoleInformation\";\nimport SpecificInformation from \"./UserInformation/SpecificInformation\";\nimport ParentInformation from \"./UserInformation/ParentInformation\";\nimport axios from \"axios\";\nimport baseUrl from \"../../../../../config/config\";\nimport { connect } from \"react-redux\";\nimport { getEstablishment } from \"../../../../../actions/establishmentAction\";\nimport { getServices } from \"../../../../../actions/ServiceAction\";\nimport { getUserProfile } from \"../../../../../actions/Auth\";\nimport { getAllUsers, addNewUser } from \"../../../../../actions/stuppUserAction\";\nimport { getSections } from \"../../../../../actions/sectionAction\";\nimport { getLevels } from \"../../../../../actions/classLevelAction\";\nimport { getClassesByEstablishmentId } from \"../../../../../actions/classeAction\";\nimport { getServicesByEstablishmentId } from \"../../../../../actions/ServiceAction\";\nimport { successHandling, uploadExcel, uploadUserPhoto, successAddUserHandling, uploadAdminPhoto, uploadProfAndStudentPhoto } from \"../../../../../actions/stuppUserAction\";\nimport { getSectionFromLevel } from \"../../../../../actions/sectionAction\";\nimport { classService } from \"../../../../../_services/class.service\";\nimport { roleIdSuperAdmin, roleIdAdmin, roleIdProfessor, roleIdStudent, roleIdDirector } from \"../../../../../config/config\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\nimport moment from \"moment\";\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\nimport _ from 'lodash';\nlet timeout;\n\nclass AddUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addNewTrustedParentForm = () => {\n      this.setState({\n        trustedPerson: !this.state.trustedPerson,\n        newParent: false\n      });\n    };\n\n    this.handleChangePhone = value => {\n      this.setState({\n        phone: value\n      });\n    };\n\n    this.handleChangeParentPhone = value => {\n      this.setState({\n        phoneParent: value\n      });\n    };\n\n    this.addNewParentFormulaire = () => {\n      this.setState({\n        newParent: !this.state.newParent,\n        trustedPerson: false\n      });\n    };\n\n    this.addNewParent = () => {\n      var parent = {\n        nameParent: this.state.nameParent,\n        surnameParent: this.state.surnameParent,\n        genderParent: this.state.genderParent,\n        date_of_birthParent: this.state.date_of_birthParent,\n        addressParent: this.state.addressParent,\n        phoneParent: this.state.phoneParent,\n        statusParent: true,\n        cinParent: this.state.cinParent,\n        zip_codeParent: this.state.zip_codeParent,\n        realmParent: this.state.nameParent,\n        passwordParent: \" \",\n        usernameParent: this.state.nameParent + \".\" + this.state.surnameParent,\n        emailParent: this.state.emailParent,\n        parentStudentphoto: this.state.parentStudentphoto,\n        emailVerifiedParent: false,\n        parentStudentphoto: this.state.parentStudentphoto,\n        arabicSurnameParent: this.state.arabicSurnameParent,\n        arabicNameparent: this.state.arabicNameparent\n      };\n\n      if (this.state.trustedPerson) {\n        this.state.trustedPersonList.push(parent);\n      } else {\n        this.state.newParentsList.push(parent);\n      }\n\n      this.setState({\n        nameParent: \"\",\n        surnameParent: \"\",\n        genderParent: \"\",\n        date_of_birthParent: \"\",\n        addressParent: \"\",\n        phoneParent: \"\",\n        statusParent: true,\n        cinParent: \"\",\n        zip_codeParent: \"\",\n        realmParent: \"\",\n        passwordParent: \" \",\n        usernameParent: \"\",\n        emailParent: \"\",\n        emailVerifiedParent: false,\n        parentStudentphoto: null,\n        inputTextParent: \"\",\n        newParent: false,\n        trustedPerson: false,\n        arabicSurnameParent: \"\",\n        arabicNameparent: \"\"\n      });\n    };\n\n    this.addNewSubject = index => {\n      this.setState(prevState => ({\n        listOfSubjects: [...prevState.listOfSubjects, {\n          id: index,\n          level_id: 0,\n          section_id: 0,\n          subject_id: 0,\n          sectionDisabled: true\n        }]\n      }));\n    };\n\n    this.handleChangestudentLevel = name => event => {\n      this.setState({\n        section_id: 0,\n        class_id: 0\n      });\n\n      if (event.target.value > 10) {\n        this.setState({\n          [name]: event.target.value\n        });\n        this.setState({\n          Disable_studentsection: false\n        });\n        var studentSectionbyLevel = getSectionFromLevel(this.props.classSections, event.target.value);\n        this.setState({\n          studentsectionByLevels: studentSectionbyLevel\n        });\n      } else {\n        this.setState({\n          level_id: event.target.value,\n          Disable_studentsection: true,\n          section_id: 0\n        });\n        const levelID = event.target.value;\n        var studentfiltredClasses = this.props.classes.filter(classe => classe.level_id === levelID && classe.status);\n        this.setState({\n          studentClassesByLevelSectionID: studentfiltredClasses\n        });\n      }\n    };\n\n    this.handleChangestudentSection = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n      const levelID = this.state.level_id;\n      const sectionID = event.target.value;\n      var studentfiltredClasses = this.props.classes.filter(classe => classe.level_id === levelID && classe.section_id === sectionID && classe.status);\n      this.setState({\n        studentClassesByLevelSectionID: studentfiltredClasses\n      });\n    };\n\n    this.handleChangeService = name => event => {\n      this.setState({\n        serviceId: event.target.value\n      });\n    };\n\n    this.handleChangeSelectParent = name => event => {\n      this.setState({\n        affectedParents: event.target.value\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleChangeDate = date => {\n      this.setState({\n        date_of_birth: date\n      });\n    };\n\n    this.handleChangeDateParent = date => {\n      this.setState({\n        date_of_birthParent: date\n      });\n    };\n\n    this.handleChangeRole = name => event => {\n      this.setState({\n        [name]: event.target.value,\n        steps: event.target.value\n      });\n    };\n\n    this.handleChangeClass = name => event => {\n      if (this.props.userProfile.role_id === roleIdAdmin) {\n        this.setState({\n          establishment_id: this.props.userProfile.establishment_id\n        });\n      }\n\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleChangeEstablishment = name => event => {\n      var type_establish = this.state.establishmentList.find(element => element.id === event.target.value);\n      this.setState({\n        [name]: event.target.value\n      });\n      this.setState({\n        estabType: type_establish.estab_type_id,\n        establishment_id: event.target.value\n      });\n      this.props.getClassesByEstablishmentId(event.target.value);\n      this.props.getServicesByEstablishmentId(event.target.value);\n      axios.get(`${baseUrl.baseUrl}/profiles?access_token=${localStorage.token}&filter[include]=user&filter[where][and][0][establishment_id]=` + event.target.value + `&filter[where][and][1][role_id]=` + 4).then(res => {\n        const allEstablishmentParents = res.data.map(element => element.user);\n        this.setState({\n          allParentList: allEstablishmentParents\n        });\n      });\n    };\n\n    this.handleChangeLevel = event => {\n      event.target.value > 10 ? this.setState({\n        level_id: event.target.value,\n        sectionDisabled: false\n      }) : this.setState({\n        level_id: event.target.value,\n        sectionDisabled: true\n      });\n      let subjectListFiltered = [];\n      this.setState({\n        subjectListFiltered\n      });\n    };\n\n    this.handleChangeSection = name => event => {\n      let subjectListFiltered = [];\n      this.setState({\n        [name]: event.target.value,\n        subjectListFiltered\n      });\n    };\n\n    this.onDropUserParent = e => {\n      let file = e.target.files[0];\n      this.setState({\n        parentStudentphoto: file,\n        inputTextParent: file.name\n      });\n    };\n\n    this.onDrop = e => {\n      let file = e.target.files[0];\n      this.setState({\n        userPhotos: file,\n        inputText: file.name\n      });\n    };\n\n    this.handleNext = () => {\n      const {\n        activeStep\n      } = this.state;\n      var establishment_Name = \"\";\n      var establishment_Name_From_Id = \"\";\n\n      if (activeStep === 0) {\n        this.setState({\n          activeStep: activeStep + 1\n        });\n      }\n\n      if (activeStep === 1) {\n        if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n          establishment_Name_From_Id = this.state.establishmentList.filter(establishment => establishment.id === this.state.establishment_id);\n          establishment_Name = establishment_Name_From_Id[0].name;\n        } else {\n          establishment_Name_From_Id = this.state.establishmentList.filter(establishment => establishment.id === this.props.userProfile.establishment_id);\n          establishment_Name = establishment_Name_From_Id[0].name;\n        }\n\n        let data = {\n          name: this.state.name,\n          password: Math.random().toString(36).slice(2),\n          surname: this.state.surname,\n          gender: this.state.gender,\n          date_of_birth: this.state.date_of_birth,\n          address: this.state.address,\n          phone: this.state.phone,\n          status: true,\n          cin: this.state.cin,\n          realm: this.state.name,\n          zip_code: this.state.zip_code,\n          username: this.state.name + \".\" + this.state.surname,\n          email: this.state.email.toLowerCase(),\n          role_id: this.state.role_id,\n          Arabname: this.state.Arabname,\n          Arabsurname: this.state.Arabsurname,\n          photo: this.state.userPhotos,\n          establishment_id: establishment_Name_From_Id[0].id,\n          role_id: this.state.role_id,\n          establishment_Name: establishment_Name\n        };\n        let apiEndpoint = `/users/create-user?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint, data).then(response => {\n          if (response.status === 200) {\n            let newUser = {};\n\n            if (this.state.userPhotos) {\n              const fileExtension = this.state.userPhotos.name.replace(/^.*\\./, \"\");\n              const fileName = \"user\" + response.data.user[0].id + \".\" + fileExtension;\n\n              const userData = _.omit(_.head(response.data.user), ['photo']);\n\n              newUser = { ..._.last(response.data.user),\n                user: { ...userData,\n                  photo: fileName\n                }\n              };\n              this.props.uploadProfAndStudentPhoto(response.data.user[0].id, data, fileName);\n            } else {\n              newUser = { ..._.last(response.data.user),\n                user: _.head(response.data.user)\n              };\n            }\n\n            this.setState({\n              activeStep: activeStep + 1,\n              profileId: response.data.user[1].id,\n              newUser\n            });\n          }\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            communFailedAlert: true\n          });\n          timeout = setTimeout(() => this.setState({\n            communFailedAlert: false\n          }), 1000);\n        });\n      } else if (activeStep === 2 && this.state.role_id === roleIdStudent) {\n        var classID = this.state.class_id === 0 ? null : this.state.class_id;\n        let studentInformation = {\n          level_id: this.state.level_id,\n          class_id: classID,\n          profile_id: this.state.profileId,\n          serviceId: this.state.serviceId\n        };\n        let apiEndpoint = `/students/save-student-specific?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint, studentInformation).then(response => {\n          if (response.status === 200) {\n            let studentData = { ...response.data.student\n            };\n            this.setState({\n              studentId: response.data.student.id,\n              communsuccessAlert: true,\n              studentData\n            });\n            timeout = setTimeout(() => this.setState({\n              activeStep: activeStep + 1,\n              communsuccessAlert: false\n            }), 3000);\n          }\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            communFailedAlert: true\n          });\n          timeout = setTimeout(() => this.setState({\n            communFailedAlert: false\n          }), 1000);\n        });\n      }\n    };\n\n    this.handleBack = () => {\n      const {\n        activeStep\n      } = this.state;\n      this.setState({\n        activeStep: activeStep - 1\n      });\n    };\n\n    this.handleReset = () => {\n      this.setState({\n        activeStep: 0\n      });\n    };\n\n    this.isValidphoneNumber = number => {\n      const tel = parsePhoneNumberFromString(number);\n      let res = false;\n\n      if (tel) {\n        res = tel.isValid();\n      }\n\n      return res;\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      var etablishmentID = null;\n      var establishment_Name_From_Id = \"\";\n      var establishment_Name = \"\";\n\n      if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n        establishment_Name_From_Id = this.state.establishmentList.filter(establishment => establishment.id === this.state.establishment_id);\n        establishment_Name = establishment_Name_From_Id[0].name;\n      } else {\n        establishment_Name_From_Id = this.state.establishmentList.filter(establishment => establishment.id === this.props.userProfile.establishment_id);\n        establishment_Name = establishment_Name_From_Id[0].name;\n      }\n\n      if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n        etablishmentID = this.state.establishment_id;\n      } else {\n        etablishmentID = this.props.userProfile.establishment_id;\n      }\n\n      if (this.state.role_id === roleIdProfessor) {\n        let data = {\n          profile_id: this.state.profileId,\n          date_start_contract: this.state.date_start_contract,\n          date_end_contract: this.state.date_end_contract,\n          listOfSubjects: this.state.listOfSubjects\n        };\n        let apiEndpoint = `/professors/create-professor?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint, data).then(response => {\n          if (response.status === 200) {\n            let profData = { ...this.state.newUser,\n              professors: [{ ...response.data.professor\n              }],\n              students: [],\n              parents: []\n            };\n            this.props.addNewUser(profData);\n            this.props.successAddUserHandling();\n            this.handleCancel();\n            this.props.cancel();\n          }\n        }).catch(err => {\n          this.setState({\n            communFailedAlert: true\n          });\n          timeout = setTimeout(() => this.setState({\n            communFailedAlert: false\n          }), 1000);\n        });\n      } else if (this.state.role_id === roleIdStudent) {\n        let studentParents = {\n          newParentsList: this.state.newParentsList,\n          affectedParents: this.state.affectedParents,\n          trustedPersonList: this.state.trustedPersonList,\n          studentId: this.state.studentId,\n          etablishmentID: etablishmentID\n        };\n        let apiEndpoint = `/students/add-parents?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint, studentParents).then(response => {\n          if (response.status === 200) {\n            let student = { ...this.state.newUser,\n              students: [{ ...this.state.studentData\n              }],\n              professors: [],\n              parents: []\n            };\n            this.props.addNewUser(student);\n            this.props.successAddUserHandling();\n            this.handleCancel();\n            this.props.cancel();\n          }\n        }).catch(err => {\n          this.setState({\n            communFailedAlert: true\n          });\n          timeout = setTimeout(() => this.setState({\n            communFailedAlert: false\n          }), 1000);\n        });\n      } else {\n        let data = {\n          name: this.state.name,\n          password: Math.random().toString(36).slice(2),\n          surname: this.state.surname,\n          gender: this.state.gender,\n          date_of_birth: this.state.date_of_birth,\n          address: this.state.address,\n          phone: this.state.phone,\n          status: true,\n          cin: this.state.cin,\n          realm: this.state.name,\n          zip_code: this.state.zip_code,\n          username: this.state.name + \".\" + this.state.surname,\n          email: this.state.email.toLowerCase(),\n          role_id: this.state.role_id,\n          Arabname: this.state.Arabname,\n          Arabsurname: this.state.Arabsurname,\n          photo: this.state.userPhotos,\n          photoName: this.state.userPhotos,\n          establishment_id: establishment_Name_From_Id[0].id,\n          role_id: this.state.role_id,\n          establishment_Name: establishment_Name\n        };\n        let apiEndpoint = `/users/create-user?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint, data).then(response => {\n          if (response.status === 200) {\n            if (this.state.userPhotos) {\n              let newUser = { ..._.last(response.data.user),\n                professors: [],\n                students: [],\n                parents: []\n              };\n              this.props.uploadAdminPhoto(response.data.user[0].id, data, newUser);\n            } else {\n              let newUser = { ..._.last(response.data.user),\n                user: _.head(response.data.user),\n                professors: [],\n                students: [],\n                parents: []\n              };\n              this.props.addNewUser(newUser);\n            }\n\n            this.props.successAddUserHandling();\n            this.handleCancel();\n            this.props.cancel();\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.onChangeHandler = event => {\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.onClickHandler = () => {\n      if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n        this.props.uploadExcel(this.state.selectedFile, this.state.establishment_id);\n      } else {\n        this.props.uploadExcel(this.state.selectedFile, this.props.userProfile.establishment_id);\n      }\n\n      this.props.cancelModalImport();\n    };\n\n    this.state = {\n      selectedFile: null,\n      //components Common information\n      name: \"\",\n      surname: \"\",\n      Arabname: \"\",\n      Arabsurname: \"\",\n      gender: \"\",\n      //date_of_birth: \"\",\n      email: \"\",\n      phone: \"\",\n      cin: \"\",\n      address: \"\",\n      zip_code: \"\",\n      status: true,\n      activeStep: 0,\n      inputText: \"\",\n      userPhotos: null,\n      emailVerified: false,\n      steps: 1,\n      date_of_birth: moment().year() - 6 + \"-01-01\",\n      //components role information\n      userId: \"\",\n      establishment_id: 0,\n      role_id: \"\",\n      //components specific information\n      date_start_contract: \"\",\n      Disable_studentsection: true,\n      date_end_contract: \"\",\n      listOfSubjects: [],\n      serviceFilteredByEstablishment: [],\n      studentClassesByLevelSectionID: [],\n      studentsectionByLevels: [],\n      class_id: 0,\n      //components Parent information\n      newParent: false,\n      trustedPerson: false,\n      newParentsList: [],\n      allParentList: [],\n      affectedParents: [],\n      trustedPersonList: [],\n      nameParent: \"\",\n      surnameParent: \"\",\n      genderParent: \"\",\n      date_of_birthParent: moment().year() - 18 + \"-01-01\",\n      addressParent: \"\",\n      phoneParent: \"\",\n      statusParent: true,\n      cinParent: \"\",\n      zip_codeParent: \"\",\n      usernameParent: \"\",\n      emailParent: \"\",\n      inputTextParent: \"\",\n      arabicSurnameParent: \"\",\n      arabicNameparent: \"\",\n      parentStudentphoto: null,\n      emailVerifiedParent: false,\n      countrie_locale: \"\",\n      listOfSubjects: [{\n        id: 0,\n        level_id: 0,\n        section_id: 0,\n        subject_id: 0,\n        sectionDisabled: true\n      }],\n      establishmentList: [],\n      classeList: [],\n      classListFiltered: [],\n      estabType: 0,\n      serviceId: [],\n      profileId: \"\",\n      studentId: \"\",\n      communsuccessAlert: false,\n      communFailedAlert: false,\n      establishment_Name: \"\",\n      newUser: {},\n      studentData: {}\n    };\n    this.getStepContent = this.getStepContent.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n    this.handleChangeParentPhone = this.handleChangeParentPhone.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangeLevel = this.handleChangeLevel.bind(this);\n    this.handleChangeSection = this.handleChangeSection.bind(this);\n    this.handleChangeListSubjects = this.handleChangeListSubjects.bind(this);\n    this.handleChangeService = this.handleChangeService.bind(this);\n    this.handleChangeEstablishment = this.handleChangeEstablishment.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.onDropUserParent = this.onDropUserParent.bind(this);\n    this.addNewSubject = this.addNewSubject.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.addNewParentFormulaire = this.addNewParentFormulaire.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n    this.getSteps = this.getSteps.bind(this);\n    this.handleChangestudentLevel = this.handleChangestudentLevel.bind(this);\n    this.handleChangestudentSection = this.handleChangestudentSection.bind(this);\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.handleChangeDateParent = this.handleChangeDateParent.bind(this);\n    this.addNewTrustedParentForm = this.addNewTrustedParentForm.bind(this);\n    this.handleCancelImport = this.handleCancelImport.bind(this);\n  }\n\n  handleChangeListSubjects(event, name, index) {\n    if (name === \"level_id\") {\n      const newList = this.state.listOfSubjects.map(listobject => {\n        if (listobject.id === index) {\n          listobject.section_id = 0;\n          return listobject;\n        }\n\n        return listobject;\n      });\n      this.setState({\n        listOfSubjects: newList\n      });\n    }\n\n    let newListSubjects = this.state.listOfSubjects.map(objSubject => name === \"level_id\" && event.target.value > 10 && objSubject.id === index ? { ...objSubject,\n      [name]: event.target.value,\n      sectionDisabled: false,\n      section_id: 0\n    } : objSubject.id === index ? { ...objSubject,\n      [name]: event.target.value,\n      sectionDisabled: true\n    } : objSubject);\n    this.setState({\n      listOfSubjects: newListSubjects\n    });\n  }\n\n  getStepContent(stepIndex, roleList, establishmentList, values, handleChange, handleBlur, touched, errors) {\n    switch (this.state.activeStep) {\n      case 0:\n        return /*#__PURE__*/React.createElement(CommonInformation, {\n          values: this.state,\n          handleChange: this.handleChange,\n          onDrop: this.onDrop,\n          handleChangeDate: this.handleChangeDate,\n          handleChangePhone: this.handleChangePhone,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 11\n          }\n        });\n\n      case 1:\n        return /*#__PURE__*/React.createElement(RoleInformation, {\n          values: this.state,\n          handleChangeRole: this.handleChangeRole,\n          handleChangeEstablishment: this.handleChangeEstablishment,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 11\n          }\n        });\n\n      case 2:\n        return /*#__PURE__*/React.createElement(SpecificInformation, {\n          classList: this.props.classes,\n          serviceList: this.props.services,\n          classSections: this.props.classSections,\n          classLevels: this.props.classLevels,\n          values: this.state,\n          handleChange: this.handleChange,\n          handleChangeClass: this.handleChangeClass,\n          handleChangeService: this.handleChangeService,\n          handleChangeClass: this.handleChangeClass,\n          handleChangeListSubjects: this.handleChangeListSubjects,\n          addNewSubject: this.addNewSubject,\n          handleChangestudentLevel: this.handleChangestudentLevel,\n          handleChangestudentSection: this.handleChangestudentSection,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 11\n          }\n        });\n\n      case 3:\n        return /*#__PURE__*/React.createElement(ParentInformation, {\n          values: this.state,\n          handleChange: this.handleChange,\n          onDropUserParent: this.onDropUserParent,\n          addNewParent: this.addNewParent,\n          addNewParentFormulaire: this.addNewParentFormulaire,\n          handleChangeSelectParent: this.handleChangeSelectParent,\n          validateZipCode: this.validateZipCode,\n          handleChangeDateParent: this.handleChangeDateParent,\n          handleChangeParentPhone: this.handleChangeParentPhone,\n          trustedPerson: this.state.trustedPerson,\n          addNewTrustedParentForm: this.addNewTrustedParentForm,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 11\n          }\n        });\n\n      default:\n        return \"Uknown stepIndex\";\n    }\n  }\n\n  getSteps() {\n    switch (this.state.steps) {\n      case 0:\n      case 1:\n      case 2:\n      case 4:\n      case 6:\n      case 7:\n        return [/*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.accountInfo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.role\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 11\n          }\n        })];\n\n      case 3:\n        return [/*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.accountInfo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.role\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.specInfo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 11\n          }\n        })];\n\n      case 5:\n        return [/*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.accountInfo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.role\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.specInfo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"stuppUser.steps.parentInfoOfStudent\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 11\n          }\n        })];\n\n      default:\n        return \"Uknown stepIndex\";\n    }\n  }\n\n  Validation_Steps(steps) {\n    // this methode is to able and disable next and finish button when we insert any user (created by bechir)\n    if (this.state.activeStep === 0) {\n      if (this.state.countrie_locale === \"ar\") {\n        if (this.state.name.length !== 0 && this.state.surname.length !== 0 && this.isemail(this.state.email) === true && this.state.email.length !== 0 && this.state.Arabname.length !== 0 && this.state.Arabsurname.length !== 0 && this.isValidphoneNumber(this.state.phone) === true) return true;else return false;\n      } else {\n        if (this.state.name.length !== 0 && this.state.surname.length !== 0 && this.isemail(this.state.email) === true && this.state.email.length !== 0 && this.isValidphoneNumber(this.state.phone) === true) return true;else return false;\n      }\n    }\n\n    if (this.state.activeStep === 1 && this.props.userProfile.role_id === roleIdSuperAdmin) {\n      if (this.state.role_id !== 0 && this.state.establishment_id !== 0) return true;else return false;\n    }\n\n    if (this.state.activeStep === 2 && this.state.role_id === 5) {\n      if (this.state.level_id === undefined) return false;else return true;\n    }\n\n    if (this.state.activeStep === 2 && this.state.role_id === roleIdProfessor) {\n      if (this.state.listOfSubjects.length === 1 && this.state.listOfSubjects[0].subject_id === 0) {\n        return false;\n      } else return true;\n    } else if (this.state.activeStep === 3 && this.state.role_id === roleIdStudent) {\n      if (this.state.newParentsList.length === 0 && this.state.affectedParents.length === 0) return false;else return true;\n    }\n\n    if (this.state.activeStep === 1 && (this.props.userProfile.role_id === roleIdAdmin || this.props.userProfile.role_id === roleIdDirector)) {\n      if (this.state.role_id == 0) return false;else return true;\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      steps: this.props.userProfile.role_id\n    });\n    this.props.getSections();\n    this.props.getLevels();\n\n    if (this.props.userProfile.role_id === roleIdAdmin || this.props.userProfile.role_id === roleIdDirector) {\n      axios.get(`${baseUrl.baseUrl}/profiles?access_token=${localStorage.token}&filter[include]=user&filter[where][and][0][establishment_id]=` + this.props.userProfile.establishment_id + `&filter[where][and][1][role_id]=` + 4).then(res => {\n        const allEstablishmentParents = res.data.map(element => element.user);\n        this.setState({\n          allParentList: allEstablishmentParents\n        });\n      });\n      this.props.getClassesByEstablishmentId(this.props.userProfile.establishment_id);\n      this.props.getServicesByEstablishmentId(this.props.userProfile.establishment_id);\n      axios.get(`${baseUrl.baseUrl}/establishments/` + this.props.userProfile.establishment_id + `?access_token=${localStorage.token}`).then(res => {\n        this.setState({\n          estabType: res.data.estab_type_id\n        });\n        axios.get(`${baseUrl.baseUrl}/countries/` + res.data.countries_id + `?access_token=${localStorage.token}`).then(res => {\n          this.setState({\n            countrie_locale: res.data.locale\n          });\n        });\n      });\n      axios.get(`${baseUrl.baseUrl}/roles?access_token=${localStorage.token}`).then(res => {\n        let data = res.data;\n        const roleList = data.filter(element => element.id !== 1);\n        this.setState({\n          roleList\n        });\n      });\n    } else {\n      axios.get(`${baseUrl.baseUrl}/roles?access_token=${localStorage.token}`).then(res => {\n        const roleList = res.data;\n        this.setState({\n          roleList\n        });\n      });\n    }\n\n    axios.get(`${baseUrl.baseUrl}/establishments?access_token=${localStorage.token}`).then(res => {\n      const establishmentList = res.data.filter(element => element.status);\n      this.setState({\n        establishmentList\n      });\n    });\n    axios.get(`${baseUrl.baseUrl}/subjects?access_token=${localStorage.token}`).then(res => {\n      const subjectList = res.data;\n      this.setState({\n        subjectList\n      });\n    });\n  }\n\n  handleCancelImport() {\n    this.props.cancelModalImport();\n  }\n\n  handleCancel() {\n    this.setState({\n      activeStep: 0,\n      previewVisible: false,\n      name: \"\",\n      surname: \"\",\n      gender: \"\",\n      date_of_birth: moment().year() - 6 + \"-01-01\",\n      address: \"\",\n      phone: \"\",\n      zip_code: \"\",\n      status: true,\n      cin: \"\",\n      realm: \"\",\n      password: \"\",\n      username: \"\",\n      email: \"\",\n      emailVerified: false,\n      nameParent: \"\",\n      surnameParent: \"\",\n      genderParent: \"\",\n      date_of_birthParent: moment().year() - 18 + \"-01-01\",\n      addressParent: \"\",\n      phoneParent: \"\",\n      statusParent: true,\n      cinParent: \"\",\n      zip_codeParent: \"\",\n      realmParent: \"\",\n      passwordParent: \"\",\n      usernameParent: \"\",\n      emailParent: \"\",\n      emailVerifiedParent: false,\n      date_start_contract: \"\",\n      date_end_contract: \"\",\n      establishment_id: 0,\n      role_id: 0,\n      subject_id: \"\",\n      class_id: 0,\n      serviceId: [],\n      userPhotos: null,\n      parentStudentphoto: null,\n      Arabname: \"\",\n      Arabsurname: \"\",\n      affectedParents: [],\n      newParentsList: []\n    }); // this.props.close();\n  }\n\n  isemail(value) {\n    if (value.length > 0) return /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(value);else return true;\n  }\n\n  render() {\n    const steps = this.getSteps() ? this.getSteps() : 0;\n    const {\n      activeStep,\n      roleList,\n      establishmentList\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1033,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.props.open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.props.cancel,\n      className: \"modal-box-header bg-primary text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1035,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"pages.stuppUserPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 14\n      }\n    })), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"container\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1043,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1044,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Stepper, {\n      activeStep: activeStep,\n      alternativeLabel: true,\n      className: \"horizontal-stepper-linear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 19\n      }\n    }, steps.map((label, index) => {\n      return /*#__PURE__*/React.createElement(Step, {\n        key: label,\n        className: `horizontal-stepper ${index === activeStep ? \"active\" : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(StepLabel, {\n        className: \"stepperlabel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 27\n        }\n      }, label));\n    }))), this.state.activeStep === steps.length ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      className: \"my-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1068,\n        columnNumber: 21\n      }\n    }, \"All steps completed - you\\\"re finished\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleReset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1071,\n        columnNumber: 21\n      }\n    }, \"Reset\")) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1074,\n        columnNumber: 21\n      }\n    }, this.getStepContent(activeStep, roleList), /*#__PURE__*/React.createElement(Button, {\n      disabled: activeStep === 0,\n      onClick: this.handleBack,\n      className: \"mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"stuppUser.button.back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1081,\n        columnNumber: 26\n      }\n    })), activeStep === steps.length - 1 ? /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      type: \"submit\",\n      disabled: this.Validation_Steps(steps) ? false : true,\n      className: \"jr-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1085,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"stuppUser.button.finish\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1092,\n        columnNumber: 28\n      }\n    })) : /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleNext,\n      disabled: this.Validation_Steps(steps) ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1095,\n        columnNumber: 27\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"stuppUser.button.Next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 30\n      }\n    }))))))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.props.openModalImport,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.handleCancelImport,\n      className: \"modal-box-header bg-primary text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1113,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"pages.stuppUserPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1117,\n        columnNumber: 14\n      }\n    })), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"container\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1121,\n        columnNumber: 15\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"user-import-excel:visit\",\n      yes: () => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Can, {\n        role: role,\n        perform: \"user-import-excel-filter-establishment:visit\",\n        yes: () => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1132,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          required: true,\n          id: \"establishment\",\n          select: true,\n          label: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"components.student.formadd.establishment\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1138,\n              columnNumber: 35\n            }\n          }),\n          value: this.state.establishment_id,\n          onChange: this.handleChange(\"establishment_id\"),\n          SelectProps: {},\n          margin: \"normal\",\n          fullWidth: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1133,\n            columnNumber: 31\n          }\n        }, establishmentList.map(establishment => /*#__PURE__*/React.createElement(MenuItem, {\n          key: establishment.id,\n          value: establishment.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1147,\n            columnNumber: 35\n          }\n        }, establishment.name)))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1128,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 text-center \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1158,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1159,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        onChange: this.onChangeHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 text-left \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1167,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1168,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1169,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        className: \"jr-btn bg-indigo text-white \",\n        onClick: this.onClickHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1170,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.establishments.formadd.buttonAdd\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 31\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        className: \"jr-btn bg-grey text-white \",\n        onClick: this.handleCancelImport,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1179,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.establishments.formadd.buttonCancel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1185,\n          columnNumber: 31\n        }\n      })))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1123,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    establishments: state.establishment.remoteEstablishments,\n    services: state.service.remoteServices,\n    userProfile: state.auth.userProfile,\n    users: state.stuppUsers.remoteStuppUsers,\n    classLevels: state.ClassLevels.remoteLevels,\n    classSections: state.classSections.remoteSections,\n    classes: state.classes\n  };\n}\n\nexport default connect(mapStateToProps, {\n  successHandling,\n  getAllUsers,\n  getServices,\n  getEstablishment,\n  getUserProfile,\n  getLevels,\n  getSections,\n  getClassesByEstablishmentId,\n  getServicesByEstablishmentId,\n  uploadExcel,\n  uploadUserPhoto,\n  addNewUser,\n  successAddUserHandling,\n  uploadAdminPhoto,\n  uploadProfAndStudentPhoto\n})(AddUser);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/User/AddUser.js"],"names":["React","Component","Modal","ModalBody","ModalHeader","IntlMessages","Button","Stepper","Step","StepLabel","Typography","CommonInformation","RoleInformation","SpecificInformation","ParentInformation","axios","baseUrl","connect","getEstablishment","getServices","getUserProfile","getAllUsers","addNewUser","getSections","getLevels","getClassesByEstablishmentId","getServicesByEstablishmentId","successHandling","uploadExcel","uploadUserPhoto","successAddUserHandling","uploadAdminPhoto","uploadProfAndStudentPhoto","getSectionFromLevel","classService","roleIdSuperAdmin","roleIdAdmin","roleIdProfessor","roleIdStudent","roleIdDirector","TextField","MenuItem","Can","RoleContext","moment","parsePhoneNumberFromString","_","timeout","AddUser","constructor","props","addNewTrustedParentForm","setState","trustedPerson","state","newParent","handleChangePhone","value","phone","handleChangeParentPhone","phoneParent","addNewParentFormulaire","addNewParent","parent","nameParent","surnameParent","genderParent","date_of_birthParent","addressParent","statusParent","cinParent","zip_codeParent","realmParent","passwordParent","usernameParent","emailParent","parentStudentphoto","emailVerifiedParent","arabicSurnameParent","arabicNameparent","trustedPersonList","push","newParentsList","inputTextParent","addNewSubject","index","prevState","listOfSubjects","id","level_id","section_id","subject_id","sectionDisabled","handleChangestudentLevel","name","event","class_id","target","Disable_studentsection","studentSectionbyLevel","classSections","studentsectionByLevels","levelID","studentfiltredClasses","classes","filter","classe","status","studentClassesByLevelSectionID","handleChangestudentSection","sectionID","handleChangeService","serviceId","handleChangeSelectParent","affectedParents","handleChange","handleChangeDate","date","date_of_birth","handleChangeDateParent","handleChangeRole","steps","handleChangeClass","userProfile","role_id","establishment_id","handleChangeEstablishment","type_establish","establishmentList","find","element","estabType","estab_type_id","get","localStorage","token","then","res","allEstablishmentParents","data","map","user","allParentList","handleChangeLevel","subjectListFiltered","handleChangeSection","onDropUserParent","e","file","files","onDrop","userPhotos","inputText","handleNext","activeStep","establishment_Name","establishment_Name_From_Id","establishment","password","Math","random","toString","slice","surname","gender","address","cin","realm","zip_code","username","email","toLowerCase","Arabname","Arabsurname","photo","apiEndpoint","post","response","newUser","fileExtension","replace","fileName","userData","omit","head","last","profileId","catch","err","console","log","communFailedAlert","setTimeout","classID","studentInformation","profile_id","studentData","student","studentId","communsuccessAlert","handleBack","handleReset","isValidphoneNumber","number","tel","isValid","handleSubmit","preventDefault","etablishmentID","date_start_contract","date_end_contract","profData","professors","professor","students","parents","handleCancel","cancel","studentParents","photoName","onChangeHandler","selectedFile","onClickHandler","cancelModalImport","emailVerified","year","userId","serviceFilteredByEstablishment","countrie_locale","classeList","classListFiltered","getStepContent","bind","handleChangeListSubjects","getSteps","handleCancelImport","newList","listobject","newListSubjects","objSubject","stepIndex","roleList","values","handleBlur","touched","errors","services","classLevels","validateZipCode","Validation_Steps","length","isemail","undefined","componentDidMount","countries_id","locale","subjectList","previewVisible","test","render","open","label","openModalImport","role","mapStateToProps","establishments","remoteEstablishments","service","remoteServices","auth","users","stuppUsers","remoteStuppUsers","ClassLevels","remoteLevels","remoteSections"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport Button from \"@material-ui/core/Button\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CommonInformation from \"./UserInformation/CommonInformation\";\nimport RoleInformation from \"./UserInformation/RoleInformation\";\nimport SpecificInformation from \"./UserInformation/SpecificInformation\";\nimport ParentInformation from \"./UserInformation/ParentInformation\";\nimport axios from \"axios\";\nimport baseUrl from \"../../../../../config/config\";\nimport { connect } from \"react-redux\";\nimport { getEstablishment } from \"../../../../../actions/establishmentAction\";\nimport { getServices } from \"../../../../../actions/ServiceAction\";\nimport { getUserProfile } from \"../../../../../actions/Auth\";\nimport { getAllUsers, addNewUser } from \"../../../../../actions/stuppUserAction\";\nimport { getSections } from \"../../../../../actions/sectionAction\";\nimport { getLevels } from \"../../../../../actions/classLevelAction\";\nimport { getClassesByEstablishmentId } from \"../../../../../actions/classeAction\";\nimport { getServicesByEstablishmentId } from \"../../../../../actions/ServiceAction\";\nimport {\n  successHandling,\n  uploadExcel,\n  uploadUserPhoto,\n  successAddUserHandling,\n  uploadAdminPhoto,\n  uploadProfAndStudentPhoto\n} from \"../../../../../actions/stuppUserAction\";\nimport { getSectionFromLevel } from \"../../../../../actions/sectionAction\";\nimport { classService } from \"../../../../../_services/class.service\";\nimport {\n  roleIdSuperAdmin,\n  roleIdAdmin,\n  roleIdProfessor,\n  roleIdStudent,\n  roleIdDirector,\n} from \"../../../../../config/config\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\n\nimport moment from \"moment\";\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\nimport _ from 'lodash';\n\nlet timeout;\nclass AddUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedFile: null,\n      //components Common information\n      name: \"\",\n      surname: \"\",\n      Arabname: \"\",\n      Arabsurname: \"\",\n      gender: \"\",\n      //date_of_birth: \"\",\n      email: \"\",\n      phone: \"\",\n      cin: \"\",\n      address: \"\",\n      zip_code: \"\",\n      status: true,\n      activeStep: 0,\n      inputText: \"\",\n      userPhotos: null,\n      emailVerified: false,\n      steps: 1,\n      date_of_birth: moment().year() - 6 + \"-01-01\",\n\n      //components role information\n      userId: \"\",\n      establishment_id: 0,\n      role_id: \"\",\n      //components specific information\n      date_start_contract: \"\",\n      Disable_studentsection: true,\n      date_end_contract: \"\",\n      listOfSubjects: [],\n      serviceFilteredByEstablishment: [],\n      studentClassesByLevelSectionID: [],\n      studentsectionByLevels: [],\n      class_id: 0,\n      //components Parent information\n      newParent: false,\n      trustedPerson: false,\n      newParentsList: [],\n      allParentList: [],\n      affectedParents: [],\n      trustedPersonList: [],\n\n      nameParent: \"\",\n      surnameParent: \"\",\n      genderParent: \"\",\n      date_of_birthParent: moment().year() - 18 + \"-01-01\",\n      addressParent: \"\",\n      phoneParent: \"\",\n      statusParent: true,\n      cinParent: \"\",\n      zip_codeParent: \"\",\n      usernameParent: \"\",\n      emailParent: \"\",\n      inputTextParent: \"\",\n      arabicSurnameParent: \"\",\n      arabicNameparent: \"\",\n      parentStudentphoto: null,\n      emailVerifiedParent: false,\n      countrie_locale: \"\",\n      listOfSubjects: [\n        {\n          id: 0,\n          level_id: 0,\n          section_id: 0,\n          subject_id: 0,\n          sectionDisabled: true,\n        },\n      ],\n      establishmentList: [],\n      classeList: [],\n      classListFiltered: [],\n      estabType: 0,\n      serviceId: [],\n      profileId: \"\",\n      studentId: \"\",\n      communsuccessAlert: false,\n      communFailedAlert: false,\n      establishment_Name: \"\",\n      newUser: {},\n      studentData: {}\n    };\n    this.getStepContent = this.getStepContent.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n    this.handleChangeParentPhone = this.handleChangeParentPhone.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangeLevel = this.handleChangeLevel.bind(this);\n    this.handleChangeSection = this.handleChangeSection.bind(this);\n    this.handleChangeListSubjects = this.handleChangeListSubjects.bind(this);\n    this.handleChangeService = this.handleChangeService.bind(this);\n    this.handleChangeEstablishment = this.handleChangeEstablishment.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.onDropUserParent = this.onDropUserParent.bind(this);\n    this.addNewSubject = this.addNewSubject.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.addNewParentFormulaire = this.addNewParentFormulaire.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n    this.getSteps = this.getSteps.bind(this);\n    this.handleChangestudentLevel = this.handleChangestudentLevel.bind(this);\n    this.handleChangestudentSection = this.handleChangestudentSection.bind(\n      this\n    );\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.handleChangeDateParent = this.handleChangeDateParent.bind(this);\n    this.addNewTrustedParentForm = this.addNewTrustedParentForm.bind(this);\n    this.handleCancelImport = this.handleCancelImport.bind(this);\n  }\n  addNewTrustedParentForm = () => {\n    this.setState({\n      trustedPerson: !this.state.trustedPerson,\n      newParent: false,\n    });\n  };\n  handleChangePhone = (value) => {\n    this.setState({ phone: value });\n  };\n  handleChangeParentPhone = (value) => {\n    this.setState({ phoneParent: value });\n  };\n  addNewParentFormulaire = () => {\n    this.setState({ newParent: !this.state.newParent, trustedPerson: false });\n  };\n  addNewParent = () => {\n    var parent = {\n      nameParent: this.state.nameParent,\n      surnameParent: this.state.surnameParent,\n      genderParent: this.state.genderParent,\n      date_of_birthParent: this.state.date_of_birthParent,\n      addressParent: this.state.addressParent,\n      phoneParent: this.state.phoneParent,\n      statusParent: true,\n      cinParent: this.state.cinParent,\n      zip_codeParent: this.state.zip_codeParent,\n      realmParent: this.state.nameParent,\n      passwordParent: \" \",\n      usernameParent: this.state.nameParent + \".\" + this.state.surnameParent,\n      emailParent: this.state.emailParent,\n      parentStudentphoto: this.state.parentStudentphoto,\n      emailVerifiedParent: false,\n      parentStudentphoto: this.state.parentStudentphoto,\n      arabicSurnameParent: this.state.arabicSurnameParent,\n      arabicNameparent: this.state.arabicNameparent,\n    };\n    if (this.state.trustedPerson) {\n      this.state.trustedPersonList.push(parent);\n    } else {\n      this.state.newParentsList.push(parent);\n    }\n\n    this.setState({\n      nameParent: \"\",\n      surnameParent: \"\",\n      genderParent: \"\",\n      date_of_birthParent: \"\",\n      addressParent: \"\",\n      phoneParent: \"\",\n      statusParent: true,\n      cinParent: \"\",\n      zip_codeParent: \"\",\n      realmParent: \"\",\n      passwordParent: \" \",\n      usernameParent: \"\",\n      emailParent: \"\",\n      emailVerifiedParent: false,\n      parentStudentphoto: null,\n      inputTextParent: \"\",\n      newParent: false,\n      trustedPerson: false,\n      arabicSurnameParent: \"\",\n      arabicNameparent: \"\",\n    });\n  };\n\n  addNewSubject = (index) => {\n    this.setState((prevState) => ({\n      listOfSubjects: [\n        ...prevState.listOfSubjects,\n        {\n          id: index,\n          level_id: 0,\n          section_id: 0,\n          subject_id: 0,\n          sectionDisabled: true,\n        },\n      ],\n    }));\n  };\n  handleChangeListSubjects(event, name, index) {\n    if (name === \"level_id\") {\n      const newList = this.state.listOfSubjects.map((listobject) => {\n        if (listobject.id === index) {\n          listobject.section_id = 0;\n          return listobject;\n        }\n        return listobject;\n      });\n      this.setState({\n        listOfSubjects: newList,\n      });\n    }\n    let newListSubjects = this.state.listOfSubjects.map((objSubject) =>\n      name === \"level_id\" && event.target.value > 10 && objSubject.id === index\n        ? {\n          ...objSubject,\n          [name]: event.target.value,\n          sectionDisabled: false,\n          section_id: 0,\n        }\n        : objSubject.id === index\n          ? { ...objSubject, [name]: event.target.value, sectionDisabled: true }\n          : objSubject\n    );\n    this.setState({ listOfSubjects: newListSubjects });\n  }\n\n  handleChangestudentLevel = (name) => (event) => {\n    this.setState({ section_id: 0, class_id: 0 });\n    if (event.target.value > 10) {\n      this.setState({ [name]: event.target.value });\n      this.setState({ Disable_studentsection: false });\n      var studentSectionbyLevel = getSectionFromLevel(\n        this.props.classSections,\n        event.target.value\n      );\n      this.setState({ studentsectionByLevels: studentSectionbyLevel });\n    } else {\n      this.setState({\n        level_id: event.target.value,\n        Disable_studentsection: true,\n        section_id: 0,\n      });\n      const levelID = event.target.value;\n      var studentfiltredClasses = this.props.classes.filter(\n        (classe) => classe.level_id === levelID && classe.status\n      );\n      this.setState({ studentClassesByLevelSectionID: studentfiltredClasses });\n    }\n  };\n\n  handleChangestudentSection = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n    const levelID = this.state.level_id;\n    const sectionID = event.target.value;\n    var studentfiltredClasses = this.props.classes.filter(\n      (classe) =>\n        classe.level_id === levelID &&\n        classe.section_id === sectionID &&\n        classe.status\n    );\n    this.setState({ studentClassesByLevelSectionID: studentfiltredClasses });\n  };\n\n  handleChangeService = (name) => (event) => {\n    this.setState({ serviceId: event.target.value });\n  };\n\n  handleChangeSelectParent = (name) => (event) => {\n    this.setState({ affectedParents: event.target.value });\n  };\n\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  handleChangeDate = (date) => {\n    this.setState({ date_of_birth: date });\n  };\n\n  handleChangeDateParent = (date) => {\n    this.setState({ date_of_birthParent: date });\n  };\n\n  handleChangeRole = (name) => (event) => {\n    this.setState({ [name]: event.target.value, steps: event.target.value });\n  };\n\n  handleChangeClass = (name) => (event) => {\n    if (this.props.userProfile.role_id === roleIdAdmin) {\n      this.setState({\n        establishment_id: this.props.userProfile.establishment_id,\n      });\n    }\n    this.setState({ [name]: event.target.value });\n  };\n\n  handleChangeEstablishment = (name) => (event) => {\n    var type_establish = this.state.establishmentList.find(\n      (element) => element.id === event.target.value\n    );\n    this.setState({ [name]: event.target.value });\n    this.setState({\n      estabType: type_establish.estab_type_id,\n      establishment_id: event.target.value,\n    });\n    this.props.getClassesByEstablishmentId(event.target.value);\n    this.props.getServicesByEstablishmentId(event.target.value);\n\n    axios\n      .get(\n        `${baseUrl.baseUrl}/profiles?access_token=${localStorage.token}&filter[include]=user&filter[where][and][0][establishment_id]=` +\n        event.target.value +\n        `&filter[where][and][1][role_id]=` +\n        4\n      )\n      .then((res) => {\n        const allEstablishmentParents = res.data.map((element) => element.user);\n        this.setState({\n          allParentList: allEstablishmentParents,\n        });\n      });\n  };\n\n  handleChangeLevel = (event) => {\n    event.target.value > 10\n      ? this.setState({ level_id: event.target.value, sectionDisabled: false })\n      : this.setState({ level_id: event.target.value, sectionDisabled: true });\n    let subjectListFiltered = [];\n    this.setState({ subjectListFiltered });\n  };\n\n  handleChangeSection = (name) => (event) => {\n    let subjectListFiltered = [];\n    this.setState({ [name]: event.target.value, subjectListFiltered });\n  };\n\n  onDropUserParent = (e) => {\n    let file = e.target.files[0];\n    this.setState({ parentStudentphoto: file, inputTextParent: file.name });\n  };\n\n  onDrop = (e) => {\n    let file = e.target.files[0];\n    this.setState({ userPhotos: file, inputText: file.name });\n  };\n\n  handleNext = () => {\n    const { activeStep } = this.state;\n    var establishment_Name = \"\";\n    var establishment_Name_From_Id = \"\";\n    if (activeStep === 0) {\n      this.setState({ activeStep: activeStep + 1 });\n    }\n    if (activeStep === 1) {\n      if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n        establishment_Name_From_Id = this.state.establishmentList.filter(\n          (establishment) => establishment.id === this.state.establishment_id\n        );\n        establishment_Name = establishment_Name_From_Id[0].name;\n      } else {\n        establishment_Name_From_Id = this.state.establishmentList.filter(\n          (establishment) =>\n            establishment.id === this.props.userProfile.establishment_id\n        );\n        establishment_Name = establishment_Name_From_Id[0].name;\n      }\n      let data = {\n        name: this.state.name,\n        password: Math.random()\n          .toString(36)\n          .slice(2),\n        surname: this.state.surname,\n        gender: this.state.gender,\n        date_of_birth: this.state.date_of_birth,\n        address: this.state.address,\n        phone: this.state.phone,\n        status: true,\n        cin: this.state.cin,\n        realm: this.state.name,\n        zip_code: this.state.zip_code,\n\n        username: this.state.name + \".\" + this.state.surname,\n        email: this.state.email.toLowerCase(),\n\n        role_id: this.state.role_id,\n\n        Arabname: this.state.Arabname,\n        Arabsurname: this.state.Arabsurname,\n        photo: this.state.userPhotos,\n        establishment_id: establishment_Name_From_Id[0].id,\n        role_id: this.state.role_id,\n        establishment_Name: establishment_Name,\n      };\n\n      let apiEndpoint = `/users/create-user?access_token=${localStorage.token}`;\n      classService\n        .post(apiEndpoint, data)\n        .then((response) => {\n          if (response.status === 200) {\n            let newUser = {}\n            if (this.state.userPhotos) {\n              const fileExtension = this.state.userPhotos.name.replace(/^.*\\./, \"\");\n              const fileName = \"user\" + response.data.user[0].id + \".\" + fileExtension;\n              const userData = _.omit(_.head(response.data.user), ['photo']);\n              newUser = {\n                ..._.last(response.data.user),\n                user: {\n                  ...userData,\n                  photo: fileName\n                }\n              }\n\n               this.props.uploadProfAndStudentPhoto(response.data.user[0].id, data, fileName);\n            }\n            else {\n              newUser = {\n                ..._.last(response.data.user),\n                user: _.head(response.data.user),\n              }\n            }\n            this.setState({\n              activeStep: activeStep + 1,\n              profileId: response.data.user[1].id,\n              newUser\n\n            });\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          this.setState({ communFailedAlert: true });\n          timeout = setTimeout(\n            () => this.setState({ communFailedAlert: false }),\n            1000\n          );\n        });\n    } else if (activeStep === 2 && this.state.role_id === roleIdStudent) {\n      var classID = this.state.class_id === 0 ? null : this.state.class_id;\n\n      let studentInformation = {\n        level_id: this.state.level_id,\n        class_id: classID,\n        profile_id: this.state.profileId,\n        serviceId: this.state.serviceId,\n      };\n      let apiEndpoint = `/students/save-student-specific?access_token=${localStorage.token}`;\n      classService\n        .post(apiEndpoint, studentInformation)\n        .then((response) => {\n          if (response.status === 200) {\n            let studentData = {\n              ...response.data.student\n            }\n\n            this.setState({\n              studentId: response.data.student.id,\n              communsuccessAlert: true,\n              studentData\n            });\n            timeout = setTimeout(\n              () =>\n                this.setState({\n                  activeStep: activeStep + 1,\n                  communsuccessAlert: false,\n                }),\n              3000\n            );\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          this.setState({ communFailedAlert: true });\n          timeout = setTimeout(\n            () => this.setState({ communFailedAlert: false }),\n            1000\n          );\n        });\n    }\n  };\n\n  handleBack = () => {\n    const { activeStep } = this.state;\n    this.setState({ activeStep: activeStep - 1 });\n  };\n\n  handleReset = () => {\n    this.setState({ activeStep: 0 });\n  };\n\n  getStepContent(\n    stepIndex,\n    roleList,\n    establishmentList,\n    values,\n    handleChange,\n    handleBlur,\n    touched,\n    errors\n  ) {\n    switch (this.state.activeStep) {\n      case 0:\n        return (\n          <CommonInformation\n            values={this.state}\n            handleChange={this.handleChange}\n            onDrop={this.onDrop}\n            handleChangeDate={this.handleChangeDate}\n            handleChangePhone={this.handleChangePhone}\n          />\n        );\n      case 1:\n        return (\n          <RoleInformation\n            values={this.state}\n            handleChangeRole={this.handleChangeRole}\n            handleChangeEstablishment={this.handleChangeEstablishment}\n          />\n        );\n\n      case 2:\n        return (\n          <SpecificInformation\n            classList={this.props.classes}\n            serviceList={this.props.services}\n            classSections={this.props.classSections}\n            classLevels={this.props.classLevels}\n            values={this.state}\n            handleChange={this.handleChange}\n            handleChangeClass={this.handleChangeClass}\n            handleChangeService={this.handleChangeService}\n            handleChangeClass={this.handleChangeClass}\n            handleChangeListSubjects={this.handleChangeListSubjects}\n            addNewSubject={this.addNewSubject}\n            handleChangestudentLevel={this.handleChangestudentLevel}\n            handleChangestudentSection={this.handleChangestudentSection}\n          />\n        );\n      case 3:\n        return (\n          <ParentInformation\n            values={this.state}\n            handleChange={this.handleChange}\n            onDropUserParent={this.onDropUserParent}\n            addNewParent={this.addNewParent}\n            addNewParentFormulaire={this.addNewParentFormulaire}\n            handleChangeSelectParent={this.handleChangeSelectParent}\n            validateZipCode={this.validateZipCode}\n            handleChangeDateParent={this.handleChangeDateParent}\n            handleChangeParentPhone={this.handleChangeParentPhone}\n            trustedPerson={this.state.trustedPerson}\n            addNewTrustedParentForm={this.addNewTrustedParentForm}\n          />\n        );\n      default:\n        return \"Uknown stepIndex\";\n    }\n  }\n  getSteps() {\n    switch (this.state.steps) {\n      case 0:\n      case 1:\n      case 2:\n      case 4:\n      case 6:\n      case 7:\n        return [\n          <IntlMessages id=\"stuppUser.steps.accountInfo\" />,\n          <IntlMessages id=\"stuppUser.steps.role\" />,\n        ];\n\n      case 3:\n        return [\n          <IntlMessages id=\"stuppUser.steps.accountInfo\" />,\n          <IntlMessages id=\"stuppUser.steps.role\" />,\n          <IntlMessages id=\"stuppUser.steps.specInfo\" />,\n        ];\n\n      case 5:\n        return [\n          <IntlMessages id=\"stuppUser.steps.accountInfo\" />,\n          <IntlMessages id=\"stuppUser.steps.role\" />,\n          <IntlMessages id=\"stuppUser.steps.specInfo\" />,\n          <IntlMessages id=\"stuppUser.steps.parentInfoOfStudent\" />,\n        ];\n\n      default:\n        return \"Uknown stepIndex\";\n    }\n  }\n  isValidphoneNumber = (number) => {\n    const tel = parsePhoneNumberFromString(number);\n    let res = false;\n    if (tel) {\n      res = tel.isValid();\n    }\n    return res;\n  };\n\n  Validation_Steps(steps) {\n    // this methode is to able and disable next and finish button when we insert any user (created by bechir)\n    if (this.state.activeStep === 0) {\n      if (this.state.countrie_locale === \"ar\") {\n        if (\n          this.state.name.length !== 0 &&\n          this.state.surname.length !== 0 &&\n          this.isemail(this.state.email) === true &&\n          this.state.email.length !== 0 &&\n          this.state.Arabname.length !== 0 &&\n          this.state.Arabsurname.length !== 0 &&\n          this.isValidphoneNumber(this.state.phone) === true\n        )\n          return true;\n        else return false;\n      } else {\n        if (\n          this.state.name.length !== 0 &&\n          this.state.surname.length !== 0 &&\n          this.isemail(this.state.email) === true &&\n          this.state.email.length !== 0 &&\n          this.isValidphoneNumber(this.state.phone) === true\n        )\n          return true;\n        else return false;\n      }\n    }\n    if (\n      this.state.activeStep === 1 &&\n      this.props.userProfile.role_id === roleIdSuperAdmin\n    ) {\n      if (this.state.role_id !== 0 && this.state.establishment_id !== 0)\n        return true;\n      else return false;\n    }\n\n    if (this.state.activeStep === 2 && this.state.role_id === 5) {\n      if (this.state.level_id === undefined) return false;\n      else return true;\n    }\n    if (this.state.activeStep === 2 && this.state.role_id === roleIdProfessor) {\n      if (\n        this.state.listOfSubjects.length === 1 &&\n        this.state.listOfSubjects[0].subject_id === 0\n      ) {\n        return false;\n      } else return true;\n    } else if (\n      this.state.activeStep === 3 &&\n      this.state.role_id === roleIdStudent\n    ) {\n      if (\n        this.state.newParentsList.length === 0 &&\n        this.state.affectedParents.length === 0\n      )\n        return false;\n      else return true;\n    }\n\n    if (\n      this.state.activeStep === 1 &&\n      (this.props.userProfile.role_id === roleIdAdmin ||\n        this.props.userProfile.role_id === roleIdDirector)\n    ) {\n      if (this.state.role_id == 0) return false;\n      else return true;\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      steps: this.props.userProfile.role_id,\n    });\n    this.props.getSections();\n    this.props.getLevels();\n    if (\n      this.props.userProfile.role_id === roleIdAdmin ||\n      this.props.userProfile.role_id === roleIdDirector\n    ) {\n      axios\n        .get(\n          `${baseUrl.baseUrl}/profiles?access_token=${localStorage.token}&filter[include]=user&filter[where][and][0][establishment_id]=` +\n          this.props.userProfile.establishment_id +\n          `&filter[where][and][1][role_id]=` +\n          4\n        )\n        .then((res) => {\n          const allEstablishmentParents = res.data.map(\n            (element) => element.user\n          );\n          this.setState({\n            allParentList: allEstablishmentParents,\n          });\n        });\n\n      this.props.getClassesByEstablishmentId(\n        this.props.userProfile.establishment_id\n      );\n      this.props.getServicesByEstablishmentId(\n        this.props.userProfile.establishment_id\n      );\n\n      axios\n        .get(\n          `${baseUrl.baseUrl}/establishments/` +\n          this.props.userProfile.establishment_id +\n          `?access_token=${localStorage.token}`\n        )\n        .then((res) => {\n          this.setState({\n            estabType: res.data.estab_type_id,\n          });\n          axios\n            .get(\n              `${baseUrl.baseUrl}/countries/` +\n              res.data.countries_id +\n              `?access_token=${localStorage.token}`\n            )\n            .then((res) => {\n              this.setState({ countrie_locale: res.data.locale });\n            });\n        });\n\n      axios\n        .get(`${baseUrl.baseUrl}/roles?access_token=${localStorage.token}`)\n        .then((res) => {\n          let data = res.data;\n          const roleList = data.filter((element) => element.id !== 1);\n          this.setState({ roleList });\n        });\n    } else {\n      axios\n        .get(`${baseUrl.baseUrl}/roles?access_token=${localStorage.token}`)\n        .then((res) => {\n          const roleList = res.data;\n          this.setState({ roleList });\n        });\n    }\n\n    axios\n      .get(\n        `${baseUrl.baseUrl}/establishments?access_token=${localStorage.token}`\n      )\n      .then((res) => {\n        const establishmentList = res.data.filter((element) => element.status);\n        this.setState({ establishmentList });\n      });\n    axios\n      .get(`${baseUrl.baseUrl}/subjects?access_token=${localStorage.token}`)\n      .then((res) => {\n        const subjectList = res.data;\n        this.setState({ subjectList });\n      });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    var etablishmentID = null;\n\n    var establishment_Name_From_Id = \"\";\n    var establishment_Name = \"\";\n    if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n      establishment_Name_From_Id = this.state.establishmentList.filter(\n        (establishment) => establishment.id === this.state.establishment_id\n      );\n      establishment_Name = establishment_Name_From_Id[0].name;\n    } else {\n      establishment_Name_From_Id = this.state.establishmentList.filter(\n        (establishment) =>\n          establishment.id === this.props.userProfile.establishment_id\n      );\n      establishment_Name = establishment_Name_From_Id[0].name;\n    }\n\n    if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n      etablishmentID = this.state.establishment_id;\n    } else {\n      etablishmentID = this.props.userProfile.establishment_id;\n    }\n    if (this.state.role_id === roleIdProfessor) {\n      let data = {\n        profile_id: this.state.profileId,\n        date_start_contract: this.state.date_start_contract,\n        date_end_contract: this.state.date_end_contract,\n        listOfSubjects: this.state.listOfSubjects,\n      };\n      let apiEndpoint = `/professors/create-professor?access_token=${localStorage.token}`;\n      classService\n        .post(apiEndpoint, data)\n        .then((response) => {\n          if (response.status === 200) {\n              let profData = {\n                ...this.state.newUser,\n                professors: [{ ...response.data.professor }],\n                students: [],\n                parents: [],\n              }\n              this.props.addNewUser(profData);        \n            this.props.successAddUserHandling();\n            this.handleCancel();\n            this.props.cancel();\n          }\n        })\n        .catch((err) => {\n          this.setState({ communFailedAlert: true });\n          timeout = setTimeout(\n            () => this.setState({ communFailedAlert: false }),\n            1000\n          );\n        });\n    } else if (this.state.role_id === roleIdStudent) {\n      let studentParents = {\n        newParentsList: this.state.newParentsList,\n        affectedParents: this.state.affectedParents,\n        trustedPersonList: this.state.trustedPersonList,\n        studentId: this.state.studentId,\n        etablishmentID: etablishmentID,\n      };\n      let apiEndpoint = `/students/add-parents?access_token=${localStorage.token}`;\n      classService\n        .post(apiEndpoint, studentParents)\n        .then((response) => {\n          if (response.status === 200) {\n            let student = {\n              ...this.state.newUser,\n              students: [{ ...this.state.studentData }],\n              professors: [],\n              parents: []\n            }\n            this.props.addNewUser(student);\n            this.props.successAddUserHandling();\n            this.handleCancel();\n            this.props.cancel();\n          }\n        })\n        .catch((err) => {\n          this.setState({ communFailedAlert: true });\n          timeout = setTimeout(\n            () => this.setState({ communFailedAlert: false }),\n            1000\n          );\n        });\n    } else {\n      let data = {\n        name: this.state.name,\n        password: Math.random()\n          .toString(36)\n          .slice(2),\n        surname: this.state.surname,\n        gender: this.state.gender,\n        date_of_birth: this.state.date_of_birth,\n        address: this.state.address,\n        phone: this.state.phone,\n        status: true,\n        cin: this.state.cin,\n        realm: this.state.name,\n        zip_code: this.state.zip_code,\n\n        username: this.state.name + \".\" + this.state.surname,\n        email: this.state.email.toLowerCase(),\n\n        role_id: this.state.role_id,\n\n        Arabname: this.state.Arabname,\n        Arabsurname: this.state.Arabsurname,\n        photo: this.state.userPhotos,\n        photoName: this.state.userPhotos,\n        establishment_id: establishment_Name_From_Id[0].id,\n        role_id: this.state.role_id,\n        establishment_Name: establishment_Name,\n      };\n\n      let apiEndpoint = `/users/create-user?access_token=${localStorage.token}`;\n      classService\n        .post(apiEndpoint, data)\n        .then((response) => {\n          if (response.status === 200) {\n            if (this.state.userPhotos) {\n              let newUser = {\n                ..._.last(response.data.user),\n                professors: [],\n                students: [],\n                parents: []\n              }\n              this.props.uploadAdminPhoto(response.data.user[0].id, data, newUser);\n            } else {\n              let newUser = {\n                ..._.last(response.data.user),\n                user: _.head(response.data.user),\n                professors: [],\n                students: [],\n                parents: []\n              }\n              this.props.addNewUser(newUser);\n            }\n            this.props.successAddUserHandling();\n            this.handleCancel();\n            this.props.cancel();\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n  handleCancelImport() {\n    this.props.cancelModalImport();\n  }\n  handleCancel() {\n    this.setState({\n      activeStep: 0,\n      previewVisible: false,\n      name: \"\",\n      surname: \"\",\n      gender: \"\",\n      date_of_birth: moment().year() - 6 + \"-01-01\",\n      address: \"\",\n      phone: \"\",\n      zip_code: \"\",\n      status: true,\n      cin: \"\",\n      realm: \"\",\n      password: \"\",\n      username: \"\",\n      email: \"\",\n      emailVerified: false,\n      nameParent: \"\",\n      surnameParent: \"\",\n      genderParent: \"\",\n      date_of_birthParent: moment().year() - 18 + \"-01-01\",\n      addressParent: \"\",\n      phoneParent: \"\",\n      statusParent: true,\n      cinParent: \"\",\n      zip_codeParent: \"\",\n      realmParent: \"\",\n      passwordParent: \"\",\n      usernameParent: \"\",\n      emailParent: \"\",\n      emailVerifiedParent: false,\n      date_start_contract: \"\",\n      date_end_contract: \"\",\n      establishment_id: 0,\n      role_id: 0,\n      subject_id: \"\",\n      class_id: 0,\n      serviceId: [],\n      userPhotos: null,\n      parentStudentphoto: null,\n      Arabname: \"\",\n      Arabsurname: \"\",\n      affectedParents: [],\n      newParentsList: [],\n    });\n    // this.props.close();\n  }\n\n  isemail(value) {\n    if (value.length > 0)\n      return /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n        value\n      );\n    else return true;\n  }\n\n  onChangeHandler = (event) => {\n    this.setState({ selectedFile: event.target.files[0] });\n  };\n  onClickHandler = () => {\n    if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n      this.props.uploadExcel(\n        this.state.selectedFile,\n        this.state.establishment_id\n      );\n    } else {\n      this.props.uploadExcel(\n        this.state.selectedFile,\n        this.props.userProfile.establishment_id\n      );\n    }\n\n    this.props.cancelModalImport();\n  };\n\n  render() {\n    const steps = this.getSteps() ? this.getSteps() : 0;\n    const { activeStep, roleList, establishmentList } = this.state;\n    return (\n      <div className=\"app-wrapper\">\n        <Modal isOpen={this.props.open}>\n          <ModalHeader\n            toggle={this.props.cancel}\n            className=\"modal-box-header bg-primary text-white\"\n          >\n            {<IntlMessages id=\"pages.stuppUserPage\" />}\n          </ModalHeader>\n          <ModalBody>\n            <form className=\"container\" onSubmit={this.handleSubmit}>\n              <div className=\"row\">\n                <div className=\"w-100\">\n                  <Stepper\n                    activeStep={activeStep}\n                    alternativeLabel\n                    className=\"horizontal-stepper-linear\"\n                  >\n                    {steps.map((label, index) => {\n                      return (\n                        <Step\n                          key={label}\n                          className={`horizontal-stepper ${\n                            index === activeStep ? \"active\" : \"\"\n                            }`}\n                        >\n                          <StepLabel className=\"stepperlabel\">\n                            {label}\n                          </StepLabel>\n                        </Step>\n                      );\n                    })}\n                  </Stepper>\n                </div>\n                {this.state.activeStep === steps.length ? (\n                  <div className=\"w-100\">\n                    <Typography className=\"my-2\">\n                      All steps completed - you&quot;re finished\n                    </Typography>\n                    <Button onClick={this.handleReset}>Reset</Button>\n                  </div>\n                ) : (\n                    <div className=\"w-100\">\n                      {this.getStepContent(activeStep, roleList)}\n                      <Button\n                        disabled={activeStep === 0}\n                        onClick={this.handleBack}\n                        className=\"mr-2\"\n                      >\n                        {<IntlMessages id=\"stuppUser.button.back\" />}\n                      </Button>\n\n                      {activeStep === steps.length - 1 ? (\n                        <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          type=\"submit\"\n                          disabled={this.Validation_Steps(steps) ? false : true}\n                          className=\"jr-btn\"\n                        >\n                          {<IntlMessages id=\"stuppUser.button.finish\" />}\n                        </Button>\n                      ) : (\n                          <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={this.handleNext}\n                            disabled={this.Validation_Steps(steps) ? false : true}\n                          >\n                            {\" \"}\n                            {<IntlMessages id=\"stuppUser.button.Next\" />}\n                          </Button>\n                        )}\n                    </div>\n                  )}\n              </div>\n            </form>\n          </ModalBody>\n        </Modal>\n\n        <Modal isOpen={this.props.openModalImport}>\n          <ModalHeader\n            toggle={this.handleCancelImport}\n            className=\"modal-box-header bg-primary text-white\"\n          >\n            {<IntlMessages id=\"pages.stuppUserPage\" />}\n          </ModalHeader>\n          <ModalBody>\n            <form className=\"container\" onSubmit={this.handleSubmit}>\n              <RoleContext.Consumer>\n                {({ role }) => (\n                  <Can\n                    role={role}\n                    perform=\"user-import-excel:visit\"\n                    yes={() => (\n                      <div className=\"row\">\n                        <Can\n                          role={role}\n                          perform=\"user-import-excel-filter-establishment:visit\"\n                          yes={() => (\n                            <div className=\"col-sm-6\">\n                              <TextField\n                                required\n                                id=\"establishment\"\n                                select\n                                label={\n                                  <IntlMessages id=\"components.student.formadd.establishment\" />\n                                }\n                                value={this.state.establishment_id}\n                                onChange={this.handleChange(\"establishment_id\")}\n                                SelectProps={{}}\n                                margin=\"normal\"\n                                fullWidth\n                              >\n                                {establishmentList.map((establishment) => (\n                                  <MenuItem\n                                    key={establishment.id}\n                                    value={establishment.id}\n                                  >\n                                    {establishment.name}\n                                  </MenuItem>\n                                ))}\n                              </TextField>\n                            </div>\n                          )}\n                        />\n                        <div className=\"col-md-12 text-center \">\n                          <br />\n                          <br />\n                          <input\n                            type=\"file\"\n                            name=\"file\"\n                            onChange={this.onChangeHandler}\n                          />\n                        </div>\n                        <div className=\"col-md-12 text-left \">\n                          <br />\n                          <br />\n                          <Button\n                            variant=\"contained\"\n                            className=\"jr-btn bg-indigo text-white \"\n                            onClick={this.onClickHandler}\n                          >\n                            {\n                              <IntlMessages id=\"components.establishments.formadd.buttonAdd\" />\n                            }\n                          </Button>\n                          <Button\n                            variant=\"contained\"\n                            className=\"jr-btn bg-grey text-white \"\n                            onClick={this.handleCancelImport}\n                          >\n                            {\n                              <IntlMessages id=\"components.establishments.formadd.buttonCancel\" />\n                            }\n                          </Button>\n                        </div>\n                      </div>\n                    )}\n                  />\n                )}\n              </RoleContext.Consumer>\n            </form>\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    establishments: state.establishment.remoteEstablishments,\n    services: state.service.remoteServices,\n    userProfile: state.auth.userProfile,\n    users: state.stuppUsers.remoteStuppUsers,\n    classLevels: state.ClassLevels.remoteLevels,\n    classSections: state.classSections.remoteSections,\n    classes: state.classes,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    successHandling,\n    getAllUsers,\n    getServices,\n    getEstablishment,\n    getUserProfile,\n    getLevels,\n    getSections,\n    getClassesByEstablishmentId,\n    getServicesByEstablishmentId,\n    uploadExcel,\n    uploadUserPhoto,\n    addNewUser,\n    successAddUserHandling,\n    uploadAdminPhoto,\n    uploadProfAndStudentPhoto\n  }\n)(AddUser);\n"]},"metadata":{},"sourceType":"module"}