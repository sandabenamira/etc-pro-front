{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/GradesMenu/routes/Exams/EditExam.js\";\nimport React from \"react\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Auxiliary from \"../../../../../util/Auxiliary\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { connect } from \"react-redux\";\nimport { editExam } from \"../../../../../actions/examAction\";\nimport { subjectsByLevelBySection } from \"../../../../../actions/subjectAction\";\nconst typeExam = [{\n  value: \"DS\",\n  label: \"DS\"\n}, {\n  value: \"Examen\",\n  label: \"Examen\"\n}, {\n  value: \"Travaux Pratique\",\n  label: \"Travaux Pratique\"\n}];\nconst periodExam = [{\n  value: \"1er Trimestre\",\n  label: \"1er Trimestre\"\n}, {\n  value: \"2eme Trimestre\",\n  label: \"2eme Trimestre\"\n}, {\n  value: \"3eme Trimestre\",\n  label: \"3eme Trimestre\"\n}, {\n  value: \"Session Controle\",\n  label: \"Session Controle\"\n}];\n\nclass EditExam extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const type = this.state.type;\n      const period = this.state.period;\n      const subject_id = this.state.subject_id;\n      const establishment_id = this.state.establishment_id;\n      const class_id = this.state.class_id;\n      const coefficient = this.state.coefficient;\n      const id = this.state.id;\n      const data = {\n        id,\n        type,\n        period,\n        subject_id,\n        coefficient,\n        class_id,\n        establishment_id\n      };\n      this.props.dispatch(editExam(data));\n      this.props.cancelModal();\n    };\n\n    this.state = {\n      previewVisible: true,\n      type: \"\",\n      period: \"\",\n      coefficient: \"\",\n      establishment_id: 0,\n      section_id: 0,\n      level_id: 0,\n      subject_id: 0,\n      class_id: 0,\n      status: \"\",\n      id: 0,\n      subjectListFiltered: [],\n      classListFiltered: []\n    };\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.props.listClasses);\n    let classSelected = this.props.listClasses.filter(classe => this.props.ExamItem.class_id == classe.id);\n    console.log('====================================');\n    console.log(classSelected);\n    console.log('====================================');\n    this.setState({\n      type: this.props.ExamItem.type,\n      period: this.props.ExamItem.period,\n      subject_id: this.props.ExamItem.subject_id,\n      establishment_id: this.props.ExamItem.establishment_id,\n      class_id: this.props.ExamItem.class_id,\n      level_id: classSelected[0].level_id,\n      section_id: classSelected[0].section_id,\n      coefficient: this.props.ExamItem.coefficient,\n      id: this.props.ExamItem.id\n    });\n  }\n\n  handleCancel() {\n    this.props.cancelModal();\n  }\n\n  handleToggle() {\n    this.props.cancelModal();\n  }\n\n  render() {\n    const listEstablishment = this.props.listEstablishment; // console.log(\"====================================\");\n\n    console.log(\"ediiiiit\", this.props.ExamItem); // console.log(this.props.listClasses);\n    // console.log(\"====================================\");\n    //  console.log(\"====================================\");\n    // console.log(this.state.level_id, \"this.state.level_id\");\n    // console.log(this.state.section_id, \"this.state.section_id\");\n    // console.log(this.state.class_id, \"this.state.class_id\");\n    // console.log(this.state.subject_id, \"this.state.subject_id\");\n    // console.log(this.state.period, \"this.state.period\");\n    // console.log(this.state.type, \"this.state.type\");\n\n    return /*#__PURE__*/React.createElement(Auxiliary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.previewVisible,\n      toggle: this.handleToggle.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      className: \"modal-box-header bg-primary text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"modal.modif.room\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 14\n      }\n    })), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"row\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      id: \"class_id\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.exam.form.class\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 26\n        }\n      }),\n      value: this.state.class_id,\n      onChange: this.handleChange(\"class_id\"),\n      SelectProps: {},\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, this.props.listClasses.map(classe => /*#__PURE__*/React.createElement(MenuItem, {\n      key: classe.id,\n      value: classe.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, classe.name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      id: \"subject\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.exam.form.subject\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 26\n        }\n      }),\n      value: this.state.subject_id,\n      onChange: this.handleChange(\"subject_id\"),\n      SelectProps: {},\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, subjectsByLevelBySection(this.props.listSubject, this.state.level_id, this.state.section_id).map(subject => /*#__PURE__*/React.createElement(MenuItem, {\n      key: subject.id,\n      value: subject.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, subject.name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"type\",\n      id: \"type\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.exam.form.type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 26\n        }\n      }),\n      onChange: this.handleChange(\"type\"),\n      value: this.state.type,\n      SelectProps: {},\n      fullWidth: true,\n      margin: \"normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, typeExam.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, option.label)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"period\",\n      id: \"period\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.exam.form.period\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 26\n        }\n      }),\n      onChange: this.handleChange(\"period\"),\n      value: this.state.period,\n      SelectProps: {},\n      fullWidth: true,\n      margin: \"normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, periodExam.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.value,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, option.label)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"coefficient\",\n      type: \"number\",\n      id: \"coefficient\",\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.exam.form.coefficient\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 26\n        }\n      }),\n      onChange: this.handleChange(\"coefficient\"),\n      value: this.state.coefficient,\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"font\", {\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 19\n      }\n    }, \"*\"), \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"component.required_fields\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 20\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 text-left \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"jr-btn bg-indigo text-white \",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formModify.buttonModify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"jr-btn bg-grey text-white \",\n      onClick: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.buttonCancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }\n    })))))));\n  }\n\n}\n\nexport default connect()(EditExam);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/GradesMenu/routes/Exams/EditExam.js"],"names":["React","Modal","ModalBody","ModalHeader","IntlMessages","TextField","Button","Auxiliary","MenuItem","connect","editExam","subjectsByLevelBySection","typeExam","value","label","periodExam","EditExam","Component","constructor","props","handleChange","name","event","setState","target","handleSubmit","e","preventDefault","type","state","period","subject_id","establishment_id","class_id","coefficient","id","data","dispatch","cancelModal","previewVisible","section_id","level_id","status","subjectListFiltered","classListFiltered","handleCancel","bind","componentDidMount","console","log","listClasses","classSelected","filter","classe","ExamItem","handleToggle","render","listEstablishment","map","listSubject","subject","option"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Auxiliary from \"../../../../../util/Auxiliary\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { connect } from \"react-redux\";\nimport { editExam } from \"../../../../../actions/examAction\";\nimport { subjectsByLevelBySection } from \"../../../../../actions/subjectAction\";\n\nconst typeExam = [\n  {\n    value: \"DS\",\n    label: \"DS\",\n  },\n  {\n    value: \"Examen\",\n    label: \"Examen\",\n  },\n  {\n    value: \"Travaux Pratique\",\n    label: \"Travaux Pratique\",\n  },\n];\nconst periodExam = [\n  {\n    value: \"1er Trimestre\",\n    label: \"1er Trimestre\",\n  },\n  {\n    value: \"2eme Trimestre\",\n    label: \"2eme Trimestre\",\n  },\n  {\n    value: \"3eme Trimestre\",\n    label: \"3eme Trimestre\",\n  },\n  {\n    value: \"Session Controle\",\n    label: \"Session Controle\",\n  },\n];\n\nclass EditExam extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      previewVisible: true,\n      type: \"\",\n      period: \"\",\n      coefficient: \"\",\n      establishment_id: 0,\n      section_id: 0,\n      level_id:0,\n      subject_id: 0,\n      class_id: 0,\n      status: \"\",\n      id: 0,\n      subjectListFiltered: [],\n      classListFiltered: [],\n    };\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.props.listClasses);\n    let classSelected = this.props.listClasses.filter(\n        (classe) =>\n          this.props.ExamItem.class_id == classe.id\n      )\n      console.log('====================================');\n      console.log(classSelected);\n      console.log('====================================');\n    this.setState({\n      type: this.props.ExamItem.type,\n      period: this.props.ExamItem.period,\n      subject_id: this.props.ExamItem.subject_id,\n      establishment_id: this.props.ExamItem.establishment_id,\n      class_id: this.props.ExamItem.class_id,\n      level_id:classSelected[0].level_id,\n      section_id:classSelected[0].section_id,\n      coefficient: this.props.ExamItem.coefficient,\n      id: this.props.ExamItem.id,\n    \n    });\n  }\n\n  handleCancel() {\n    this.props.cancelModal();\n  }\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n    \n  };\n\n  handleToggle() {\n    this.props.cancelModal();\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const type = this.state.type;\n    const period = this.state.period;\n    const subject_id = this.state.subject_id;\n    const establishment_id = this.state.establishment_id;\n    const class_id = this.state.class_id;\n    const coefficient = this.state.coefficient;\n    const id = this.state.id;\n\n    const data = {\n      id,\n      type,\n      period,\n      subject_id,\n      coefficient,\n      class_id,\n      establishment_id,\n    };\n\n    this.props.dispatch(editExam(data));\n    this.props.cancelModal();\n  };\n\n  render() {\n    const listEstablishment = this.props.listEstablishment;\n    // console.log(\"====================================\");\n       console.log( \"ediiiiit\", this.props.ExamItem);\n    // console.log(this.props.listClasses);\n    // console.log(\"====================================\");\n    //  console.log(\"====================================\");\n    // console.log(this.state.level_id, \"this.state.level_id\");\n    // console.log(this.state.section_id, \"this.state.section_id\");\n    // console.log(this.state.class_id, \"this.state.class_id\");\n    // console.log(this.state.subject_id, \"this.state.subject_id\");\n    // console.log(this.state.period, \"this.state.period\");\n    // console.log(this.state.type, \"this.state.type\");\n\n\n    return (\n      <Auxiliary>\n        <Modal\n          isOpen={this.state.previewVisible}\n          toggle={this.handleToggle.bind(this)}\n        >\n          <ModalHeader className=\"modal-box-header bg-primary text-white\">\n            {<IntlMessages id=\"modal.modif.room\" />}\n          </ModalHeader>\n          <ModalBody>\n            <form className=\"row\" onSubmit={this.handleSubmit}>\n              <div className=\"col-sm-6\">\n                <TextField\n                  required\n                  id=\"class_id\"\n                  select\n                  label={<IntlMessages id=\"components.exam.form.class\" />}\n                  value={this.state.class_id}\n                  onChange={this.handleChange(\"class_id\")}\n                  SelectProps={{}}\n                  margin=\"normal\"\n                  fullWidth\n                >\n                  {this.props.listClasses.map((classe) => (\n                    <MenuItem key={classe.id} value={classe.id}>\n                      {classe.name}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              </div>\n              <div className=\"col-sm-6\">\n                <TextField\n                  required\n                  id=\"subject\"\n                  select\n                  label={<IntlMessages id=\"components.exam.form.subject\" />}\n                  value={this.state.subject_id}\n                  onChange={this.handleChange(\"subject_id\")}\n                  SelectProps={{}}\n                  margin=\"normal\"\n                  fullWidth\n                >\n                  {subjectsByLevelBySection(\n                           this.props.listSubject,\n                           this.state.level_id,\n                           this.state.section_id\n                           ).map((subject) => (\n                    <MenuItem key={subject.id} value={subject.id}>\n                      {subject.name}  \n                    </MenuItem>\n                  ))}\n                </TextField>\n              </div>\n              <div className=\"col-sm-6\">\n                <TextField\n                  required\n                  name=\"type\"\n                  id=\"type\"\n                  select\n                  label={<IntlMessages id=\"components.exam.form.type\" />}\n                  onChange={this.handleChange(\"type\")}\n                  value={this.state.type}\n                  SelectProps={{}}\n                  fullWidth\n                  margin=\"normal\"\n                >\n                  {typeExam.map((option) => (\n                    <MenuItem key={option.value} value={option.value}>\n                      {option.label}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              </div>\n              <div className=\"col-sm-6\">\n                <TextField\n                  required\n                  name=\"period\"\n                  id=\"period\"\n                  select\n                  label={<IntlMessages id=\"components.exam.form.period\" />}\n                  onChange={this.handleChange(\"period\")}\n                  value={this.state.period}\n                  SelectProps={{}}\n                  fullWidth\n                  margin=\"normal\"\n                >\n                  {periodExam.map((option) => (\n                    <MenuItem key={option.value} value={option.value}>\n                      {option.label}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              </div>\n              <div className=\"col-sm-6\">\n                <TextField\n                  required\n                  name=\"coefficient\"\n                  type=\"number\"\n                  id=\"coefficient\"\n                  label={<IntlMessages id=\"components.exam.form.coefficient\" />}\n                  onChange={this.handleChange(\"coefficient\")}\n                  value={this.state.coefficient}\n                  margin=\"normal\"\n                  fullWidth\n                />\n              </div>\n\n              <br />\n              <br />\n              <br />\n              <br />\n              <br />\n              <div className=\"col-sm-12\">\n                <h4>\n                  <font color=\"red\">*</font>{\" \"}\n                  {<IntlMessages id=\"component.required_fields\" />}\n                </h4>\n              </div>\n              <div className=\"col-md-12 text-left \">\n                <br />\n                <br />\n                <Button\n                  variant=\"contained\"\n                  className=\"jr-btn bg-indigo text-white \"\n                  type=\"submit\"\n                >\n                  {\n                    <IntlMessages id=\"components.establishments.formModify.buttonModify\" />\n                  }\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  className=\"jr-btn bg-grey text-white \"\n                  onClick={this.handleCancel}\n                >\n                  {\n                    <IntlMessages id=\"components.establishments.formadd.buttonCancel\" />\n                  }\n                </Button>\n              </div>\n            </form>\n          </ModalBody>\n        </Modal>\n      </Auxiliary>\n    );\n  }\n}\n\nexport default connect()(EditExam);\n"]},"metadata":{},"sourceType":"module"}