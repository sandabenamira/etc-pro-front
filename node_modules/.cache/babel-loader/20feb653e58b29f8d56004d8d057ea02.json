{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Administration/routes/UsersManagement/UsersListItem.js\";\nimport React, { Component } from 'react';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport Avatar from '@material-ui/core/Avatar';\nimport defaultAvatar from '../../../../../assets/images/default-Avatar.png';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { roleIdSuperAdmin, roleIdAdmin, roleIdProfessor, roleIdStudent, roleIdDirector, roleIdParent, roleIdSupervisor } from '../../../../../config/config';\nimport ModalDetailsUser from './ModalDetailsUser';\nimport { deleteUserPermitted, editUserPermitted } from '../../../../../constants/validationFunctions';\nconst listRole = [// { id: 0, label: <IntlMessages id={`permission.role.all`} /> },\n{\n  id: roleIdAdmin,\n  label: 'Admin'\n}, {\n  id: roleIdDirector,\n  label: 'Director'\n}, {\n  id: roleIdProfessor,\n  label: 'Formateur'\n}, {\n  id: roleIdStudent,\n  label: 'Participant'\n}, {\n  id: roleIdParent,\n  label: 'Responsable formation'\n}];\n\nclass UsersListItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uri: '',\n      menuState: false,\n      anchorEl: undefined,\n      openDetails: false\n    };\n    this.handleCancelDetails = this.handleCancelDetails.bind(this);\n    this.handleOpenDetails = this.handleOpenDetails.bind(this);\n  }\n\n  handleCancelDetails() {\n    this.setState({\n      openDetails: false\n    });\n  }\n\n  handleOpenDetails() {\n    this.setState({\n      menuState: false,\n      openDetails: true\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    let listSubjectStudent = [];\n    let listClassStudent = [];\n\n    if (this.props.roleIdFilter == roleIdProfessor) {\n      listSubjectStudent = _.uniqBy(user.inforamtionsProf, 'subjectName');\n      listClassStudent = _.uniqBy(user.inforamtionsProf, 'calssName');\n    }\n\n    let roleUser = listRole.find(element => element.id == user.roleId);\n    let roleLabel = roleUser != undefined ? roleUser.label : '';\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableRow, {\n      key: user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, user.urlPhoto ? /*#__PURE__*/React.createElement(Avatar, {\n      align: \"left\",\n      className: \"size-90\",\n      alt: \"...\",\n      src: user.urlPhoto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(Avatar, {\n      align: \"left\",\n      className: \"size-90\",\n      alt: \"...\",\n      src: defaultAvatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, user.name), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, user.surname), this.props.roleIdFilter == 0 ? /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 43\n      }\n    }, roleLabel) : null, this.props.roleIdFilter == roleIdProfessor ? /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, listSubjectStudent.map((element, index) => element.subjectName + ' , ')) : null, this.props.roleIdFilter == roleIdProfessor ? /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, listClassStudent.map(element => element.calssName + ' , ')) : null, this.props.roleIdFilter == roleIdStudent ? /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, user.inforamtionsStudent.classInformation.classname == null ? 'Non Affécté' : user.inforamtionsStudent.classInformation.classname) : null, this.props.roleIdFilter == roleIdStudent ? /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, user.inforamtionsStudent.parentsInformation.length == 0 ? 'Non Affécté' : user.inforamtionsStudent.parentsInformation.map(element => element.parentName + ' ' + element.parentLastName)) : null, this.props.roleIdFilter == roleIdParent ? /*#__PURE__*/React.createElement(TableCell, {\n      align: \"justify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column align-items-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, user.inforamtionsParent.length == 0 ? 'Non Affecté' : user.inforamtionsParent.map(element => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 23\n      }\n    }, element.studentName + ' ', \" \", element.studentLastName)))) : null, this.props.roleIdFilter == roleIdParent ? /*#__PURE__*/React.createElement(TableCell, {\n      align: \"justify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column align-items-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, user.inforamtionsParent.length == 0 ? 'Non Affecté' : user.inforamtionsParent.map(element => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 23\n      }\n    }, element.studentClassName == null ? 'Non Affecté' : element.studentClassName))), ' ') : null, this.props.roleIdFilter == roleIdAdmin || this.props.roleIdFilter == roleIdDirector || this.props.roleIdFilter == roleIdSupervisor || this.props.roleIdFilter == 0 ? /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, user.email) : null, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, user.phone), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"justify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex  flex-row align-items-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }, this.props.userProfile.role_id === roleIdSuperAdmin || this.props.userProfile.role_id === roleIdAdmin ? /*#__PURE__*/React.createElement(IconButton, {\n      size: \"meduim\",\n      className: \"icon-btn\" // onClick={(e) => this.props.handleDelete(cours)}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-lock-outline\",\n      style: {\n        color: 'text-grey'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    })) : '', /*#__PURE__*/React.createElement(IconButton, {\n      size: \"meduim\",\n      className: \"icon-btn\" // onClick={(e) => this.props.handleDelete(cours)}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      style: {\n        color: 'grey',\n        fontWeight: 'normal',\n        fontSize: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"user.new.password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-replay\",\n      style: {\n        color: 'text-grey'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    })), \"\\xA0 | \\xA0\", /*#__PURE__*/React.createElement(IconButton, {\n      size: \"medium\",\n      className: \"icon-btn\",\n      onClick: e => this.handleOpenDetails(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-eye\",\n      style: {\n        color: 'text-grey'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    })), true ? /*#__PURE__*/React.createElement(React.Fragment, null, \"\\xA0 | \\xA0\", /*#__PURE__*/React.createElement(Button, {\n      style: {\n        backgroundColor: 'white',\n        color: '#7C7C7C',\n        width: '50px',\n        height: '20px'\n      },\n      onClick: e => {\n        this.props.handleEdit(user);\n      },\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: '12px',\n        color: '#7C7C7C'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"button.modify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 23\n      }\n    })))) : '', true ? /*#__PURE__*/React.createElement(React.Fragment, null, \"\\xA0 | \\xA0\", /*#__PURE__*/React.createElement(IconButton, {\n      size: \"medium\",\n      className: \"icon-btn\" // onClick={(e) => this.props.handleDelete(cours)}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-delete\",\n      style: {\n        color: 'text-grey'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }))) : ''))), this.state.openDetails ? /*#__PURE__*/React.createElement(ModalDetailsUser, {\n      handleOpenDetails: this.handleOpenDetails,\n      handleCancelDetails: this.handleCancelDetails,\n      openDetails: this.state.openDetails,\n      userItem: this.props.user,\n      userProfile: this.props.userProfile,\n      listRole: listRole,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }\n    }) : '');\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    settings: state.settings.locale,\n    userProfile: state.auth.userProfile,\n    userPermission: state.PermissionReducer.userPermission\n  };\n}\n\nexport default connect(mapStateToProps, {})(UsersListItem);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Administration/routes/UsersManagement/UsersListItem.js"],"names":["React","Component","TableCell","TableRow","IconButton","_","moment","Avatar","defaultAvatar","Menu","MenuItem","IntlMessages","connect","Button","Typography","roleIdSuperAdmin","roleIdAdmin","roleIdProfessor","roleIdStudent","roleIdDirector","roleIdParent","roleIdSupervisor","ModalDetailsUser","deleteUserPermitted","editUserPermitted","listRole","id","label","UsersListItem","constructor","props","state","uri","menuState","anchorEl","undefined","openDetails","handleCancelDetails","bind","handleOpenDetails","setState","render","user","listSubjectStudent","listClassStudent","roleIdFilter","uniqBy","inforamtionsProf","roleUser","find","element","roleId","roleLabel","urlPhoto","name","surname","map","index","subjectName","calssName","inforamtionsStudent","classInformation","classname","parentsInformation","length","parentName","parentLastName","inforamtionsParent","studentName","studentLastName","studentClassName","email","phone","userProfile","role_id","color","fontWeight","fontSize","e","backgroundColor","width","height","handleEdit","mapStateToProps","settings","locale","auth","userPermission","PermissionReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport Avatar from '@material-ui/core/Avatar';\nimport defaultAvatar from '../../../../../assets/images/default-Avatar.png';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {\n  roleIdSuperAdmin,\n  roleIdAdmin,\n  roleIdProfessor,\n  roleIdStudent,\n  roleIdDirector,\n  roleIdParent,\n  roleIdSupervisor,\n} from '../../../../../config/config';\nimport ModalDetailsUser from './ModalDetailsUser';\nimport {\n  deleteUserPermitted,\n  editUserPermitted,\n} from '../../../../../constants/validationFunctions';\nconst listRole = [\n  // { id: 0, label: <IntlMessages id={`permission.role.all`} /> },\n  { id: roleIdAdmin, label: 'Admin' },\n  { id: roleIdDirector, label: 'Director' },\n  { id: roleIdProfessor, label: 'Formateur' },\n  { id: roleIdStudent, label: 'Participant' },\n  { id: roleIdParent, label: 'Responsable formation' },\n];\nclass UsersListItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      uri: '',\n      menuState: false,\n      anchorEl: undefined,\n      openDetails: false,\n    };\n    this.handleCancelDetails = this.handleCancelDetails.bind(this);\n    this.handleOpenDetails = this.handleOpenDetails.bind(this);\n  }\n  handleCancelDetails() {\n    this.setState({ openDetails: false });\n  }\n  handleOpenDetails() {\n    this.setState({ menuState: false, openDetails: true });\n  }\n  render() {\n    const { user } = this.props;\n    let listSubjectStudent = [];\n    let listClassStudent = [];\n\n    if (this.props.roleIdFilter == roleIdProfessor) {\n      listSubjectStudent = _.uniqBy(user.inforamtionsProf, 'subjectName');\n      listClassStudent = _.uniqBy(user.inforamtionsProf, 'calssName');\n    }\n    let roleUser = listRole.find((element) => element.id == user.roleId);\n    let roleLabel = roleUser != undefined ? roleUser.label : '';\n    return (\n      <>\n        <TableRow key={user.id}>\n          <TableCell>\n            {user.urlPhoto ? (\n              <Avatar align=\"left\" className=\"size-90\" alt=\"...\" src={user.urlPhoto} />\n            ) : (\n              <Avatar align=\"left\" className=\"size-90\" alt=\"...\" src={defaultAvatar} />\n            )}\n          </TableCell>\n          {/* <TableCell>{user.cin}</TableCell> */}\n          <TableCell>{user.name}</TableCell>\n          <TableCell>{user.surname}</TableCell>\n          {this.props.roleIdFilter == 0 ? <TableCell>{roleLabel}</TableCell> : null}\n          {/* ------------     affichage classe et matiére pour prof -------------------------------------------*/}\n          {this.props.roleIdFilter == roleIdProfessor ? (\n            <TableCell>\n              {listSubjectStudent.map((element, index) => element.subjectName + ' , ')}\n            </TableCell>\n          ) : null}\n          {this.props.roleIdFilter == roleIdProfessor ? (\n            <TableCell>{listClassStudent.map((element) => element.calssName + ' , ')}</TableCell>\n          ) : null}\n          {/* ------------     affichage classe et parent pour student -------------------------------------------*/}\n\n          {this.props.roleIdFilter == roleIdStudent ? (\n            <TableCell>\n              {user.inforamtionsStudent.classInformation.classname == null\n                ? 'Non Affécté'\n                : user.inforamtionsStudent.classInformation.classname}\n            </TableCell>\n          ) : null}\n          {this.props.roleIdFilter == roleIdStudent ? (\n            <TableCell>\n              {user.inforamtionsStudent.parentsInformation.length == 0\n                ? 'Non Affécté'\n                : user.inforamtionsStudent.parentsInformation.map(\n                    (element) => element.parentName + ' ' + element.parentLastName\n                  )}\n            </TableCell>\n          ) : null}\n          {/* ------------     affichage enfant et classe pour parent -------------------------------------------*/}\n\n          {this.props.roleIdFilter == roleIdParent ? (\n            <TableCell align=\"justify\">\n              <div className=\"d-flex flex-column align-items-right\">\n                {user.inforamtionsParent.length == 0\n                  ? 'Non Affecté'\n                  : user.inforamtionsParent.map((element) => (\n                      <div>\n                        {element.studentName + ' '} {element.studentLastName}\n                      </div>\n                    ))}\n              </div>\n            </TableCell>\n          ) : null}\n          {this.props.roleIdFilter == roleIdParent ? (\n            <TableCell align=\"justify\">\n              <div className=\"d-flex flex-column align-items-right\">\n                {user.inforamtionsParent.length == 0\n                  ? 'Non Affecté'\n                  : user.inforamtionsParent.map((element) => (\n                      <div>\n                        {element.studentClassName == null\n                          ? 'Non Affecté'\n                          : element.studentClassName}\n                      </div>\n                    ))}\n              </div>{' '}\n            </TableCell>\n          ) : null}\n          {/* ------------     éliminer colonne email  -------------------------------------------*/}\n\n          {this.props.roleIdFilter == roleIdAdmin ||\n          this.props.roleIdFilter == roleIdDirector ||\n          this.props.roleIdFilter == roleIdSupervisor ||\n          this.props.roleIdFilter == 0 ? (\n            <TableCell>{user.email}</TableCell>\n          ) : null}\n\n          <TableCell>{user.phone}</TableCell>\n\n          <TableCell align=\"justify\">\n            <div className=\"d-flex  flex-row align-items-right\">\n              {this.props.userProfile.role_id === roleIdSuperAdmin ||\n              this.props.userProfile.role_id === roleIdAdmin ? (\n                <IconButton\n                  size=\"meduim\"\n                  className=\"icon-btn\"\n                  // onClick={(e) => this.props.handleDelete(cours)}\n                >\n                  <i className=\"zmdi zmdi-lock-outline\" style={{ color: 'text-grey' }} />\n                </IconButton>\n              ) : (\n                ''\n              )}\n              <IconButton\n                size=\"meduim\"\n                className=\"icon-btn\"\n                // onClick={(e) => this.props.handleDelete(cours)}\n              >\n                <Typography\n                  variant=\"h6\"\n                  style={{\n                    color: 'grey',\n                    fontWeight: 'normal',\n                    fontSize: 10,\n                  }}\n                >\n                  <IntlMessages id=\"user.new.password\" />\n                </Typography>\n                <i className=\"zmdi zmdi-replay\" style={{ color: 'text-grey' }} />\n              </IconButton>\n              &nbsp; | &nbsp;\n              <IconButton\n                size=\"medium\"\n                className=\"icon-btn\"\n                onClick={(e) => this.handleOpenDetails(e)}\n              >\n                <i className=\"zmdi zmdi-eye\" style={{ color: 'text-grey' }} />\n              </IconButton>\n              {/* {editUserPermitted(user.roleName, this.props.userPermission) ? ( */}\n              {true ? (\n                <>\n                  &nbsp; | &nbsp;\n                  <Button\n                    style={{\n                      backgroundColor: 'white',\n                      color: '#7C7C7C',\n                      width: '50px',\n                      height: '20px',\n                    }}\n                    onClick={(e) => {\n                      this.props.handleEdit(user);\n                    }}\n                    target=\"_blank\"\n                  >\n                    <span style={{ fontSize: '12px', color: '#7C7C7C' }}>\n                      <IntlMessages id=\"button.modify\" />\n                    </span>\n                  </Button>\n                </>\n              ) : (\n                ''\n              )}\n              {/* {deleteUserPermitted(user.roleName, this.props.userPermission) ? ( */}\n              {true ? (\n                <>\n                  &nbsp; | &nbsp;\n                  <IconButton\n                    size=\"medium\"\n                    className=\"icon-btn\"\n                    // onClick={(e) => this.props.handleDelete(cours)}\n                  >\n                    <i className=\"zmdi zmdi-delete\" style={{ color: 'text-grey' }} />\n                  </IconButton>\n                </>\n              ) : (\n                ''\n              )}\n            </div>\n          </TableCell>\n        </TableRow>\n        {this.state.openDetails ? (\n          <ModalDetailsUser\n            handleOpenDetails={this.handleOpenDetails}\n            handleCancelDetails={this.handleCancelDetails}\n            openDetails={this.state.openDetails}\n            userItem={this.props.user}\n            userProfile={this.props.userProfile}\n            listRole={listRole}\n          />\n        ) : (\n          ''\n        )}\n      </>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    settings: state.settings.locale,\n    userProfile: state.auth.userProfile,\n    userPermission: state.PermissionReducer.userPermission,\n  };\n}\n\nexport default connect(mapStateToProps, {})(UsersListItem);\n"]},"metadata":{},"sourceType":"module"}