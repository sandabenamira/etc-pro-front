{"ast":null,"code":"import axios from \"axios\";\nimport config from \"../config/config\";\nimport { userSignOut } from \"../actions/Auth\";\nimport configureStore from \"../store\";\nimport { getError } from \"../Error/Error\";\nexport const classService = {\n  get,\n  post,\n  patch,\n  put,\n  deleteDetail,\n  getPhoto\n};\nconst store = configureStore();\n\nfunction get(apiEndpoint) {\n  return axios.get(config.baseUrl + apiEndpoint).then(response => {\n    return response;\n  }).catch(err => {\n    if (err.response.status === 401) {\n      store.dispatch(userSignOut());\n    }\n  });\n}\n\nfunction post(apiEndpoint, payload) {\n  return axios.post(config.baseUrl + apiEndpoint, payload, {\n    headers: {\n      \"content-type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\": \" X-Requested-With, Content-Type\",\n      \"Access-Control-Allow-Methods\": \"POST, GET\"\n    }\n  }).then(response => {\n    return response;\n  }).catch(err => {\n    if (err.response.status === 401) {\n      store.dispatch(userSignOut());\n    } else {}\n  });\n}\n\nfunction patch(apiEndpoint, payload) {\n  return axios.patch(config.baseUrl + apiEndpoint, payload).then(response => {\n    return response;\n  }).catch(err => {\n    if (err.response.status === 401) {\n      store.dispatch(userSignOut());\n    } else {}\n  });\n}\n\nfunction put(apiEndpoint, payload) {\n  return axios.put(config.baseUrl + apiEndpoint, payload).then(response => {\n    return response;\n  }).catch(err => {\n    if (err.response.status === 401) {\n      store.dispatch(userSignOut());\n    } else {}\n  });\n}\n\nfunction deleteDetail(apiEndpoint) {\n  return axios.delete(config.baseUrl + apiEndpoint).then(response => {\n    return response;\n  }).catch(err => {\n    if (err.response.status === 401) {\n      store.dispatch(userSignOut());\n    } else {}\n  });\n}\n\nfunction getPhoto(apiEndpoint) {\n  return axios({\n    url: config.baseUrl + apiEndpoint,\n    method: \"GET\",\n    responseType: \"arraybuffer\"\n  }).then(response => {\n    return response;\n  }).catch(err => {\n    if (err.response.status === 401) {\n      store.dispatch(userSignOut());\n    } else {} // else {\n    //   let errorMessage = getError(err.response.status);\n    //   alert(errorMessage);\n    // }\n\n  });\n}","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/_services/class.service.js"],"names":["axios","config","userSignOut","configureStore","getError","classService","get","post","patch","put","deleteDetail","getPhoto","store","apiEndpoint","baseUrl","then","response","catch","err","status","dispatch","payload","headers","delete","url","method","responseType"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport config from \"../config/config\";\nimport { userSignOut } from \"../actions/Auth\";\nimport configureStore from \"../store\";\nimport { getError } from \"../Error/Error\";\nexport const classService = {\n  get,\n  post,\n  patch,\n  put,\n  deleteDetail,\n  getPhoto,\n};\nconst store = configureStore();\n\nfunction get(apiEndpoint) {\n  return axios\n    .get(config.baseUrl + apiEndpoint)\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      if (err.response.status === 401) {\n        store.dispatch(userSignOut());\n      }\n    });\n}\n\nfunction post(apiEndpoint, payload) {\n  return axios\n    .post(config.baseUrl + apiEndpoint, payload, {\n      headers: {\n        \"content-type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Headers\": \" X-Requested-With, Content-Type\",\n        \"Access-Control-Allow-Methods\": \"POST, GET\",\n      },\n    })\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      if (err.response.status === 401) {\n        store.dispatch(userSignOut());\n      } else {\n      }\n    });\n}\n\nfunction patch(apiEndpoint, payload) {\n  return axios\n    .patch(config.baseUrl + apiEndpoint, payload)\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      if (err.response.status === 401) {\n        store.dispatch(userSignOut());\n      } else {\n      }\n    });\n}\n\nfunction put(apiEndpoint, payload) {\n  return axios\n    .put(config.baseUrl + apiEndpoint, payload)\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      if (err.response.status === 401) {\n        store.dispatch(userSignOut());\n      } else {\n      }\n    });\n}\n\nfunction deleteDetail(apiEndpoint) {\n  return axios\n    .delete(config.baseUrl + apiEndpoint)\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      if (err.response.status === 401) {\n        store.dispatch(userSignOut());\n      } else {\n      }\n    });\n}\n\nfunction getPhoto(apiEndpoint) {\n  return axios({\n    url: config.baseUrl + apiEndpoint,\n    method: \"GET\",\n    responseType: \"arraybuffer\",\n  })\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      if (err.response.status === 401) {\n        store.dispatch(userSignOut());\n      } else {\n      }\n      // else {\n      //   let errorMessage = getError(err.response.status);\n      //   alert(errorMessage);\n      // }\n    });\n}\n"]},"metadata":{},"sourceType":"module"}