{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/index.js\";\nimport React from \"react\";\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Header from \"../components/Header/index\";\nimport Sidebar from \"../containers/SideNav/index\";\nimport Footer from \"../components/Footer\";\nimport Administration from \"./routes/Administration/index\";\nimport RegistreAppel from \"./routes/RegistreAppel/Registre\";\nimport Calendar from \"./routes/Calendar/index\";\nimport Mail from \"./routes/Mail/Mail\";\nimport Devoir from \"./routes/todo/Devoir/Homework\";\nimport Home from \"./routes/Home/index\";\nimport Profile from \"./routes/Profile/index\";\nimport BilletPass from \"./routes/BilletPass/BilletPass\";\nimport { getUserProfile, getSchoolYear } from \"../actions/Auth\";\nimport { ABOVE_THE_HEADER, BELOW_THE_HEADER, COLLAPSED_DRAWER, FIXED_DRAWER, HORIZONTAL_NAVIGATION } from \"../constants/ActionTypes\";\nimport { isIOS, isMobile } from \"react-device-detect\";\nimport asyncComponent from \"../util/asyncComponent\";\nimport TopNav from \"../components/TopNav\";\nimport Complaint from \"./routes/Complaint/Complaint\";\nimport Cafeteria from \"./routes/Cafeteria/index\";\nimport HealthMonitoring from \"./routes/HealthMonitoring/HealthMonitoring\"; // import Learning from \"./routes/Learning/index\";\n\nimport GradesMenu from \"./routes/GradesMenu/index\";\nimport Can from \"../can\";\nimport { RoleContext } from \"../Context\";\nimport Lesson from \"./routes/Lesson/Lesson\";\nimport VirtualClasses from \"./routes/VirtualClasses/VirtualClasses\";\nimport Community from \"./routes/Community/index\";\nimport Dashboard from \"./routes/Dashboard/index\";\nimport Libraries from \"./routes/Libraries/index\";\nimport FinancialManagement from \"./routes/FinancialManagement/index\";\nimport Superadmin from \"./routes/Superadmin/index\";\nimport ModalEstablishmentList from \"./routes/Home/admin/ModalEstablishmentList\";\nimport { getSubjectModules } from '../actions/SubjectModuleAction';\nimport { getSection } from '../actions/SectionsAction';\nimport { getLevel } from '../actions/LevelAction';\nimport { getSubjectSetting, getSubjectByEstablishmentAndSchoolYear } from '../actions/subjectAction';\nimport _ from \"lodash\";\nimport { getClassSettings } from '../actions/ClassSettingsAction';\n\nconst RouteControl = ({\n  pathName,\n  estabModule,\n  Component,\n  match\n}) => {\n  return /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, ({\n    role\n  }) => /*#__PURE__*/React.createElement(Can, {\n    role: role,\n    perform: `module-nav-${pathName}`,\n    yes: () => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"module-nav-access\",\n      data: {\n        mod: pathName,\n        moduleList: estabModule\n      },\n      yes: () => /*#__PURE__*/React.createElement(Component, {\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 26\n        }\n      }),\n      no: () => /*#__PURE__*/React.createElement(Route, {\n        component: asyncComponent(() => import(\"../components/Error404\")),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }),\n    no: () => /*#__PURE__*/React.createElement(Route, {\n      component: asyncComponent(() => import(\"../components/Error404\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }));\n};\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      load: false\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    const user = localStorage.getItem(\"user_id\");\n    this.props.dispatch(getUserProfile(parseInt(user)));\n\n    if (_.isEmpty(this.props.schoolYear)) {\n      this.props.dispatch(getSchoolYear());\n    }\n\n    this.props.dispatch(getSubjectModules(localStorage.establishment_id, localStorage.school_year_id));\n    this.props.dispatch(getClassSettings(localStorage.establishment_id, localStorage.school_year_id));\n    this.props.dispatch(getSection(localStorage.establishment_id, localStorage.school_year_id));\n    this.props.dispatch(getLevel(localStorage.establishment_id, localStorage.school_year_id));\n    this.props.dispatch(getSubjectSetting(localStorage.establishment_id, localStorage.school_year_id));\n    this.props.dispatch(getSubjectByEstablishmentAndSchoolYear(localStorage.establishment_id, localStorage.school_year_id));\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userProfile !== this.props.userProfile) {\n      this.props.dispatch(getSubjectSetting(localStorage.establishment_id, localStorage.school_year_id));\n      this.props.dispatch(getSection(localStorage.establishment_id, localStorage.school_year_id));\n      this.props.dispatch(getClassSettings(localStorage.establishment_id, localStorage.school_year_id));\n      this.props.dispatch(getSubjectByEstablishmentAndSchoolYear(localStorage.establishment_id, localStorage.school_year_id));\n    }\n  }\n\n  render() {\n    const {\n      match,\n      drawerType,\n      navigationStyle,\n      horizontalNavPosition,\n      estabModule\n    } = this.props;\n    const drawerStyle = drawerType.includes(FIXED_DRAWER) ? \"fixed-drawer\" : drawerType.includes(COLLAPSED_DRAWER) ? \"collapsible-drawer\" : \"mini-drawer\"; //set default height and overflow for iOS mobile Safari 10+ support.\n\n    if (isIOS && isMobile) {\n      document.body.classList.add(\"ios-mobile-view-height\");\n    } else if (document.body.classList.contains(\"ios-mobile-view-height\")) {\n      document.body.classList.remove(\"ios-mobile-view-height\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `app-container ${drawerStyle}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      estabModule: this.props.estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-main-container bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `app-header ${navigationStyle === HORIZONTAL_NAVIGATION ? \"app-header-horizontal\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, navigationStyle === HORIZONTAL_NAVIGATION && horizontalNavPosition === ABOVE_THE_HEADER && /*#__PURE__*/React.createElement(TopNav, {\n      styleName: \"app-top-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }), navigationStyle === HORIZONTAL_NAVIGATION && horizontalNavPosition === BELOW_THE_HEADER && /*#__PURE__*/React.createElement(TopNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 61\n      }\n    })), this.props.multiple ? /*#__PURE__*/React.createElement(ModalEstablishmentList, {\n      multiple: this.props.multiple,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"main\", {\n      className: \"app-main-content-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/profile`,\n      component: Profile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/home`,\n      render: props => /*#__PURE__*/React.createElement(Home, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/administration`,\n      render: props => /*#__PURE__*/React.createElement(Administration, Object.assign({\n        match: match,\n        estabModule: estabModule\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/superadmin`,\n      render: props => /*#__PURE__*/React.createElement(Superadmin, Object.assign({\n        match: match,\n        estabModule: estabModule\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/gradesmenu`,\n      render: props => /*#__PURE__*/React.createElement(GradesMenu, Object.assign({\n        match: match,\n        estabModule: estabModule\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/calendar`,\n      render: props => /*#__PURE__*/React.createElement(Calendar, Object.assign({\n        match: match,\n        estabModule: estabModule\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/financial_management`,\n      render: props => /*#__PURE__*/React.createElement(FinancialManagement, Object.assign({\n        match: match,\n        estabModule: estabModule\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/billetPass`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"billetPass\",\n        estabModule: estabModule,\n        Component: BilletPass,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/complaints`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"complaints\",\n        estabModule: estabModule,\n        Component: Complaint,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/call_register`,\n      render: props => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"call_register\",\n        estabModule: estabModule,\n        Component: RegistreAppel,\n        match: props.match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/Cafeteria`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"cafeteria\",\n        estabModule: estabModule,\n        Component: Cafeteria,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/devoir`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"devoir\",\n        estabModule: estabModule,\n        Component: Devoir,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/mail`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"mail\",\n        estabModule: estabModule,\n        Component: Mail,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/health-monitoring`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"health-monitoring\",\n        estabModule: estabModule,\n        Component: HealthMonitoring,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/lesson`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"lesson\",\n        estabModule: estabModule,\n        Component: Lesson,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/virtual_classes`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"virtual_classes\",\n        estabModule: estabModule,\n        Component: VirtualClasses,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/community`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"community\",\n        estabModule: estabModule,\n        Component: Community,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/dashboard`,\n      render: () => /*#__PURE__*/React.createElement(RouteControl, {\n        pathName: \"dashboard\",\n        estabModule: estabModule,\n        Component: Dashboard,\n        match: match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${match.url}/e-libraries`,\n      render: props => /*#__PURE__*/React.createElement(Libraries, Object.assign({\n        match: match,\n        estabModule: estabModule\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      component: asyncComponent(() => import(\"../components/Error404\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  settings,\n  establishment,\n  auth,\n  schoolYearEtab\n}) => {\n  const {\n    drawerType,\n    navigationStyle,\n    horizontalNavPosition\n  } = settings;\n  const {\n    estabModule\n  } = establishment;\n  const {\n    multiple,\n    userProfile\n  } = auth;\n  const {\n    schoolYear\n  } = schoolYearEtab;\n  return {\n    drawerType,\n    navigationStyle,\n    horizontalNavPosition,\n    estabModule,\n    multiple,\n    userProfile,\n    schoolYear\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(App));","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/index.js"],"names":["React","Route","Switch","withRouter","connect","Header","Sidebar","Footer","Administration","RegistreAppel","Calendar","Mail","Devoir","Home","Profile","BilletPass","getUserProfile","getSchoolYear","ABOVE_THE_HEADER","BELOW_THE_HEADER","COLLAPSED_DRAWER","FIXED_DRAWER","HORIZONTAL_NAVIGATION","isIOS","isMobile","asyncComponent","TopNav","Complaint","Cafeteria","HealthMonitoring","GradesMenu","Can","RoleContext","Lesson","VirtualClasses","Community","Dashboard","Libraries","FinancialManagement","Superadmin","ModalEstablishmentList","getSubjectModules","getSection","getLevel","getSubjectSetting","getSubjectByEstablishmentAndSchoolYear","_","getClassSettings","RouteControl","pathName","estabModule","Component","match","role","mod","moduleList","App","state","load","UNSAFE_componentWillMount","user","localStorage","getItem","props","dispatch","parseInt","isEmpty","schoolYear","establishment_id","school_year_id","componentDidUpdate","prevProps","userProfile","render","drawerType","navigationStyle","horizontalNavPosition","drawerStyle","includes","document","body","classList","add","contains","remove","multiple","url","mapStateToProps","settings","establishment","auth","schoolYearEtab"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"../components/Header/index\";\r\nimport Sidebar from \"../containers/SideNav/index\";\r\nimport Footer from \"../components/Footer\";\r\nimport Administration from \"./routes/Administration/index\";\r\nimport RegistreAppel from \"./routes/RegistreAppel/Registre\";\r\nimport Calendar from \"./routes/Calendar/index\";\r\nimport Mail from \"./routes/Mail/Mail\";\r\nimport Devoir from \"./routes/todo/Devoir/Homework\";\r\nimport Home from \"./routes/Home/index\";\r\nimport Profile from \"./routes/Profile/index\";\r\nimport BilletPass from \"./routes/BilletPass/BilletPass\";\r\nimport { getUserProfile, getSchoolYear } from \"../actions/Auth\";\r\nimport {\r\n  ABOVE_THE_HEADER,\r\n  BELOW_THE_HEADER,\r\n  COLLAPSED_DRAWER,\r\n  FIXED_DRAWER,\r\n  HORIZONTAL_NAVIGATION\r\n} from \"../constants/ActionTypes\";\r\nimport { isIOS, isMobile } from \"react-device-detect\";\r\nimport asyncComponent from \"../util/asyncComponent\";\r\nimport TopNav from \"../components/TopNav\";\r\nimport Complaint from \"./routes/Complaint/Complaint\";\r\nimport Cafeteria from \"./routes/Cafeteria/index\";\r\nimport HealthMonitoring from \"./routes/HealthMonitoring/HealthMonitoring\";\r\n// import Learning from \"./routes/Learning/index\";\r\n\r\nimport GradesMenu from \"./routes/GradesMenu/index\";\r\nimport Can from \"../can\";\r\nimport { RoleContext } from \"../Context\";\r\nimport Lesson from \"./routes/Lesson/Lesson\";\r\nimport VirtualClasses from \"./routes/VirtualClasses/VirtualClasses\";\r\nimport Community from \"./routes/Community/index\";\r\nimport Dashboard from \"./routes/Dashboard/index\"\r\nimport Libraries from \"./routes/Libraries/index\";\r\nimport FinancialManagement from \"./routes/FinancialManagement/index\";\r\nimport Superadmin from \"./routes/Superadmin/index\"\r\nimport ModalEstablishmentList from \"./routes/Home/admin/ModalEstablishmentList\";\r\nimport { getSubjectModules } from '../actions/SubjectModuleAction'\r\nimport {getSection} from '../actions/SectionsAction'\r\nimport { getLevel } from '../actions/LevelAction'\r\nimport { getSubjectSetting , getSubjectByEstablishmentAndSchoolYear} from '../actions/subjectAction';\r\nimport _ from \"lodash\";\r\nimport {getClassSettings} from '../actions/ClassSettingsAction'\r\n\r\nconst RouteControl = ({ pathName, estabModule, Component, match }) => {\r\n  return (\r\n    <RoleContext.Consumer>\r\n      {({ role }) => (\r\n        <Can\r\n          role={role}\r\n          perform={`module-nav-${pathName}`}\r\n          yes={() => (\r\n            <Can\r\n              role={role}\r\n              perform=\"module-nav-access\"\r\n              data={{\r\n                mod: pathName,\r\n                moduleList: estabModule\r\n              }}\r\n              yes={() => <Component match={match} />}\r\n              no={() => (\r\n                <Route\r\n                  component={asyncComponent(() =>\r\n                    import(\"../components/Error404\")\r\n                  )}\r\n                />\r\n              )}\r\n            />\r\n          )}\r\n          no={() => (\r\n            <Route\r\n              component={asyncComponent(() => import(\"../components/Error404\"))}\r\n            />\r\n          )}\r\n        />\r\n      )}\r\n    </RoleContext.Consumer>\r\n  );\r\n};\r\nclass App extends React.Component {\r\n  state = {\r\n    load: false\r\n  };\r\n  UNSAFE_componentWillMount() {\r\n    const user = localStorage.getItem(\"user_id\");\r\n    this.props.dispatch(getUserProfile(parseInt(user)));\r\n    if(_.isEmpty(this.props.schoolYear))\r\n    {\r\n      this.props.dispatch(getSchoolYear());\r\n\r\n    }\r\n     this.props.dispatch(getSubjectModules(localStorage.establishment_id,localStorage.school_year_id))\r\n     this.props.dispatch(getClassSettings(localStorage.establishment_id,localStorage.school_year_id))\r\n     this.props.dispatch(getSection(localStorage.establishment_id,localStorage.school_year_id))\r\n     this.props.dispatch(getLevel(localStorage.establishment_id,localStorage.school_year_id))\r\n     this.props.dispatch(getSubjectSetting(localStorage.establishment_id,localStorage.school_year_id))\r\n    this.props.dispatch(getSubjectByEstablishmentAndSchoolYear(localStorage.establishment_id,localStorage.school_year_id))\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n      if (prevProps.userProfile !== this.props.userProfile) {\r\n        this.props.dispatch(getSubjectSetting(localStorage.establishment_id,localStorage.school_year_id))\r\n        this.props.dispatch(getSection(localStorage.establishment_id,localStorage.school_year_id))\r\n        this.props.dispatch(getClassSettings(localStorage.establishment_id,localStorage.school_year_id))\r\n        this.props.dispatch(getSubjectByEstablishmentAndSchoolYear(localStorage.establishment_id,localStorage.school_year_id))\r\n\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      match,\r\n      drawerType,\r\n      navigationStyle,\r\n      horizontalNavPosition,\r\n      estabModule\r\n    } = this.props;\r\n    const drawerStyle = drawerType.includes(FIXED_DRAWER)\r\n      ? \"fixed-drawer\"\r\n      : drawerType.includes(COLLAPSED_DRAWER)\r\n        ? \"collapsible-drawer\"\r\n        : \"mini-drawer\";\r\n    //set default height and overflow for iOS mobile Safari 10+ support.\r\n    if (isIOS && isMobile) {\r\n      document.body.classList.add(\"ios-mobile-view-height\");\r\n    } else if (document.body.classList.contains(\"ios-mobile-view-height\")) {\r\n      document.body.classList.remove(\"ios-mobile-view-height\");\r\n    }\r\n    return (\r\n      <div className={`app-container ${drawerStyle}`}>\r\n        <Sidebar estabModule={this.props.estabModule} />\r\n        <div className=\"app-main-container bg-white\">\r\n          <div\r\n            className={`app-header ${\r\n              navigationStyle === HORIZONTAL_NAVIGATION\r\n                ? \"app-header-horizontal\"\r\n                : \"\"\r\n              }`}\r\n          >\r\n            {navigationStyle === HORIZONTAL_NAVIGATION &&\r\n              horizontalNavPosition === ABOVE_THE_HEADER && (\r\n                <TopNav styleName=\"app-top-header\" />\r\n              )}\r\n            <Header />\r\n            {navigationStyle === HORIZONTAL_NAVIGATION &&\r\n              horizontalNavPosition === BELOW_THE_HEADER && <TopNav />}\r\n          </div>\r\n          {this.props.multiple ?\r\n            <ModalEstablishmentList multiple={this.props.multiple} /> : null\r\n\r\n          }\r\n          <main className=\"app-main-content-wrapper\">\r\n            <div className=\"app-main-content\">\r\n              <Switch>\r\n                <Route path={`${match.url}/profile`} component={Profile} />\r\n                <Route\r\n                  path={`${match.url}/home`}\r\n                  render={props => (\r\n                    <Home\r\n                      {...props}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/administration`}\r\n                  render={props => (\r\n                    <Administration\r\n                      match={match}\r\n                      estabModule={estabModule}\r\n                      {...props}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/superadmin`}\r\n                  render={props => (\r\n                    <Superadmin\r\n                      match={match}\r\n                      estabModule={estabModule}\r\n                      {...props}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/gradesmenu`}\r\n                  render={props => (\r\n                    <GradesMenu\r\n                      match={match}\r\n                      estabModule={estabModule}\r\n                      {...props}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/calendar`}\r\n                  render={props => (\r\n                    <Calendar\r\n                      match={match}\r\n                      estabModule={estabModule}\r\n                      {...props}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/financial_management`}\r\n                  render={props => (\r\n                    <FinancialManagement\r\n                      match={match}\r\n                      estabModule={estabModule}\r\n                      {...props}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/billetPass`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"billetPass\"}\r\n                      estabModule={estabModule}\r\n                      Component={BilletPass}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/complaints`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"complaints\"}\r\n                      estabModule={estabModule}\r\n                      Component={Complaint}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/call_register`}\r\n                  render={(props) => (\r\n                    <RouteControl\r\n                      pathName={\"call_register\"}\r\n                      estabModule={estabModule}\r\n                      Component={RegistreAppel}\r\n                      match={props.match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/Cafeteria`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"cafeteria\"}\r\n                      estabModule={estabModule}\r\n                      Component={Cafeteria}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/devoir`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"devoir\"}\r\n                      estabModule={estabModule}\r\n                      Component={Devoir}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/mail`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"mail\"}\r\n                      estabModule={estabModule}\r\n                      Component={Mail}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                {/* <Route\r\n                  path={`${match.url}/e-learning`}\r\n                  render={props => (\r\n                    <Learning\r\n                      match={match}\r\n                      estabModule={estabModule}\r\n                      {...props}\r\n                    />\r\n                  )}\r\n\r\n                /> */}\r\n                <Route\r\n                  path={`${match.url}/health-monitoring`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"health-monitoring\"}\r\n                      estabModule={estabModule}\r\n                      Component={HealthMonitoring}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/lesson`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"lesson\"}\r\n                      estabModule={estabModule}\r\n                      Component={Lesson}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/virtual_classes`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"virtual_classes\"}\r\n                      estabModule={estabModule}\r\n                      Component={VirtualClasses}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/community`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"community\"}\r\n                      estabModule={estabModule}\r\n                      Component={Community}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/dashboard`}\r\n                  render={() => (\r\n                    <RouteControl\r\n                      pathName={\"dashboard\"}\r\n                      estabModule={estabModule}\r\n                      Component={Dashboard}\r\n                      match={match}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path={`${match.url}/e-libraries`}\r\n                  render={props => (\r\n                    <Libraries\r\n                      match={match}\r\n                      estabModule={estabModule}\r\n                      {...props}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  component={asyncComponent(() =>\r\n                    import(\"../components/Error404\")\r\n                  )}\r\n                />\r\n              </Switch>\r\n            </div>\r\n            <Footer />\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ settings, establishment, auth, schoolYearEtab }) => {\r\n  const { drawerType, navigationStyle, horizontalNavPosition } = settings;\r\n  const { estabModule } = establishment;\r\n  const { multiple, userProfile } = auth;\r\n  const {schoolYear} = schoolYearEtab\r\n\r\n  return { drawerType, navigationStyle, horizontalNavPosition, estabModule, multiple, userProfile, schoolYear };\r\n};\r\nexport default withRouter(connect(mapStateToProps)(App));\r\n"]},"metadata":{},"sourceType":"module"}