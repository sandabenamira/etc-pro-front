{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/components/Header/index.js\";\nimport React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Popper from \"@material-ui/core/Popper\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { NavLink } from \"react-router-dom\";\nimport { Dropdown, DropdownMenu, DropdownToggle } from \"reactstrap\";\nimport { userSignOut } from \"../../actions/Auth\";\nimport ColorOption from \"../../containers/Customizer/ColorOption\";\nimport imageStudent from \"../../app/routes/Administration/routes/StuppUser/imageUser/supAdmin.png\";\nimport { BELOW_THE_HEADER, COLLAPSED_DRAWER, FIXED_DRAWER, HORIZONTAL_NAVIGATION, INSIDE_THE_HEADER } from \"../../constants/ActionTypes\";\nimport SearchBox from \"../../components/SearchBox\";\nimport MailNotification from \"../MailNotification/index\";\nimport AppNotification from \"../AppNotification/index\";\nimport CardHeader from \"../../components/dashboard/Common/CardHeader/index\";\nimport { switchLanguage, toggleCollapsedNav } from \"../../actions/Setting\";\nimport baseUrl from \"../../config/config\";\nimport { classService } from \"../../_services/class.service\";\nimport IntlMessages from \"../../util/IntlMessages\";\nimport LanguageSwitcher from \"../../components/LanguageSwitcher/index\";\nimport Menu from \"@material-ui/core/Menu\";\nimport UserInfoPopup from \"../../components/UserInfo/UserInfoPopup\";\nimport SchoolYearModal from \"../../app/routes/Administration/routes/SchoolYear/SchoolYearModal\";\n\nfunction getRoleNameByID(roleId) {\n  switch (roleId) {\n    case \"1\":\n      return /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"role.superAdmin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 14\n        }\n      });\n\n    case \"2\":\n      return /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"role.admin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 14\n        }\n      });\n\n    case \"3\":\n      return /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"toDo.professor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 14\n        }\n      });\n\n    case \"4\":\n      return /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"userStuppDisplay.Parent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }\n      });\n\n    case \"5\":\n      return /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"userStuppDisplay.Student\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 14\n        }\n      });\n\n    case \"6\":\n      return /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"role.supervisor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 14\n        }\n      });\n\n    default:\n      return \"\";\n  }\n}\n\nclass Header extends React.Component {\n  handleCancelPanel() {\n    this.setState({\n      colorOption: false\n    });\n  }\n\n  handleCancelModal() {\n    this.setState({\n      openSchoolYearModal: false\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userProfile.establishment_id !== this.props.userProfile.establishment_id) {\n      let apiEndpoint = `/establishments/` + this.props.userProfile.establishment_id + `?access_token=${localStorage.token}`;\n      classService.get(apiEndpoint).then(res => {\n        if (res) {\n          const establishmentName = res.data.name;\n          const establishmentName_ar = res.data.ar_name;\n          this.setState({\n            establishmentName,\n            establishmentName_ar: establishmentName_ar,\n            uri: `${baseUrl.baseUrl}/containers/` + establishmentName + `/download?access_token=${localStorage.token}`\n          });\n        }\n      });\n    }\n  }\n\n  constructor() {\n    super();\n\n    this.activePanel = () => {\n      this.setState({\n        colorOption: true\n      });\n      this.setState({\n        openProfile: false\n      });\n    };\n\n    this.activeSchoolYear = () => {\n      this.setState({\n        openSchoolYearModal: true\n      }); // this.props.updateSchoolYear()\n    };\n\n    this.handleClick = event => {\n      this.setState({\n        openProfile: true,\n        anchorElProfile: event.currentTarget\n      });\n    };\n\n    this.handleRequestCloseMenuProfile = () => {\n      this.setState({\n        openProfile: false,\n        roleName: \"\"\n      });\n    };\n\n    this.onAppNotificationSelect = () => {\n      this.setState({\n        appNotification: !this.state.appNotification\n      });\n    };\n\n    this.onMailNotificationSelect = () => {\n      this.setState({\n        mailNotification: !this.state.mailNotification\n      });\n    };\n\n    this.onLangSwitcherSelect = event => {\n      this.setState({\n        langSwitcher: !this.state.langSwitcher,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    this.onSearchBoxSelect = () => {\n      this.setState({\n        searchBox: !this.state.searchBox\n      });\n    };\n\n    this.onAppsSelect = () => {\n      this.setState({\n        apps: !this.state.apps\n      });\n    };\n\n    this.onUserInfoSelect = () => {\n      this.setState({\n        userInfo: !this.state.userInfo\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        langSwitcher: false,\n        userInfo: false,\n        mailNotification: false,\n        appNotification: false,\n        searchBox: false,\n        apps: false\n      });\n    };\n\n    this.onToggleCollapsedNav = e => {\n      const val = !this.props.navCollapsed;\n      this.props.toggleCollapsedNav(val);\n    };\n\n    this.Apps = () => {\n      const roleIdSuperAdmin = 1;\n      const roleIdAdmin = 2;\n      const roleIdProfessor = 3;\n      const roleId = parseInt(localStorage.roles_id);\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"jr-list jr-list-half\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 7\n        }\n      }, (() => {\n        if (roleId === roleIdSuperAdmin || roleId === roleIdAdmin) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            className: \"jr-list-item\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            className: \"jr-list-link\",\n            to: \"/app/administration/establishment\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"i\", {\n            className: \"zmdi zmdi-graduation-cap\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"jr-list-text\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"sidebar.administration\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 21\n            }\n          }))));\n        }\n      })(), (() => {\n        if (roleId === roleIdProfessor || roleId === roleIdAdmin || roleId === roleIdSuperAdmin) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            className: \"jr-list-item\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            className: \"jr-list-link\",\n            to: \"/app/call_register\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"i\", {\n            className: \"zmdi zmdi-calendar-alt zmdi-hc-fw\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"jr-list-text\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"pages.registreAppel\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 21\n            }\n          }))));\n        }\n      })(), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"jr-list-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"jr-list-link\",\n        to: \"/app/mail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-email zmdi-hc-fw\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"jr-list-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"sidebar.appModule.mail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }\n      })))), (() => {\n        if (roleId === roleIdSuperAdmin || roleId === roleIdAdmin) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            className: \"jr-list-item\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            className: \"jr-list-link\",\n            to: \"/app/payments\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"i\", {\n            className: \"zmdi zmdi-money-box\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 19\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"jr-list-text\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"sidebar.components.payment\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 21\n            }\n          }))));\n        }\n      })());\n    };\n\n    this.state = {\n      openProfile: false,\n      anchorElProfile: undefined,\n      roleName: \"\",\n      colorOption: false,\n      establishmentName: \"\",\n      uri: \"\",\n      establishmentName_ar: \"\",\n      anchorEl: undefined,\n      searchBox: false,\n      searchText: \"\",\n      mailNotification: false,\n      userInfo: false,\n      langSwitcher: false,\n      appNotification: false,\n      schoolyear: \"2019/2020\",\n      openSchoolYearModal: false\n    };\n  }\n\n  updateSearchText(evt) {\n    this.setState({\n      searchText: evt.target.value\n    });\n  }\n\n  render() {\n    const {\n      drawerType,\n      locale,\n      navigationStyle,\n      horizontalNavPosition,\n      languageId\n    } = this.props;\n    const drawerStyle = drawerType.includes(FIXED_DRAWER) ? \"d-block d-xl-none\" : drawerType.includes(COLLAPSED_DRAWER) ? \"d-block\" : \"d-none\";\n    const establishmentName = this.state.establishmentName;\n    const user = JSON.parse(localStorage.getItem(\"user\")); // const schoolyear = JSON.parse(localStorage.getItem(\"school_year_name\"));\n\n    return /*#__PURE__*/React.createElement(AppBar, {\n      className: \"app-main-header jr-border-radius\",\n      position: \"relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Toolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }\n    }, navigationStyle === HORIZONTAL_NAVIGATION ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-block d-md-none pointer mr-3\",\n      onClick: this.onToggleCollapsedNav,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"jr-menu-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"menu-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }\n    }))) : /*#__PURE__*/React.createElement(IconButton, {\n      className: `jr-menu-icon mr-3 ${drawerStyle}`,\n      \"aria-label\": \"Menu\",\n      onClick: this.onToggleCollapsedNav,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"menu-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 15\n      }\n    })), languageId === \"tunisia\" ? /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0 mr-auto text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 13\n      }\n    }, this.state.establipaddshmentName_ar + \"   \" + \"(\" + \" \" + localStorage.school_year_name + \" \" + \")\") : /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0 mr-auto text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }\n    }, establishmentName.toUpperCase() + \"   \" + \"(\" + \" \" + localStorage.school_year_name + \" \" + \")\"), /*#__PURE__*/React.createElement(SearchBox, {\n      styleName: \"d-none d-sm-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }\n    }), navigationStyle === HORIZONTAL_NAVIGATION && horizontalNavPosition === INSIDE_THE_HEADER && /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 60\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline-block d-sm-none list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      className: \"quick-menu nav-searchbox\",\n      isOpen: this.state.searchBox,\n      toggle: this.onSearchBoxSelect.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      className: \"d-inline-block\",\n      tag: \"span\",\n      \"data-toggle\": \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"icon-btn size-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-search zmdi-hc-fw\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(DropdownMenu, {\n      right: true,\n      className: \"p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SearchBox, {\n      styleName: \"search-dropdown\",\n      placeholder: \"\",\n      onChange: this.updateSearchText.bind(this),\n      value: this.state.searchText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"header-notifications list-inline ml-3 d-none d-sm-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-notifications-active zmdi-hc-lg zmdi-hc-fw\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-comment-alt-text zmdi-hc-lg zmdi-hc-fw\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      className: \"quick-menu\",\n      isOpen: this.state.langSwitcher,\n      toggle: this.onLangSwitcherSelect.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      className: \"d-inline-block\",\n      tag: \"span\",\n      \"data-toggle\": \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"icon-btn \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 19\n      }\n    }, locale.languageId === \"tunisia\" ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"tn flag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 23\n      }\n    }) : locale.languageId === \"english\" ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"us flag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fr flag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(DropdownMenu, {\n      right: true,\n      className: \"w-50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(LanguageSwitcher, {\n      switchLanguage: this.props.switchLanguage,\n      handleRequestClose: this.handleRequestClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }\n    }, languageId === \"tunisia\" ? /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0 mr-auto text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 17\n      }\n    }, user.name_ar, \" \", user.surname_ar) : /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0 mr-auto text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }\n    }, user.surname.toUpperCase(), \" \", user.name), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-0 mr-auto text-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 15\n      }\n    }, \" \", getRoleNameByID(localStorage.roles_id))), navigationStyle === HORIZONTAL_NAVIGATION && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-inline-item user-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      className: \"quick-menu\",\n      isOpen: this.state.userInfo,\n      toggle: this.onUserInfoSelect.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      className: \"d-inline-block\",\n      tag: \"span\",\n      \"data-toggle\": \"dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"icon-btn size-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(DropdownMenu, {\n      right: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(UserInfoPopup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-detail\",\n      onClick: this.handleClick,\n      onBlur: this.handleRequestCloseMenuProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }\n    }, user.photo && this.state.uri ? /*#__PURE__*/React.createElement(Avatar, {\n      alt: \"...\",\n      src: this.state.uri + user.photo,\n      className: \"ml-2 ml-lg-4 d-none d-sm-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(Avatar, {\n      alt: \"...\",\n      src: imageStudent,\n      className: \"ml-2 ml-lg-4 d-none d-sm-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Menu, {\n      className: \"\",\n      id: \"simple-menu\",\n      anchorEl: this.state.anchorElProfile,\n      open: this.state.openProfile,\n      onClose: this.handleRequestCloseMenuProfile,\n      PaperProps: {\n        style: {\n          minWidth: 120,\n          paddingTop: 0,\n          paddingBottom: 0\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/app/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.handleRequestCloseMenuProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-account zmdi-hc-fw mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"popup.profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.activePanel.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-settings zmdi-hc-fw mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"popup.setting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: this.activeSchoolYear.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-calendar-check zmdi-hc-fw mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"filter.school.years\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: () => {\n        this.setState({\n          roleName: \"\"\n        });\n        this.handleRequestCloseMenuProfile();\n        this.props.userSignOut();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-sign-in zmdi-hc-fw mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"user.signOut\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 17\n      }\n    }), \" \")))), this.state.colorOption ? /*#__PURE__*/React.createElement(ColorOption, {\n      cancelPanel: this.handleCancelPanel.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }\n    }) : \"\", this.state.openSchoolYearModal ? /*#__PURE__*/React.createElement(SchoolYearModal, {\n      cancelModal: this.handleCancelModal.bind(this),\n      openSchoolYearModal: this.state.openSchoolYearModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 11\n      }\n    }) : \"\");\n  }\n\n}\n\nconst mapStateToProps = ({\n  settings,\n  auth\n}) => {\n  const {\n    drawerType,\n    locale,\n    navigationStyle,\n    horizontalNavPosition,\n    languageId\n  } = settings;\n  return {\n    drawerType,\n    locale,\n    navigationStyle,\n    horizontalNavPosition,\n    languageId,\n    userProfile: auth.userProfile\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  toggleCollapsedNav,\n  switchLanguage,\n  userSignOut\n})(Header));","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/components/Header/index.js"],"names":["React","Link","withRouter","connect","AppBar","Avatar","Toolbar","IconButton","Popper","Paper","Button","MenuItem","NavLink","Dropdown","DropdownMenu","DropdownToggle","userSignOut","ColorOption","imageStudent","BELOW_THE_HEADER","COLLAPSED_DRAWER","FIXED_DRAWER","HORIZONTAL_NAVIGATION","INSIDE_THE_HEADER","SearchBox","MailNotification","AppNotification","CardHeader","switchLanguage","toggleCollapsedNav","baseUrl","classService","IntlMessages","LanguageSwitcher","Menu","UserInfoPopup","SchoolYearModal","getRoleNameByID","roleId","Header","Component","handleCancelPanel","setState","colorOption","handleCancelModal","openSchoolYearModal","componentDidUpdate","prevProps","userProfile","establishment_id","props","apiEndpoint","localStorage","token","get","then","res","establishmentName","data","name","establishmentName_ar","ar_name","uri","constructor","activePanel","openProfile","activeSchoolYear","handleClick","event","anchorElProfile","currentTarget","handleRequestCloseMenuProfile","roleName","onAppNotificationSelect","appNotification","state","onMailNotificationSelect","mailNotification","onLangSwitcherSelect","langSwitcher","anchorEl","onSearchBoxSelect","searchBox","onAppsSelect","apps","onUserInfoSelect","userInfo","handleRequestClose","onToggleCollapsedNav","e","val","navCollapsed","Apps","roleIdSuperAdmin","roleIdAdmin","roleIdProfessor","parseInt","roles_id","undefined","searchText","schoolyear","updateSearchText","evt","target","value","render","drawerType","locale","navigationStyle","horizontalNavPosition","languageId","drawerStyle","includes","user","JSON","parse","getItem","establipaddshmentName_ar","school_year_name","toUpperCase","bind","name_ar","surname_ar","surname","photo","style","minWidth","paddingTop","paddingBottom","mapStateToProps","settings","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Popper from \"@material-ui/core/Popper\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Dropdown, DropdownMenu, DropdownToggle } from \"reactstrap\";\r\nimport { userSignOut } from \"../../actions/Auth\";\r\nimport ColorOption from \"../../containers/Customizer/ColorOption\";\r\nimport imageStudent from \"../../app/routes/Administration/routes/StuppUser/imageUser/supAdmin.png\";\r\nimport {\r\n  BELOW_THE_HEADER,\r\n  COLLAPSED_DRAWER,\r\n  FIXED_DRAWER,\r\n  HORIZONTAL_NAVIGATION,\r\n  INSIDE_THE_HEADER,\r\n} from \"../../constants/ActionTypes\";\r\nimport SearchBox from \"../../components/SearchBox\";\r\nimport MailNotification from \"../MailNotification/index\";\r\nimport AppNotification from \"../AppNotification/index\";\r\nimport CardHeader from \"../../components/dashboard/Common/CardHeader/index\";\r\nimport { switchLanguage, toggleCollapsedNav } from \"../../actions/Setting\";\r\nimport baseUrl from \"../../config/config\";\r\nimport { classService } from \"../../_services/class.service\";\r\nimport IntlMessages from \"../../util/IntlMessages\";\r\nimport LanguageSwitcher from \"../../components/LanguageSwitcher/index\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport UserInfoPopup from \"../../components/UserInfo/UserInfoPopup\";\r\nimport SchoolYearModal from \"../../app/routes/Administration/routes/SchoolYear/SchoolYearModal\"\r\n\r\nfunction getRoleNameByID(roleId) {\r\n  switch (roleId) {\r\n    case \"1\":\r\n      return <IntlMessages id=\"role.superAdmin\" />;\r\n    case \"2\":\r\n      return <IntlMessages id=\"role.admin\" />;\r\n    case \"3\":\r\n      return <IntlMessages id=\"toDo.professor\" />;\r\n    case \"4\":\r\n      return <IntlMessages id=\"userStuppDisplay.Parent\" />;\r\n    case \"5\":\r\n      return <IntlMessages id=\"userStuppDisplay.Student\" />;\r\n    case \"6\":\r\n      return <IntlMessages id=\"role.supervisor\" />;\r\n    default:\r\n      return \"\";\r\n  }\r\n}\r\n\r\nclass Header extends React.Component {\r\n  activePanel = () => {\r\n    this.setState({ colorOption: true });\r\n    this.setState({ openProfile: false });\r\n  };\r\n  \r\n  activeSchoolYear = () => {\r\n    this.setState({ openSchoolYearModal: true });\r\n    // this.props.updateSchoolYear()\r\n  };  \r\n\r\n  handleClick = (event) => {\r\n    this.setState({ openProfile: true, anchorElProfile: event.currentTarget });\r\n  };\r\n\r\n  handleRequestCloseMenuProfile = () => {\r\n    this.setState({\r\n      openProfile: false,\r\n      roleName: \"\",\r\n    });\r\n  };\r\n\r\n  handleCancelPanel() {\r\n    this.setState({ colorOption: false });\r\n  }\r\n   handleCancelModal() {\r\n    this.setState({ openSchoolYearModal: false });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.userProfile.establishment_id !==\r\n      this.props.userProfile.establishment_id\r\n    ) {\r\n      let apiEndpoint =\r\n        `/establishments/` +\r\n        this.props.userProfile.establishment_id +\r\n        `?access_token=${localStorage.token}`;\r\n      classService.get(apiEndpoint).then((res) => {\r\n        if (res) {\r\n          const establishmentName = res.data.name;\r\n          const establishmentName_ar = res.data.ar_name;\r\n          this.setState({\r\n            establishmentName,\r\n            establishmentName_ar: establishmentName_ar,\r\n            uri:\r\n              `${baseUrl.baseUrl}/containers/` +\r\n              establishmentName +\r\n              `/download?access_token=${localStorage.token}`,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onAppNotificationSelect = () => {\r\n    this.setState({\r\n      appNotification: !this.state.appNotification,\r\n    });\r\n  };\r\n  onMailNotificationSelect = () => {\r\n    this.setState({\r\n      mailNotification: !this.state.mailNotification,\r\n    });\r\n  };\r\n  onLangSwitcherSelect = (event) => {\r\n    this.setState({\r\n      langSwitcher: !this.state.langSwitcher,\r\n      anchorEl: event.currentTarget,\r\n    });\r\n  };\r\n  onSearchBoxSelect = () => {\r\n    this.setState({\r\n      searchBox: !this.state.searchBox,\r\n    });\r\n  };\r\n  onAppsSelect = () => {\r\n    this.setState({\r\n      apps: !this.state.apps,\r\n    });\r\n  };\r\n  onUserInfoSelect = () => {\r\n    this.setState({\r\n      userInfo: !this.state.userInfo,\r\n    });\r\n  };\r\n  handleRequestClose = () => {\r\n    this.setState({\r\n      langSwitcher: false,\r\n      userInfo: false,\r\n      mailNotification: false,\r\n      appNotification: false,\r\n      searchBox: false,\r\n      apps: false,\r\n    });\r\n  };\r\n  onToggleCollapsedNav = (e) => {\r\n    const val = !this.props.navCollapsed;\r\n    this.props.toggleCollapsedNav(val);\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      openProfile: false,\r\n      anchorElProfile: undefined,\r\n      roleName: \"\",\r\n      colorOption: false,\r\n      establishmentName: \"\",\r\n      uri: \"\",\r\n      establishmentName_ar: \"\",\r\n\r\n      anchorEl: undefined,\r\n      searchBox: false,\r\n      searchText: \"\",\r\n      mailNotification: false,\r\n      userInfo: false,\r\n      langSwitcher: false,\r\n      appNotification: false,\r\n      schoolyear:\"2019/2020\",\r\n      openSchoolYearModal:false\r\n    };\r\n  }\r\n\r\n  updateSearchText(evt) {\r\n    this.setState({\r\n      searchText: evt.target.value,\r\n    });\r\n  }\r\n  Apps = () => {\r\n    const roleIdSuperAdmin = 1;\r\n    const roleIdAdmin = 2;\r\n    const roleIdProfessor = 3;\r\n    const roleId = parseInt(localStorage.roles_id);\r\n    return (\r\n      <ul className=\"jr-list jr-list-half\">\r\n        {(() => {\r\n          if (roleId === roleIdSuperAdmin || roleId === roleIdAdmin) {\r\n            return (\r\n              <li className=\"jr-list-item\">\r\n                <Link\r\n                  className=\"jr-list-link\"\r\n                  to=\"/app/administration/establishment\"\r\n                >\r\n                  <i className=\"zmdi zmdi-graduation-cap\" />\r\n                  <span className=\"jr-list-text\">\r\n                    <IntlMessages id=\"sidebar.administration\" />\r\n                  </span>\r\n                </Link>\r\n              </li>\r\n            );\r\n          }\r\n        })()}\r\n\r\n        {(() => {\r\n          if (\r\n            roleId === roleIdProfessor ||\r\n            roleId === roleIdAdmin ||\r\n            roleId === roleIdSuperAdmin\r\n          ) {\r\n            return (\r\n              <li className=\"jr-list-item\">\r\n                <Link className=\"jr-list-link\" to=\"/app/call_register\">\r\n                  <i className=\"zmdi zmdi-calendar-alt zmdi-hc-fw\" />\r\n                  <span className=\"jr-list-text\">\r\n                    <IntlMessages id=\"pages.registreAppel\" />\r\n                  </span>\r\n                </Link>\r\n              </li>\r\n            );\r\n          }\r\n        })()}\r\n        <li className=\"jr-list-item\">\r\n          <Link className=\"jr-list-link\" to=\"/app/mail\">\r\n            <i className=\"zmdi zmdi-email zmdi-hc-fw\" />\r\n            <span className=\"jr-list-text\">\r\n              <IntlMessages id=\"sidebar.appModule.mail\" />\r\n            </span>\r\n          </Link>\r\n        </li>\r\n\r\n        {(() => {\r\n          if (roleId === roleIdSuperAdmin || roleId === roleIdAdmin) {\r\n            return (\r\n              <li className=\"jr-list-item\">\r\n                <Link className=\"jr-list-link\" to=\"/app/payments\">\r\n                  <i className=\"zmdi zmdi-money-box\" />\r\n                  <span className=\"jr-list-text\">\r\n                    <IntlMessages id=\"sidebar.components.payment\" />\r\n                  </span>\r\n                </Link>\r\n              </li>\r\n            );\r\n          }\r\n        })()}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      drawerType,\r\n      locale,\r\n      navigationStyle,\r\n      horizontalNavPosition,\r\n      languageId,\r\n    } = this.props;\r\n    const drawerStyle = drawerType.includes(FIXED_DRAWER)\r\n      ? \"d-block d-xl-none\"\r\n      : drawerType.includes(COLLAPSED_DRAWER)\r\n      ? \"d-block\"\r\n      : \"d-none\";\r\n    const establishmentName = this.state.establishmentName;\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    // const schoolyear = JSON.parse(localStorage.getItem(\"school_year_name\"));\r\n    return (\r\n      <AppBar className=\"app-main-header jr-border-radius\" position=\"relative\">\r\n        <Toolbar>\r\n          {navigationStyle === HORIZONTAL_NAVIGATION ? (\r\n            <div\r\n              className=\"d-block d-md-none pointer mr-3\"\r\n              onClick={this.onToggleCollapsedNav}\r\n            >\r\n              <span className=\"jr-menu-icon\">\r\n                <span className=\"menu-icon\" />\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            <IconButton\r\n              className={`jr-menu-icon mr-3 ${drawerStyle}`}\r\n              aria-label=\"Menu\"\r\n              onClick={this.onToggleCollapsedNav}\r\n            >\r\n              <span className=\"menu-icon\" />\r\n            </IconButton>\r\n          )}\r\n            {/* <li className=\"list-inline-item\"> */}\r\n          {languageId === \"tunisia\" ? (\r\n            <h4 className=\"mb-0 mr-auto text-white\">\r\n              {this.state.establipaddshmentName_ar + \"   \" + \"(\" + \" \" + localStorage.school_year_name + \" \"+ \")\" }\r\n            </h4>\r\n            \r\n          ) : (\r\n            <h4 className=\"mb-0 mr-auto text-white\">\r\n              {establishmentName.toUpperCase()+ \"   \" + \"(\" + \" \" + localStorage.school_year_name + \" \"+ \")\"} \r\n            </h4>\r\n          )}\r\n          {/* <h5 className=\"mb-0 mr-auto text-grey\">\r\n                {\" \"}\r\n                {this.state.schoolyear}\r\n              </h5>\r\n              </li> */}\r\n              \r\n          <SearchBox styleName=\"d-none d-sm-block\" />\r\n          {navigationStyle === HORIZONTAL_NAVIGATION &&\r\n            horizontalNavPosition === INSIDE_THE_HEADER && <Menu />}\r\n          <div className=\"d-inline-block d-sm-none list-inline-item\">\r\n            <Dropdown\r\n              className=\"quick-menu nav-searchbox\"\r\n              isOpen={this.state.searchBox}\r\n              toggle={this.onSearchBoxSelect.bind(this)}\r\n            >\r\n              <DropdownToggle\r\n                className=\"d-inline-block\"\r\n                tag=\"span\"\r\n                data-toggle=\"dropdown\"\r\n              >\r\n                <IconButton className=\"icon-btn size-30\">\r\n                  <i className=\"zmdi zmdi-search zmdi-hc-fw\" />\r\n                </IconButton>\r\n              </DropdownToggle>\r\n\r\n              <DropdownMenu right className=\"p-0\">\r\n                <SearchBox\r\n                  styleName=\"search-dropdown\"\r\n                  placeholder=\"\"\r\n                  onChange={this.updateSearchText.bind(this)}\r\n                  value={this.state.searchText}\r\n                />\r\n              </DropdownMenu>\r\n            </Dropdown>\r\n          </div>\r\n\r\n          <ul className=\"header-notifications list-inline ml-3 d-none d-sm-block\">\r\n            <li className=\"list-inline-item\">\r\n              <i className=\"zmdi zmdi-notifications-active zmdi-hc-lg zmdi-hc-fw\" />\r\n            </li>\r\n            <li className=\"list-inline-item\">\r\n              <i className=\"zmdi zmdi-comment-alt-text zmdi-hc-lg zmdi-hc-fw\" />\r\n            </li>\r\n\r\n            <li className=\"list-inline-item\">\r\n              <Dropdown\r\n                className=\"quick-menu\"\r\n                isOpen={this.state.langSwitcher}\r\n                toggle={this.onLangSwitcherSelect.bind(this)}\r\n              >\r\n                <DropdownToggle\r\n                  className=\"d-inline-block\"\r\n                  tag=\"span\"\r\n                  data-toggle=\"dropdown\"\r\n                >\r\n                  <IconButton className=\"icon-btn \">\r\n                    {locale.languageId === \"tunisia\" ? (\r\n                      <i className=\"tn flag\"></i>\r\n                    ) : locale.languageId === \"english\" ? (\r\n                      <i className=\"us flag\"></i>\r\n                    ) : (\r\n                      <i className=\"fr flag\"></i>\r\n                    )}\r\n                  </IconButton>\r\n                </DropdownToggle>\r\n\r\n                <DropdownMenu right className=\"w-50\">\r\n                  <LanguageSwitcher\r\n                    switchLanguage={this.props.switchLanguage}\r\n                    handleRequestClose={this.handleRequestClose}\r\n                  />\r\n                </DropdownMenu>\r\n              </Dropdown>\r\n            </li>\r\n\r\n            <li className=\"list-inline-item\">\r\n              {languageId === \"tunisia\" ? (\r\n                <h4 className=\"mb-0 mr-auto text-white\">\r\n                  {user.name_ar} {user.surname_ar}\r\n                </h4>\r\n              ) : (\r\n                <h4 className=\"mb-0 mr-auto text-white\">\r\n                  {user.surname.toUpperCase()} {user.name}\r\n                </h4>\r\n              )}\r\n              <h5 className=\"mb-0 mr-auto text-grey\">\r\n                {\" \"}\r\n                {getRoleNameByID(localStorage.roles_id)}\r\n              </h5>\r\n            </li>\r\n            {navigationStyle === HORIZONTAL_NAVIGATION && (\r\n              <li className=\"list-inline-item user-nav\">\r\n                <Dropdown\r\n                  className=\"quick-menu\"\r\n                  isOpen={this.state.userInfo}\r\n                  toggle={this.onUserInfoSelect.bind(this)}\r\n                >\r\n                  <DropdownToggle\r\n                    className=\"d-inline-block\"\r\n                    tag=\"span\"\r\n                    data-toggle=\"dropdown\"\r\n                  >\r\n                    <IconButton className=\"icon-btn size-30\"></IconButton>\r\n                  </DropdownToggle>\r\n\r\n                  <DropdownMenu right>\r\n                    <UserInfoPopup />\r\n                  </DropdownMenu>\r\n                </Dropdown>\r\n              </li>\r\n            )}\r\n          </ul>\r\n          <div\r\n            className=\"user-detail\"\r\n            onClick={this.handleClick}\r\n            onBlur={this.handleRequestCloseMenuProfile}\r\n          >\r\n            {user.photo && this.state.uri ? (\r\n              <Avatar\r\n                alt=\"...\"\r\n                src={this.state.uri + user.photo}\r\n                className=\"ml-2 ml-lg-4 d-none d-sm-block\"\r\n              />\r\n            ) : (\r\n              <Avatar\r\n                alt=\"...\"\r\n                src={imageStudent}\r\n                className=\"ml-2 ml-lg-4 d-none d-sm-block\"\r\n              />\r\n            )}\r\n            <Menu\r\n              className=\"\"\r\n              id=\"simple-menu\"\r\n              anchorEl={this.state.anchorElProfile}\r\n              open={this.state.openProfile}\r\n              onClose={this.handleRequestCloseMenuProfile}\r\n              PaperProps={{\r\n                style: {\r\n                  minWidth: 120,\r\n                  paddingTop: 0,\r\n                  paddingBottom: 0,\r\n                },\r\n              }}\r\n            >\r\n              <NavLink to=\"/app/profile\">\r\n              <MenuItem onClick={this.handleRequestCloseMenuProfile}>\r\n                  <i className=\"zmdi zmdi-account zmdi-hc-fw mr-2\" />\r\n                  <IntlMessages id=\"popup.profile\" />\r\n              </MenuItem>\r\n              </NavLink>\r\n              <MenuItem onClick={this.activePanel.bind(this)}>\r\n                <i className=\"zmdi zmdi-settings zmdi-hc-fw mr-2\" />\r\n                <IntlMessages id=\"popup.setting\" />\r\n              </MenuItem>\r\n              <MenuItem onClick={this.activeSchoolYear.bind(this)}>\r\n                <i className=\"zmdi zmdi-calendar-check zmdi-hc-fw mr-2\" /> \r\n                <IntlMessages id=\"filter.school.years\" />\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  this.setState({ roleName: \"\" });\r\n                  this.handleRequestCloseMenuProfile();\r\n                  this.props.userSignOut();\r\n                }}\r\n              >\r\n                <i className=\"zmdi zmdi-sign-in zmdi-hc-fw mr-2\" />\r\n                <IntlMessages id=\"user.signOut\" />{\" \"}\r\n              </MenuItem>\r\n             \r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n        {this.state.colorOption ? (\r\n          <ColorOption cancelPanel={this.handleCancelPanel.bind(this)} />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n           {this.state.openSchoolYearModal ? (\r\n          <SchoolYearModal cancelModal={this.handleCancelModal.bind(this)} openSchoolYearModal={this.state.openSchoolYearModal} />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </AppBar>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ settings, auth }) => {\r\n  const {\r\n    drawerType,\r\n    locale,\r\n    navigationStyle,\r\n    horizontalNavPosition,\r\n    languageId,\r\n  } = settings;\r\n  return {\r\n    drawerType,\r\n    locale,\r\n    navigationStyle,\r\n    horizontalNavPosition,\r\n    languageId,\r\n    userProfile: auth.userProfile,\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    { toggleCollapsedNav, switchLanguage, userSignOut }\r\n  )(Header)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}