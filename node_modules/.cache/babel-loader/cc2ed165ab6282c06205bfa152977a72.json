{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/FinancialManagement/routes/Billing/BillItem.js\";\nimport React, { Component } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport \"jspdf-autotable\";\nimport jsPDF from \"jspdf\";\nimport DetailsBill from \"./DetailsBill\";\nimport { invoiceNotificationWithMail, invoiceNotificationWithSMS } from \"../../../../../actions/BillAction\";\nimport { connect } from \"react-redux\";\nimport PayBill from \"../Payment/PayBill\";\nimport { unpaidInvoice, partiallyPaidInvoice, billPaid, lateInvoice } from \"../../../../../config/config\";\nimport { url } from \"../ServiceAllocation/photo\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  textColorPrimary: {\n    color: \"#FFFFFF\"\n  }\n});\n\nexport class BillItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.jsPdfGenerator = () => {\n      let bill = this.props.item;\n      var doc = new jsPDF(\"p\", \"pt\", \"a4\", true);\n      var imgData = url;\n      doc.addImage(imgData, \"JPEG\", 485, 20, 80, 80);\n      doc.setFontType(\"bold\");\n      doc.setTextColor(0, 0, 255);\n      doc.text(20, 50, \"Facture N°: \" + bill.bill.reference);\n      doc.text(350, 50, \"2020/2021\");\n      doc.setFontType(\"times\");\n      doc.setTextColor(0, 0, 0);\n      doc.text(350, 140, \"M. ou Mme \" + bill.student.student_parents[0].parent.profile.user.name + \" \" + bill.student.student_parents[0].parent.profile.user.surname);\n      doc.text(350, 160, \"adresse : \" + bill.student.student_parents[0].parent.profile.user.address);\n      doc.text(350, 180, \"Code Postal : \" + bill.student.student_parents[0].parent.profile.user.zip_code);\n      doc.text(20, 140, \"De ADN EXPERTISE \");\n      doc.text(20, 160, \"Rue : Cyber Parc ,Sousse\");\n      doc.text(20, 180, \"Tel:+216 *******\");\n      doc.text(20, 200, \"Email: Adn-Expertise@gmail.com\");\n      doc.setFontType(\"bold\");\n      doc.text(20, 240, \"Facture des prestations:\");\n      doc.setFontType(\"times\");\n      doc.text(20, 260, \" L'élève \" + bill.student.profile.user.name + \" \" + bill.student.profile.user.surname + \" ( \" + bill.student.class.name + \" )\");\n      var columns = [\"ID\", \"Description\", \"Quantité\", \"Prix unitaire HT\", \"TVA\", \"TOTAL TTC\"];\n      var rows = [[1, \"Bus\", \"3\", \"15 DT\", \"6 DT\", \"21 DT\"], [2, \"Cantine\", \"3\", \"30 DT\", \"6DT\", \"36 DT\"], [3, \"Inscription\", \"1\", \"100 DT\", \"20 DT\", \"120 DT\"], [, \"\", \"\", \"\", \"\"], [, \"\", \"\", \"\", \"Total HT\", \"200 DT\"], [, \"\", \"\", \"\", \"TVA\", \"20 DT\"], [, \"\", \"\", \"\", \"Total TTC\", \"220 DT\"]];\n      var rowsDynamiq = [];\n      bill.service_v2.map(element => rowsDynamiq.push([element.id, element.name_fr_service, \"1\", element.price_service, element.vat_service + \" %\", element.price_service * (element.vat_service + 100) / 100]));\n      rowsDynamiq.push([, \"\", \"\", \"\", \"\"]);\n      rowsDynamiq.push([, \"\", \"\", \"\", \"Total HT\", bill.bill.total_excl_tax]);\n      rowsDynamiq.push([, \"\", \"\", \"\", \"TVA\", bill.bill.total_vat + \" %\"]);\n      rowsDynamiq.push([, \"\", \"\", \"\", \"Total TTC\", bill.bill.total_incl_tax]);\n      doc.autoTable(columns, rowsDynamiq, {\n        margin: {\n          top: 300\n        }\n      });\n      doc.save(bill.bill.reference);\n    };\n\n    this.state = {\n      openDetails: false,\n      payBill: false\n    };\n    this.handleDetails = this.handleDetails.bind(this);\n    this.handleCancelDetails = this.handleCancelDetails.bind(this);\n    this.SendMail = this.SendMail.bind(this);\n    this.sendSMS = this.sendSMS.bind(this);\n  }\n\n  sendSMS() {\n    let data = this.props.item;\n    let dataForNotif = {\n      bill: data.bill,\n      parent: data.student.student_parents[0].parent.profile.user\n    };\n    this.props.dispatch(invoiceNotificationWithSMS(dataForNotif));\n  }\n\n  SendMail() {\n    let data = this.props.item;\n    let dataForNotif = {\n      service_v2: data.service_v2,\n      bill: data.bill,\n      parent: data.student.student_parents[0].parent.profile.user\n    };\n    this.props.dispatch(invoiceNotificationWithMail(dataForNotif));\n  }\n\n  handleDetails() {\n    this.setState({\n      openDetails: true\n    });\n  }\n\n  handleCancelDetails() {\n    this.setState({\n      openDetails: false\n    });\n  } ///// Générer une facture //////////////////\n\n\n  /////////////////////////////////////////\n  render() {\n    const {\n      classes\n    } = this.props;\n    let element = this.props.item;\n    let statusInvoice = element.statusInvoice;\n    const statusStyle = statusInvoice === unpaidInvoice ? \"text-white bg-danger\" : statusInvoice === partiallyPaidInvoice ? \"bg-amber\" : statusInvoice === billPaid ? \"text-white bg-success\" : \"text-white bg-warning\";\n    const status = statusInvoice === unpaidInvoice ? /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"filter.unpaid.service\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }) : statusInvoice === partiallyPaidInvoice ? /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"invoice.partially.paid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }) : statusInvoice === billPaid ? /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"filter.paid.service\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }) : /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"invoice.late\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }\n    });\n    console.log('Itemlmmmmmmmmm ', this.props.item);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \" row col-lg-12 col-md-12 pt-2 d-flex justify-content-center alignement-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row col-lg-12 col-md-12 justify-content-start align-items-center \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      position: \"relative\",\n      style: {\n        borderTopRightRadius: \"80px\",\n        borderBottomRightRadius: \"80px\",\n        borderTopLeftRadius: \"80px\",\n        borderBottomLeftRadius: \"80px\",\n        border: \"1px solid #abada8\",\n        height: \"100%\",\n        backgroundColor: \"#4a3ea3\",\n        fontSize: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      value: false // onChange={this.handleChange}\n      ,\n      variant: \"scrollable\",\n      scrollButtons: \"on\",\n      textColor: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        width: \"45%\",\n        textColor: \"#FFFFFF\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"left\"\n        },\n        className: classes.textColorPrimary,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginBottom: \"0px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }\n      }, element.invoiceNumber)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }), this.props.month == \"\" ? /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginBottom: \"0px\",\n          fontSize: \"15px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }\n      }, element.gerationDate),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"10px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          borderWidth: \"thin\",\n          borderStyle: \"solid\",\n          borderColor: \"#979A9A\",\n          height: \"30px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 19\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"260px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginBottom: \"0px\",\n          fontSize: \"15px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 19\n        }\n      }, element.DataRecever.nomParent),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"10px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          borderWidth: \"thin\",\n          borderStyle: \"solid\",\n          borderColor: \"#979A9A\",\n          height: \"30px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 19\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"250px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          marginBottom: \"0px\",\n          fontSize: \"15px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 19\n        }\n      }, \" \", \"Montant : \", element.totalPayed, \" DT\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"10px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          borderWidth: \"thin\",\n          borderStyle: \"solid\",\n          borderColor: \"#979A9A\",\n          height: \"30px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 19\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"200px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginBottom: \"0px\"\n        },\n        className: ` badge text-uppercase ${statusStyle}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 19\n        }\n      }, status),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"10px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex\",\n        style: {\n          borderWidth: \"thin\",\n          borderStyle: \"solid\",\n          borderColor: \"#979A9A\",\n          height: \"30px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 19\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\",\n        minWidth: \"200px\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        size: \"small\",\n        className: \" zmdi zmdi-download zmdi-hc-2x\",\n        style: {\n          color: \"text-grey\",\n          marginRight: \"5px\",\n          marginLeft: \"5px\"\n        },\n        onClick: this.jsPdfGenerator,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-eye zmdi-hc-2x\",\n        style: {\n          color: \"text-grey\",\n          marginRight: \"5px\",\n          marginLeft: \"5px\"\n        } // onClick={this.handleDetails}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-email zmdi-hc-2x\",\n        style: {\n          color: \"text-grey\",\n          marginRight: \"5px\",\n          marginLeft: \"5px\"\n        },\n        onClick: () => this.props.handleOpenInvoiceModal(this.props.item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-smartphone-android zmdi-hc-2x\",\n        style: {\n          color: \"text-grey\",\n          marginRight: \"5px\",\n          marginLeft: \"5px\"\n        } // onClick={this.sendSMS}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      icon: /*#__PURE__*/React.createElement(\"p\", {\n        onClick: e => {\n          this.props.openPay(element);\n        },\n        className: \" mt-auto mb-0 pointer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        className: classes.textColorPrimary,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"button.proceedToThePayment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 24\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\nexport default withStyles(styles)(connect()(BillItem));","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/FinancialManagement/routes/Billing/BillItem.js"],"names":["React","Component","AppBar","Tabs","Tab","IntlMessages","jsPDF","DetailsBill","invoiceNotificationWithMail","invoiceNotificationWithSMS","connect","PayBill","unpaidInvoice","partiallyPaidInvoice","billPaid","lateInvoice","url","withStyles","styles","theme","textColorPrimary","color","BillItem","constructor","props","jsPdfGenerator","bill","item","doc","imgData","addImage","setFontType","setTextColor","text","reference","student","student_parents","parent","profile","user","name","surname","address","zip_code","class","columns","rows","rowsDynamiq","service_v2","map","element","push","id","name_fr_service","price_service","vat_service","total_excl_tax","total_vat","total_incl_tax","autoTable","margin","top","save","state","openDetails","payBill","handleDetails","bind","handleCancelDetails","SendMail","sendSMS","data","dataForNotif","dispatch","setState","render","classes","statusInvoice","statusStyle","status","console","log","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","border","height","backgroundColor","fontSize","width","textColor","textAlign","marginBottom","invoiceNumber","month","gerationDate","minWidth","borderWidth","borderStyle","borderColor","DataRecever","nomParent","totalPayed","marginRight","marginLeft","handleOpenInvoiceModal","e","openPay"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport \"jspdf-autotable\";\nimport jsPDF from \"jspdf\";\nimport DetailsBill from \"./DetailsBill\";\nimport {\n  invoiceNotificationWithMail,\n  invoiceNotificationWithSMS,\n} from \"../../../../../actions/BillAction\";\nimport { connect } from \"react-redux\";\nimport PayBill from \"../Payment/PayBill\";\nimport {\n  unpaidInvoice,\n  partiallyPaidInvoice,\n  billPaid,\n  lateInvoice,\n} from \"../../../../../config/config\";\nimport { url } from \"../ServiceAllocation/photo\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n  textColorPrimary: {\n    color: \"#FFFFFF\",\n  },\n});\n\nexport class BillItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      openDetails: false,\n      payBill: false,\n    };\n\n    this.handleDetails = this.handleDetails.bind(this);\n    this.handleCancelDetails = this.handleCancelDetails.bind(this);\n    this.SendMail = this.SendMail.bind(this);\n    this.sendSMS = this.sendSMS.bind(this);\n  }\n\n  sendSMS() {\n    let data = this.props.item;\n    let dataForNotif = {\n      bill: data.bill,\n      parent: data.student.student_parents[0].parent.profile.user,\n    };\n    this.props.dispatch(invoiceNotificationWithSMS(dataForNotif));\n  }\n  SendMail() {\n    let data = this.props.item;\n    let dataForNotif = {\n      service_v2: data.service_v2,\n      bill: data.bill,\n      parent: data.student.student_parents[0].parent.profile.user,\n    };\n    this.props.dispatch(invoiceNotificationWithMail(dataForNotif));\n  }\n\n  handleDetails() {\n    this.setState({ openDetails: true });\n  }\n\n  handleCancelDetails() {\n    this.setState({ openDetails: false });\n  }\n\n  ///// Générer une facture //////////////////\n\n  jsPdfGenerator = () => {\n    let bill = this.props.item;\n    var doc = new jsPDF(\"p\", \"pt\", \"a4\", true);\n    var imgData = url;\n\n    doc.addImage(imgData, \"JPEG\", 485, 20, 80, 80);\n    doc.setFontType(\"bold\");\n    doc.setTextColor(0, 0, 255);\n    doc.text(20, 50, \"Facture N°: \" + bill.bill.reference);\n    doc.text(350, 50, \"2020/2021\");\n\n    doc.setFontType(\"times\");\n    doc.setTextColor(0, 0, 0);\n    doc.text(\n      350,\n      140,\n      \"M. ou Mme \" +\n        bill.student.student_parents[0].parent.profile.user.name +\n        \" \" +\n        bill.student.student_parents[0].parent.profile.user.surname\n    );\n    doc.text(\n      350,\n      160,\n      \"adresse : \" + bill.student.student_parents[0].parent.profile.user.address\n    );\n    doc.text(\n      350,\n      180,\n      \"Code Postal : \" +\n        bill.student.student_parents[0].parent.profile.user.zip_code\n    );\n\n    doc.text(20, 140, \"De ADN EXPERTISE \");\n    doc.text(20, 160, \"Rue : Cyber Parc ,Sousse\");\n    doc.text(20, 180, \"Tel:+216 *******\");\n    doc.text(20, 200, \"Email: Adn-Expertise@gmail.com\");\n\n    doc.setFontType(\"bold\");\n    doc.text(20, 240, \"Facture des prestations:\");\n    doc.setFontType(\"times\");\n    doc.text(\n      20,\n      260,\n      \" L'élève \" +\n        bill.student.profile.user.name +\n        \" \" +\n        bill.student.profile.user.surname +\n        \" ( \" +\n        bill.student.class.name +\n        \" )\"\n    );\n\n    var columns = [\n      \"ID\",\n      \"Description\",\n      \"Quantité\",\n      \"Prix unitaire HT\",\n      \"TVA\",\n      \"TOTAL TTC\",\n    ];\n    var rows = [\n      [1, \"Bus\", \"3\", \"15 DT\", \"6 DT\", \"21 DT\"],\n      [2, \"Cantine\", \"3\", \"30 DT\", \"6DT\", \"36 DT\"],\n      [3, \"Inscription\", \"1\", \"100 DT\", \"20 DT\", \"120 DT\"],\n      [, \"\", \"\", \"\", \"\"],\n      [, \"\", \"\", \"\", \"Total HT\", \"200 DT\"],\n      [, \"\", \"\", \"\", \"TVA\", \"20 DT\"],\n      [, \"\", \"\", \"\", \"Total TTC\", \"220 DT\"],\n    ];\n    var rowsDynamiq = [];\n\n    bill.service_v2.map((element) =>\n      rowsDynamiq.push([\n        element.id,\n        element.name_fr_service,\n        \"1\",\n        element.price_service,\n        element.vat_service + \" %\",\n        (element.price_service * (element.vat_service + 100)) / 100,\n      ])\n    );\n\n    rowsDynamiq.push([, \"\", \"\", \"\", \"\"]);\n    rowsDynamiq.push([, \"\", \"\", \"\", \"Total HT\", bill.bill.total_excl_tax]);\n    rowsDynamiq.push([, \"\", \"\", \"\", \"TVA\", bill.bill.total_vat + \" %\"]);\n    rowsDynamiq.push([, \"\", \"\", \"\", \"Total TTC\", bill.bill.total_incl_tax]);\n\n    doc.autoTable(columns, rowsDynamiq, { margin: { top: 300 } });\n\n    doc.save(bill.bill.reference);\n  };\n  /////////////////////////////////////////\n  render() {\n    const { classes } = this.props;\n    let element = this.props.item;\n    let statusInvoice = element.statusInvoice;\n    const statusStyle =\n      statusInvoice === unpaidInvoice\n        ? \"text-white bg-danger\"\n        : statusInvoice === partiallyPaidInvoice\n        ? \"bg-amber\"\n        : statusInvoice === billPaid\n        ? \"text-white bg-success\"\n        : \"text-white bg-warning\";\n\n    const status =\n      statusInvoice === unpaidInvoice ? (\n        <IntlMessages id=\"filter.unpaid.service\" />\n      ) : statusInvoice === partiallyPaidInvoice ? (\n        <IntlMessages id=\"invoice.partially.paid\" />\n      ) : statusInvoice === billPaid ? (\n        <IntlMessages id=\"filter.paid.service\" />\n      ) : (\n        <IntlMessages id=\"invoice.late\" />\n      );\n\n      console.log('Itemlmmmmmmmmm ',this.props.item)\n\n    return (\n      <div className=\" row col-lg-12 col-md-12 pt-2 d-flex justify-content-center alignement-items-center\">\n        <div className=\"d-flex flex-row col-lg-12 col-md-12 justify-content-start align-items-center \">\n          <AppBar\n            position=\"relative\"\n            style={{\n              borderTopRightRadius: \"80px\",\n              borderBottomRightRadius: \"80px\",\n              borderTopLeftRadius: \"80px\",\n              borderBottomLeftRadius: \"80px\",\n              border: \"1px solid #abada8\",\n              height: \"100%\",\n              backgroundColor: \"#4a3ea3\",\n              fontSize: \"15px\",\n            }}\n          >\n            <Tabs\n              value={false}\n              // onChange={this.handleChange}\n              variant=\"scrollable\"\n              scrollButtons=\"on\"\n              textColor=\"primary\"\n            >\n              <Tab\n                style={{ width: \"45%\", textColor: \"#FFFFFF\" }}\n                icon={\n                  <div\n                    style={{ textAlign: \"left\" }}\n                    className={classes.textColorPrimary}\n                  >\n                    <h3 style={{ marginBottom: \"0px\" }}>\n                      {element.invoiceNumber}\n                    </h3>\n                  </div>\n                }\n              />\n\n              {this.props.month == \"\" ? (\n                <Tab\n                  style={{ backgroundColor: \"#FFFFFF\" }}\n                  icon={\n                    <h3 style={{ marginBottom: \"0px\", fontSize: \"15px\" }}>\n                      {element.gerationDate}\n                    </h3>\n                  }\n                />\n              ) : (\n                \"\"\n              )}\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"10px\" }}\n                icon={\n                  <div\n                    style={{\n                      borderWidth: \"thin\",\n                      borderStyle: \"solid\",\n                      borderColor: \"#979A9A\",\n                      height: \"30px\",\n                    }}\n                  ></div>\n                }\n              />\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"260px\" }}\n                icon={\n                  <h3 style={{ marginBottom: \"0px\", fontSize: \"15px\" }}>\n                    {element.DataRecever.nomParent}\n                  </h3>\n                }\n              />\n\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"10px\" }}\n                icon={\n                  <div\n                    style={{\n                      borderWidth: \"thin\",\n                      borderStyle: \"solid\",\n                      borderColor: \"#979A9A\",\n                      height: \"30px\",\n                    }}\n                  ></div>\n                }\n              />\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"250px\" }}\n                icon={\n                  <h3 style={{ marginBottom: \"0px\", fontSize: \"15px\" }}>\n                    {\" \"}\n                    Montant : {element.totalPayed} DT\n                  </h3>\n                }\n              />\n\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"10px\" }}\n                icon={\n                  <div\n                    style={{\n                      borderWidth: \"thin\",\n                      borderStyle: \"solid\",\n                      borderColor: \"#979A9A\",\n                      height: \"30px\",\n                    }}\n                  ></div>\n                }\n              />\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"200px\" }}\n                icon={\n                  <div\n                    style={{ marginBottom: \"0px\" }}\n                    className={` badge text-uppercase ${statusStyle}`}\n                  >\n                    {status}\n                  </div>\n                }\n              />\n\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"10px\" }}\n                icon={\n                  <div\n                    className=\"d-flex\"\n                    style={{\n                      borderWidth: \"thin\",\n                      borderStyle: \"solid\",\n                      borderColor: \"#979A9A\",\n                      height: \"30px\",\n                    }}\n                  ></div>\n                }\n              />\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\", minWidth: \"200px\" }}\n                icon={\n                  <div>\n                    <i\n                      size=\"small\"\n                      className=\" zmdi zmdi-download zmdi-hc-2x\"\n                      style={{\n                        color: \"text-grey\",\n                        marginRight: \"5px\",\n                        marginLeft: \"5px\",\n                      }}\n                      onClick={this.jsPdfGenerator}\n                    />\n                    <i\n                      className=\"zmdi zmdi-eye zmdi-hc-2x\"\n                      style={{\n                        color: \"text-grey\",\n                        marginRight: \"5px\",\n                        marginLeft: \"5px\",\n                      }}\n                      // onClick={this.handleDetails}\n                    />\n                    <i\n                      className=\"zmdi zmdi-email zmdi-hc-2x\"\n                      style={{\n                        color: \"text-grey\",\n                        marginRight: \"5px\",\n                        marginLeft: \"5px\",\n                      }}\n              \n                    onClick={()=>this.props.handleOpenInvoiceModal(this.props.item)}\n                    />\n                    <i\n                      className=\"zmdi zmdi-smartphone-android zmdi-hc-2x\"\n                      style={{\n                        color: \"text-grey\",\n                        marginRight: \"5px\",\n                        marginLeft: \"5px\",\n                      }}\n                      // onClick={this.sendSMS}\n                    />\n                  </div>\n                }\n              />\n              {/* {this.props.item.bill.status !== billPaid ? ( */}\n              <Tab\n                icon={\n                  <p\n                    onClick={(e) => {\n                      this.props.openPay(element);\n                    }}\n                    className=\" mt-auto mb-0 pointer\"\n                  >\n                    <b className={classes.textColorPrimary}>\n                      {<IntlMessages id=\"button.proceedToThePayment\" />}\n                    </b>\n                  </p>\n                }\n              />\n              {/* ) : \"\"} */}\n            </Tabs>\n          </AppBar>\n        </div>\n        {/* <DetailsBill\n          data={element}\n          // openDetail={this.state.openDetails}\n          // cancel={this.handleCancelDetails}\n        /> */}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(connect()(BillItem));\n"]},"metadata":{},"sourceType":"module"}