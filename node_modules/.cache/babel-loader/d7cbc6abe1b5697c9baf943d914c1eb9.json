{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Learning/routes/CoursMaterials/SupportCoursList.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport CardBox from '../../../../../components/CardBox/index';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport RemoveSharpIcon from '@material-ui/icons/RemoveSharp';\nimport AddSupportCours from './AddSupportCours';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Typography from '@material-ui/core/Typography';\nimport { RoleContext } from '../../../../../Context';\nimport Can from '../../../../../can';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport SupportCoursListItems from './SupportCoursListItems';\nimport { UncontrolledAlert } from 'reactstrap';\nimport { addMaterialCourse, getMaterialCourse, editMaterialCourse, deleteMaterialCourse } from '../../../../../actions/MaterialCourseAction';\nimport moment from 'moment';\nimport axios from 'axios';\nimport baseUrl from '../../../../../config/config';\nimport _ from 'lodash';\nimport { roleIdProfessor, roleIdAdmin } from '../../../../../config/config';\nimport EditSupportCours from './EditSupportCours';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport ArchiveSupportCours from './ArchiveSupportCours';\n\nclass SupportCoursList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmitDelete = () => {\n      // console.log(this.state.deleteItem, 'deleteItem');\n      this.props.dispatch(deleteMaterialCourse(this.state.deleteItem));\n      this.setState({\n        deleteIsopen: false,\n        deleteItem: {}\n      });\n    };\n\n    this.handleCancelDelete = () => {\n      this.setState({\n        deleteIsopen: false,\n        deleteItem: {}\n      });\n    };\n\n    this.handleDelete = item => {\n      this.setState({\n        deleteIsopen: true,\n        deleteItem: item\n      });\n    };\n\n    this.editShowModal = item => {\n      let defaultClass = [];\n      defaultClass = this.state.courseAssignmentList.filter(element => item.assignClassSubjectId.indexOf(element.id) >= 0);\n      let defaultMoocs = [];\n      let MoocsIds = [];\n      item.moocsList.map(element => {\n        var object = {};\n        object.label = element.moocs_topic;\n        object.id = element.id;\n        object.value = element.moocs_topic;\n        defaultMoocs.push(object);\n        MoocsIds.push(element.id);\n      });\n      let virtualClassIds = [];\n      let defaultVirtualClasses = [];\n      item.virtualClassList.map(element => {\n        var object = {};\n        object.label = element.virtual_class_name;\n        object.id = element.id;\n        object.value = element.virtual_class_name;\n        defaultVirtualClasses.push(object);\n        virtualClassIds.push(element.id);\n      });\n      var nameFiles = item.fileList.map(element => {\n        return element.url_course_materials_files.slice(59);\n      });\n      let assignmentIds = item.assignClassSubjectId;\n      let publicationDate = moment(item.creationDate);\n      let postTime = moment(item.creationDate);\n      this.setState({\n        defaultClass,\n        itemEdit: item,\n        open: false,\n        openEdit: true,\n        defaultMoocs,\n        nameFiles,\n        materialCoursefiles: [],\n        defaultVirtualClasses,\n        courseName: item.name,\n        courseUrl: item.urlCourse,\n        comment: item.comment,\n        classEditName: item.classes[0].name,\n        classEditId: item.classes[0].id,\n        publicationDate,\n        postTime,\n        assignmentIds,\n        MoocsIds,\n        virtualClassIds\n      });\n    };\n\n    this.handleChange = name => event => {\n      if (name == 'courseName') {\n        let nameError = false;\n        nameError = this.props.listSupportCourse.filter(element => element.name === event.target.value.trim()).length > 0;\n        this.setState({\n          [name]: event.target.value,\n          nameError: nameError\n        });\n      } else {\n        this.setState({\n          [name]: event.target.value\n        });\n      }\n    };\n\n    this.handleChangePublicationDate = date => {\n      this.setState({\n        publicationDate: date\n      });\n    };\n\n    this.handleChangePostTime = time => {\n      this.setState({\n        postTime: time._d\n      });\n    };\n\n    this.handleChangeClass = selectedOption => {\n      if (selectedOption != null) {\n        let assignmentIds = [];\n        selectedOption.map(element => {\n          assignmentIds.push(element.id);\n        });\n        this.setState({\n          assignmentIds\n        });\n      } else {\n        this.setState({\n          assignmentIds: []\n        });\n      }\n    };\n\n    this.handleChangeMoocsIds = selectedOption => {\n      if (selectedOption != null) {\n        let MoocsIds = [];\n        selectedOption.map(element => {\n          MoocsIds.push(element.id);\n        });\n        this.setState({\n          MoocsIds\n        });\n      } else {\n        this.setState({\n          MoocsIds: []\n        });\n      }\n    };\n\n    this.handleChangeVirtualClassIds = selectedOption => {\n      console.log('kkkk', selectedOption);\n\n      if (selectedOption != null) {\n        let virtualClassIds = [];\n        selectedOption.map(element => {\n          virtualClassIds.push(element.id);\n        });\n        this.setState({\n          virtualClassIds\n        });\n      } else {\n        this.setState({\n          virtualClassIds: []\n        });\n      }\n    };\n\n    this.state = {\n      open: false,\n      openEdit: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefilesDelete: [],\n      materialCoursefiles: [],\n      nameFiles: [],\n      courseAssignmentList: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false,\n      // state edit\n      itemEdit: {},\n      classEditName: '',\n      classEditId: '',\n      defaultMoocs: [],\n      defaultVirtualClasses: [],\n      messageAlerte: '',\n      alerteStatus: false,\n      defaultClass: [],\n      openArchive: false,\n      deleteIsopen: false,\n      deleteItem: {}\n    };\n    this.openArchive = this.openArchive.bind(this);\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangePublicationDate = this.handleChangePublicationDate.bind(this);\n    this.handleChangePostTime = this.handleChangePostTime.bind(this);\n    this.addNewMaterialCourse = this.addNewMaterialCourse.bind(this);\n    this.handleChangeMoocsIds = this.handleChangeMoocsIds.bind(this);\n    this.handleChangeVirtualClassIds = this.handleChangeVirtualClassIds.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.editShowModal = this.editShowModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.deleteFile = this.deleteFile.bind(this);\n    this.editMaterialCourse = this.editMaterialCourse.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleCancelDelete = this.handleCancelDelete.bind(this);\n    this.handleSubmitDelete = this.handleSubmitDelete.bind(this);\n  }\n\n  openArchive() {\n    this.setState(previousState => ({\n      openArchive: !previousState.openArchive\n    }));\n  }\n\n  componentDidUpdate(prevProps, previousState) {\n    if (prevProps.listMoocs !== this.props.listMoocs) {\n      var optionsListMoocs = this.props.listMoocs.map(element => {\n        var object = {};\n        object.label = element.moocsTopic;\n        object.id = element.id;\n        object.value = element.moocsTopic;\n        return object;\n      });\n      this.setState({\n        optionsListMoocs\n      });\n    }\n\n    if (prevProps.virtualClasses !== this.props.virtualClasses) {\n      var optionsListVirtualClasses = this.props.virtualClasses.map(element => {\n        var object = {};\n        object.label = element.virtual_class_name;\n        object.id = element.id;\n        object.value = element.virtual_class_name;\n        return object;\n      });\n      this.setState({\n        optionsListVirtualClasses\n      });\n    }\n\n    if (prevProps.userProfile !== this.props.userProfile) {\n      this.props.dispatch(getMaterialCourse(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id, this.props.userProfile.role_id, this.props.userProfile.id, this.props.match.params.idAssignement, this.props.match.params.schoolSessionId));\n\n      if (this.props.userProfile.role_id === roleIdProfessor) {\n        let apiEndpoint = `${baseUrl.baseUrl}/professors?access_token=${localStorage.token}&filter[where][profile_id]=${this.props.userProfile.id}&filter[include][course][assignmentClassSubject]=class&filter[include][course][assignmentClassSubject]=subject`;\n        axios.get(apiEndpoint).then(res => {\n          let data = _.map(res.data, 'course');\n\n          let courseAssignmentList = [];\n          data[0].forEach(element => {\n            if (element.assignmentClassSubject.class.fk_id_school_year == this.props.userProfile.school_year_id && element.assignmentClassSubject.subject.id == this.props.match.params.subjectId) {\n              var object = {};\n              object.label = element.assignmentClassSubject.class.name;\n              object.id = element.assignmentClassSubject.id;\n              object.value = element.assignmentClassSubject.id;\n              courseAssignmentList.push(object);\n            }\n          });\n          this.setState({\n            courseAssignmentList\n          });\n        });\n      } else if (this.props.userProfile.role_id === roleIdAdmin) {\n        let courseAssignmentList = [];\n        courseAssignmentList = this.props.courseAssignment.map(element => {\n          var object = {};\n          object.label = element.class.name;\n          object.id = element.id;\n          object.value = element.id;\n          return object;\n        });\n        this.setState({\n          courseAssignmentList\n        });\n      }\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    if (this.props.userProfile.role_id === roleIdProfessor) {\n      let apiEndpoint = `${baseUrl.baseUrl}/professors?access_token=${localStorage.token}&filter[where][profile_id]=${this.props.userProfile.id}&filter[include][course][assignmentClassSubject]=class&filter[include][course][assignmentClassSubject]=subject`;\n      axios.get(apiEndpoint).then(res => {\n        let data = _.map(res.data, 'course');\n\n        let courseAssignmentList = [];\n        data[0].forEach(element => {\n          if (element.assignmentClassSubject.class.fk_id_school_year == this.props.userProfile.school_year_id && element.assignmentClassSubject.subject.id == this.props.match.params.subjectId) {\n            var object = {};\n            object.label = element.assignmentClassSubject.class.name;\n            object.id = element.assignmentClassSubject.id;\n            object.value = element.assignmentClassSubject.id;\n            courseAssignmentList.push(object);\n          }\n        });\n        this.setState({\n          courseAssignmentList\n        });\n      });\n    } else if (this.props.userProfile.role_id === roleIdAdmin) {\n      let courseAssignmentList = [];\n      courseAssignmentList = this.props.courseAssignment.map(element => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        courseAssignmentList\n      });\n    }\n\n    var optionsListMoocs = this.props.listMoocs.map(element => {\n      var object = {};\n      object.label = element.moocsTopic;\n      object.id = element.id;\n      object.value = element.moocsTopic;\n      return object;\n    });\n    var optionsListVirtualClasses = this.props.virtualClasses.map(element => {\n      var object = {};\n      object.label = element.virtual_class_name;\n      object.id = element.id;\n      object.value = element.virtual_class_name;\n      return object;\n    });\n    this.setState({\n      optionsListMoocs,\n      optionsListVirtualClasses\n    });\n  }\n\n  openAddModal() {\n    let classIndex = this.state.courseAssignmentList.findIndex(element => element.id == this.props.match.params.idAssignement);\n    let assignmentIds = [parseInt(this.props.match.params.idAssignement, 10)];\n    this.setState({\n      classIndex,\n      assignmentIds\n    });\n    this.setState(previousState => ({\n      open: !previousState.open\n    }));\n  }\n\n  deleteFile(filename) {\n    let nameFiles = this.state.nameFiles.filter(element => element != filename);\n    let deletedFiles = [];\n\n    if (this.state.itemEdit.fileList != undefined) {\n      this.state.itemEdit.fileList.map(element => {\n        if (element.url_course_materials_files.slice(59) == filename) {\n          deletedFiles.push(element.id);\n        }\n      });\n    }\n\n    let materialCoursefiles = this.state.materialCoursefiles.filter(element => element.name != filename);\n    this.state.materialCoursefilesDelete.map(element => {\n      deletedFiles.push(element);\n    });\n    this.setState({\n      nameFiles,\n      materialCoursefilesDelete: deletedFiles,\n      materialCoursefiles\n    });\n  }\n\n  attachFile(e) {\n    var oldFiles = this.state.materialCoursefiles;\n    var files = Object.values(e.target.files);\n    var nameFiles = this.state.nameFiles;\n\n    if (files !== undefined && this.state.nameFiles.length + files.length < 6) {\n      files.map(element => {\n        nameFiles.push(element.name);\n        oldFiles.push(element);\n      });\n      this.setState({\n        materialCoursefiles: oldFiles,\n        nameFiles\n      });\n    } else {\n      this.setState({\n        messageAlerte: 'vous avez dÃ©passer 5 fichiers',\n        alerteStatus: true\n      });\n      setTimeout(() => {\n        this.setState({\n          messageAlerte: '',\n          alerteStatus: false\n        });\n      }, 4000);\n    }\n  }\n\n  editMaterialCourse(event) {\n    event.preventDefault();\n    let idCreatorProfile = this.props.userProfile.user.id;\n    let dateFormat = moment(this.state.publicationDate).format('YYYY-MM-DD');\n    let timeFormat = moment(this.state.postTime).format('HH:mm:ssZ');\n    let TimeDate = dateFormat + 'T' + timeFormat;\n    let fk_id_professor = parseInt(this.props.match.params.idProf, 10) == 0 ? null : parseInt(this.props.match.params.idProf, 10);\n    let data = {\n      id: this.state.itemEdit.id,\n      name: this.state.courseName,\n      url_course: this.state.courseUrl,\n      status: true,\n      creation_date: TimeDate,\n      comment: this.state.comment,\n      fk_id_assign_class_subject: this.state.assignmentIds,\n      fk_id_creator_profile: idCreatorProfile,\n      files: this.state.materialCoursefiles,\n      filesDeleted: this.state.materialCoursefilesDelete,\n      moocsAttached: this.state.MoocsIds,\n      virtuelClassAttached: this.state.virtualClassIds,\n      toDoAttached: 0,\n      fk_id_professor: fk_id_professor,\n      fk_id_school_session: parseInt(this.props.match.params.schoolSessionId, 10)\n    };\n    this.props.dispatch(editMaterialCourse(data, this.props.userProfile.establishment_id, this.props.userProfile.school_year_id, this.props.userProfile.role_id, this.props.userProfile.id, this.props.match.params.idAssignement, this.props.match.params.schoolSessionId));\n    this.setState({\n      open: false,\n      openEdit: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefiles: [],\n      materialCoursefilesDelete: [],\n      nameFiles: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false,\n      defaultClass: []\n    });\n  }\n\n  addNewMaterialCourse(event) {\n    event.preventDefault();\n    let idCreatorProfile = this.props.userProfile.user.id;\n    let dateFormat = moment(this.state.publicationDate).format('YYYY-MM-DD');\n    let timeFormat = moment(this.state.postTime).format('HH:mm:ssZ');\n    let TimeDate = dateFormat + 'T' + timeFormat;\n    let fk_id_professor = parseInt(this.props.match.params.idProf, 10) == 0 ? null : parseInt(this.props.match.params.idProf, 10);\n    let data = {\n      name: this.state.courseName,\n      url_course: this.state.courseUrl,\n      status: true,\n      creation_date: TimeDate,\n      comment: this.state.comment,\n      fk_id_assign_class_subject: this.state.assignmentIds,\n      fk_id_creator_profile: idCreatorProfile,\n      files: this.state.materialCoursefiles,\n      moocsAttached: this.state.MoocsIds,\n      virtuelClassAttached: this.state.virtualClassIds,\n      toDoAttached: 0,\n      fk_id_professor: fk_id_professor,\n      fk_id_school_session: parseInt(this.props.match.params.schoolSessionId, 10)\n    };\n    this.props.dispatch(addMaterialCourse(data, this.props.userProfile.establishment_id, this.props.userProfile.school_year_id, this.props.userProfile.role_id, this.props.userProfile.id, this.props.match.params.idAssignement, this.props.match.params.schoolSessionId));\n    this.setState({\n      open: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefiles: [],\n      nameFiles: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false\n    });\n  }\n\n  handleCancel() {\n    this.setState({\n      open: false,\n      openEdit: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefiles: [],\n      nameFiles: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false,\n      // state edit\n      classEditName: '',\n      classEditId: '',\n      defaultMoocs: [],\n      defaultVirtualClasses: [],\n      materialCoursefilesDelete: [],\n      itemEdit: {},\n      defaultClass: []\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"  d-flex p-2 bd-highlight mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ListItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FolderIcon, {\n      style: {\n        fontSize: '55',\n        marginRight: '20px'\n      },\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"  d-flex row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        style: {\n          color: '#3F51B5',\n          fontWeight: 'normal',\n          fontFamily: 'Roboto'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 21\n        }\n      }, this.props.match.params.className + '/' + this.props.match.params.subjectName), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h4\",\n        style: {\n          color: 'black',\n          fontWeight: 'normal',\n          fontFamily: 'Roboto'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 21\n        }\n      }, '/' + this.props.match.params.schoolSessionName)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 15\n      }\n    }), ' ')), this.props.successStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 15\n      }\n    }, \" \", this.props.message, \" \")) : '', this.props.errorStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-danger bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 15\n      }\n    }, \" \", this.props.message, \" \")) : '', this.state.alerteStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-danger bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 15\n      }\n    }, \" \", this.state.messageAlerte, \" \")) : '', /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 11\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"add-service\",\n      yes: () => /*#__PURE__*/React.createElement(CardBox, {\n        styleName: \"col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(AddSupportCours, {\n        informationsAdd: this.props.match.params,\n        courseAssignmentList: this.state.courseAssignmentList,\n        values: this.state,\n        openAddModal: this.openAddModal,\n        handleChangeClass: this.handleChangeClass,\n        handleChange: this.handleChange,\n        handleChangePublicationDate: this.handleChangePublicationDate,\n        handleChangePostTime: this.handleChangePostTime,\n        handleChangeMoocsIds: this.handleChangeMoocsIds,\n        handleChangeVirtualClassIds: this.handleChangeVirtualClassIds,\n        attachFile: this.attachFile,\n        addNewMaterialCourse: this.addNewMaterialCourse,\n        handleCancel: this.handleCancel,\n        deleteFile: this.deleteFile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 21\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive-material\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      className: \"th-border-b\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 21\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"file.type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"file.title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"todo.labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"publication.date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"material.professor.name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"associated.files.links\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"dashboard.comments\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 21\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"add-service\",\n      yes: () => /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"action.type.of.education\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 31\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 25\n      }\n    })))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 17\n      }\n    }, this.props.listSupportCourse.map(cours => {\n      return /*#__PURE__*/React.createElement(SupportCoursListItems, {\n        cours: cours,\n        editShowModal: this.editShowModal,\n        pathAttached: this.props.match,\n        archived: false,\n        handleDelete: this.handleDelete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 23\n        }\n      });\n    }))))), /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 714,\n        columnNumber: 11\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"add-service\",\n      yes: () => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-start align-items-center \",\n        style: {\n          paddingRight: 'auto',\n          paddingLeft: '2%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 27\n        }\n      }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"service.button.archive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 29\n        }\n      }), ' ')), ' ', \"\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Fab, {\n        size: \"small\",\n        color: \"secondary\",\n        \"aria-label\": \"Add\",\n        onClick: this.openArchive,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 23\n        }\n      }), this.state.openArchive ? /*#__PURE__*/React.createElement(CardBox, {\n        styleName: \"col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-responsive-material\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(TableHead, {\n        className: \"th-border-b\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 752,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 35\n        }\n      }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"file.type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"file.title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"todo.labels\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"publication.date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"material.professor.name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"associated.files.links\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.comments\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 37\n        }\n      })))), /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 31\n        }\n      }, this.props.listSupportCourseArchived.map(cours => {\n        return /*#__PURE__*/React.createElement(SupportCoursListItems, {\n          cours: cours,\n          editShowModal: this.editShowModal,\n          pathAttached: this.props.match,\n          archived: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 37\n          }\n        });\n      }))))) : '')),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(ArchiveSupportCours, {\n      values: this.state,\n      deleteIsopen: this.state.deleteIsopen,\n      handleCancelDelete: this.handleCancelDelete,\n      handleSubmitDelete: this.handleSubmitDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(EditSupportCours, {\n      values: this.state,\n      informationsAdd: this.props.match.params,\n      handleCancel: this.handleCancel,\n      handleChange: this.handleChange,\n      handleChangeClass: this.handleChangeClass,\n      handleChangePublicationDate: this.handleChangePublicationDate,\n      handleChangePostTime: this.handleChangePostTime,\n      handleChangeMoocsIds: this.handleChangeMoocsIds,\n      handleChangeVirtualClassIds: this.handleChangeVirtualClassIds,\n      attachFile: this.attachFile,\n      deleteFile: this.deleteFile,\n      editMaterialCourse: this.editMaterialCourse,\n      courseAssignmentList: this.state.courseAssignmentList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    courseAssignment: state.AssignementReducer.courseAssignment,\n    virtualClasses: state.classVirtualReducer.remoteClassVirtual,\n    listMoocs: state.MoocsReducer.remoteMoocs,\n    listSupportCourse: state.MaterialCourseReducer.remoteMaterialCourse,\n    listSupportCourseArchived: state.MaterialCourseReducer.remoteMaterialCourseArchived\n  };\n}\n\nexport default connect(mapStateToProps)(SupportCoursList);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Learning/routes/CoursMaterials/SupportCoursList.js"],"names":["React","Component","connect","IntlMessages","CardBox","Fab","AddIcon","TextField","Button","RemoveSharpIcon","AddSupportCours","FolderIcon","ListItem","ListItemText","ListItemAvatar","Typography","RoleContext","Can","Table","TableBody","TableCell","TableHead","TableRow","SupportCoursListItems","UncontrolledAlert","addMaterialCourse","getMaterialCourse","editMaterialCourse","deleteMaterialCourse","moment","axios","baseUrl","_","roleIdProfessor","roleIdAdmin","EditSupportCours","DeleteOutlineIcon","ArchiveSupportCours","SupportCoursList","constructor","props","handleSubmitDelete","dispatch","state","deleteItem","setState","deleteIsopen","handleCancelDelete","handleDelete","item","editShowModal","defaultClass","courseAssignmentList","filter","element","assignClassSubjectId","indexOf","id","defaultMoocs","MoocsIds","moocsList","map","object","label","moocs_topic","value","push","virtualClassIds","defaultVirtualClasses","virtualClassList","virtual_class_name","nameFiles","fileList","url_course_materials_files","slice","assignmentIds","publicationDate","creationDate","postTime","itemEdit","open","openEdit","materialCoursefiles","courseName","name","courseUrl","urlCourse","comment","classEditName","classes","classEditId","handleChange","event","nameError","listSupportCourse","target","trim","length","handleChangePublicationDate","date","handleChangePostTime","time","_d","handleChangeClass","selectedOption","handleChangeMoocsIds","handleChangeVirtualClassIds","console","log","Date","toDoClassIds","materialCoursefilesDelete","classIndex","messageAlerte","alerteStatus","openArchive","bind","openAddModal","addNewMaterialCourse","attachFile","handleCancel","deleteFile","previousState","componentDidUpdate","prevProps","listMoocs","optionsListMoocs","moocsTopic","virtualClasses","optionsListVirtualClasses","userProfile","establishment_id","school_year_id","role_id","match","params","idAssignement","schoolSessionId","apiEndpoint","localStorage","token","get","then","res","data","forEach","assignmentClassSubject","class","fk_id_school_year","subject","subjectId","courseAssignment","UNSAFE_componentWillMount","findIndex","parseInt","filename","deletedFiles","undefined","e","oldFiles","files","Object","values","setTimeout","preventDefault","idCreatorProfile","user","dateFormat","format","timeFormat","TimeDate","fk_id_professor","idProf","url_course","status","creation_date","fk_id_assign_class_subject","fk_id_creator_profile","filesDeleted","moocsAttached","virtuelClassAttached","toDoAttached","fk_id_school_session","render","width","fontSize","marginRight","color","fontWeight","fontFamily","className","subjectName","schoolSessionName","successStatus","message","errorStatus","role","cours","paddingRight","paddingLeft","listSupportCourseArchived","mapStateToProps","auth","alert","success","error","AssignementReducer","classVirtualReducer","remoteClassVirtual","MoocsReducer","remoteMoocs","MaterialCourseReducer","remoteMaterialCourse","remoteMaterialCourseArchived"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport CardBox from '../../../../../components/CardBox/index';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport RemoveSharpIcon from '@material-ui/icons/RemoveSharp';\nimport AddSupportCours from './AddSupportCours';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Typography from '@material-ui/core/Typography';\nimport { RoleContext } from '../../../../../Context';\nimport Can from '../../../../../can';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport SupportCoursListItems from './SupportCoursListItems';\nimport { UncontrolledAlert } from 'reactstrap';\nimport {\n  addMaterialCourse,\n  getMaterialCourse,\n  editMaterialCourse,\n  deleteMaterialCourse,\n} from '../../../../../actions/MaterialCourseAction';\nimport moment from 'moment';\nimport axios from 'axios';\nimport baseUrl from '../../../../../config/config';\nimport _ from 'lodash';\nimport { roleIdProfessor, roleIdAdmin } from '../../../../../config/config';\nimport EditSupportCours from './EditSupportCours';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport ArchiveSupportCours from './ArchiveSupportCours';\nclass SupportCoursList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      openEdit: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefilesDelete: [],\n      materialCoursefiles: [],\n      nameFiles: [],\n      courseAssignmentList: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false,\n      // state edit\n      itemEdit: {},\n      classEditName: '',\n      classEditId: '',\n      defaultMoocs: [],\n      defaultVirtualClasses: [],\n      messageAlerte: '',\n      alerteStatus: false,\n      defaultClass: [],\n      openArchive: false,\n      deleteIsopen: false,\n      deleteItem: {},\n    };\n    this.openArchive = this.openArchive.bind(this);\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangePublicationDate = this.handleChangePublicationDate.bind(this);\n    this.handleChangePostTime = this.handleChangePostTime.bind(this);\n    this.addNewMaterialCourse = this.addNewMaterialCourse.bind(this);\n    this.handleChangeMoocsIds = this.handleChangeMoocsIds.bind(this);\n    this.handleChangeVirtualClassIds = this.handleChangeVirtualClassIds.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.editShowModal = this.editShowModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.deleteFile = this.deleteFile.bind(this);\n    this.editMaterialCourse = this.editMaterialCourse.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleCancelDelete = this.handleCancelDelete.bind(this);\n    this.handleSubmitDelete = this.handleSubmitDelete.bind(this);\n  }\n  handleSubmitDelete = () => {\n    // console.log(this.state.deleteItem, 'deleteItem');\n    this.props.dispatch(deleteMaterialCourse(this.state.deleteItem));\n    this.setState({\n      deleteIsopen: false,\n      deleteItem: {},\n    });\n  };\n  handleCancelDelete = () => {\n    this.setState({\n      deleteIsopen: false,\n      deleteItem: {},\n    });\n  };\n  handleDelete = (item) => {\n    this.setState({ deleteIsopen: true, deleteItem: item });\n  };\n  openArchive() {\n    this.setState((previousState) => ({\n      openArchive: !previousState.openArchive,\n    }));\n  }\n  componentDidUpdate(prevProps, previousState) {\n    if (prevProps.listMoocs !== this.props.listMoocs) {\n      var optionsListMoocs = this.props.listMoocs.map((element) => {\n        var object = {};\n        object.label = element.moocsTopic;\n        object.id = element.id;\n        object.value = element.moocsTopic;\n        return object;\n      });\n      this.setState({\n        optionsListMoocs,\n      });\n    }\n    if (prevProps.virtualClasses !== this.props.virtualClasses) {\n      var optionsListVirtualClasses = this.props.virtualClasses.map((element) => {\n        var object = {};\n        object.label = element.virtual_class_name;\n        object.id = element.id;\n        object.value = element.virtual_class_name;\n        return object;\n      });\n      this.setState({\n        optionsListVirtualClasses,\n      });\n    }\n    if (prevProps.userProfile !== this.props.userProfile) {\n      this.props.dispatch(\n        getMaterialCourse(\n          this.props.userProfile.establishment_id,\n          this.props.userProfile.school_year_id,\n          this.props.userProfile.role_id,\n          this.props.userProfile.id,\n          this.props.match.params.idAssignement,\n          this.props.match.params.schoolSessionId\n        )\n      );\n      if (this.props.userProfile.role_id === roleIdProfessor) {\n        let apiEndpoint = `${baseUrl.baseUrl}/professors?access_token=${localStorage.token}&filter[where][profile_id]=${this.props.userProfile.id}&filter[include][course][assignmentClassSubject]=class&filter[include][course][assignmentClassSubject]=subject`;\n        axios.get(apiEndpoint).then((res) => {\n          let data = _.map(res.data, 'course');\n\n          let courseAssignmentList = [];\n\n          data[0].forEach((element) => {\n            if (\n              element.assignmentClassSubject.class.fk_id_school_year ==\n                this.props.userProfile.school_year_id &&\n              element.assignmentClassSubject.subject.id == this.props.match.params.subjectId\n            ) {\n              var object = {};\n              object.label = element.assignmentClassSubject.class.name;\n              object.id = element.assignmentClassSubject.id;\n              object.value = element.assignmentClassSubject.id;\n              courseAssignmentList.push(object);\n            }\n          });\n          this.setState({ courseAssignmentList });\n        });\n      } else if (this.props.userProfile.role_id === roleIdAdmin) {\n        let courseAssignmentList = [];\n        courseAssignmentList = this.props.courseAssignment.map((element) => {\n          var object = {};\n          object.label = element.class.name;\n          object.id = element.id;\n          object.value = element.id;\n          return object;\n        });\n        this.setState({ courseAssignmentList });\n      }\n    }\n  }\n  UNSAFE_componentWillMount() {\n    if (this.props.userProfile.role_id === roleIdProfessor) {\n      let apiEndpoint = `${baseUrl.baseUrl}/professors?access_token=${localStorage.token}&filter[where][profile_id]=${this.props.userProfile.id}&filter[include][course][assignmentClassSubject]=class&filter[include][course][assignmentClassSubject]=subject`;\n      axios.get(apiEndpoint).then((res) => {\n        let data = _.map(res.data, 'course');\n\n        let courseAssignmentList = [];\n\n        data[0].forEach((element) => {\n          if (\n            element.assignmentClassSubject.class.fk_id_school_year ==\n              this.props.userProfile.school_year_id &&\n            element.assignmentClassSubject.subject.id == this.props.match.params.subjectId\n          ) {\n            var object = {};\n            object.label = element.assignmentClassSubject.class.name;\n            object.id = element.assignmentClassSubject.id;\n            object.value = element.assignmentClassSubject.id;\n            courseAssignmentList.push(object);\n          }\n        });\n        this.setState({ courseAssignmentList });\n      });\n    } else if (this.props.userProfile.role_id === roleIdAdmin) {\n      let courseAssignmentList = [];\n      courseAssignmentList = this.props.courseAssignment.map((element) => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n\n      this.setState({ courseAssignmentList });\n    }\n    var optionsListMoocs = this.props.listMoocs.map((element) => {\n      var object = {};\n      object.label = element.moocsTopic;\n      object.id = element.id;\n      object.value = element.moocsTopic;\n      return object;\n    });\n    var optionsListVirtualClasses = this.props.virtualClasses.map((element) => {\n      var object = {};\n      object.label = element.virtual_class_name;\n      object.id = element.id;\n      object.value = element.virtual_class_name;\n      return object;\n    });\n    this.setState({ optionsListMoocs, optionsListVirtualClasses });\n  }\n  openAddModal() {\n    let classIndex = this.state.courseAssignmentList.findIndex(\n      (element) => element.id == this.props.match.params.idAssignement\n    );\n    let assignmentIds = [parseInt(this.props.match.params.idAssignement, 10)];\n    this.setState({\n      classIndex,\n      assignmentIds,\n    });\n\n    this.setState((previousState) => ({\n      open: !previousState.open,\n    }));\n  }\n  editShowModal = (item) => {\n    let defaultClass = [];\n    defaultClass = this.state.courseAssignmentList.filter(\n      (element) => item.assignClassSubjectId.indexOf(element.id) >= 0\n    );\n\n    let defaultMoocs = [];\n    let MoocsIds = [];\n    item.moocsList.map((element) => {\n      var object = {};\n      object.label = element.moocs_topic;\n      object.id = element.id;\n      object.value = element.moocs_topic;\n      defaultMoocs.push(object);\n      MoocsIds.push(element.id);\n    });\n\n    let virtualClassIds = [];\n    let defaultVirtualClasses = [];\n    item.virtualClassList.map((element) => {\n      var object = {};\n      object.label = element.virtual_class_name;\n      object.id = element.id;\n      object.value = element.virtual_class_name;\n      defaultVirtualClasses.push(object);\n      virtualClassIds.push(element.id);\n    });\n    var nameFiles = item.fileList.map((element) => {\n      return element.url_course_materials_files.slice(59);\n    });\n    let assignmentIds = item.assignClassSubjectId;\n    let publicationDate = moment(item.creationDate);\n    let postTime = moment(item.creationDate);\n    this.setState({\n      defaultClass,\n      itemEdit: item,\n      open: false,\n      openEdit: true,\n      defaultMoocs,\n      nameFiles,\n      materialCoursefiles: [],\n      defaultVirtualClasses,\n      courseName: item.name,\n      courseUrl: item.urlCourse,\n      comment: item.comment,\n      classEditName: item.classes[0].name,\n      classEditId: item.classes[0].id,\n      publicationDate,\n      postTime,\n      assignmentIds,\n      MoocsIds,\n      virtualClassIds,\n    });\n  };\n  handleChange = (name) => (event) => {\n    if (name == 'courseName') {\n      let nameError = false;\n      nameError =\n        this.props.listSupportCourse.filter((element) => element.name === event.target.value.trim())\n          .length > 0;\n\n      this.setState({ [name]: event.target.value, nameError: nameError });\n    } else {\n      this.setState({ [name]: event.target.value });\n    }\n  };\n  handleChangePublicationDate = (date) => {\n    this.setState({ publicationDate: date });\n  };\n  handleChangePostTime = (time) => {\n    this.setState({ postTime: time._d });\n  };\n\n  handleChangeClass = (selectedOption) => {\n    if (selectedOption != null) {\n      let assignmentIds = [];\n      selectedOption.map((element) => {\n        assignmentIds.push(element.id);\n      });\n      this.setState({\n        assignmentIds,\n      });\n    } else {\n      this.setState({\n        assignmentIds: [],\n      });\n    }\n  };\n\n  handleChangeMoocsIds = (selectedOption) => {\n    if (selectedOption != null) {\n      let MoocsIds = [];\n      selectedOption.map((element) => {\n        MoocsIds.push(element.id);\n      });\n      this.setState({\n        MoocsIds,\n      });\n    } else {\n      this.setState({\n        MoocsIds: [],\n      });\n    }\n  };\n  handleChangeVirtualClassIds = (selectedOption) => {\n    console.log('kkkk',selectedOption);\n    \n    if (selectedOption != null) {\n      let virtualClassIds = [];\n      selectedOption.map((element) => {\n        virtualClassIds.push(element.id);\n      });\n      this.setState({\n        virtualClassIds,\n      });\n    } else {\n      this.setState({\n        virtualClassIds: [],\n      });\n    }\n  };\n  deleteFile(filename) {\n    let nameFiles = this.state.nameFiles.filter((element) => element != filename);\n    let deletedFiles = [];\n    if (this.state.itemEdit.fileList != undefined) {\n      this.state.itemEdit.fileList.map((element) => {\n        if (element.url_course_materials_files.slice(59) == filename) {\n          deletedFiles.push(element.id);\n        }\n      });\n    }\n\n    let materialCoursefiles = this.state.materialCoursefiles.filter(\n      (element) => element.name != filename\n    );\n    this.state.materialCoursefilesDelete.map((element) => {\n      deletedFiles.push(element);\n    });\n    this.setState({ nameFiles, materialCoursefilesDelete: deletedFiles, materialCoursefiles });\n  }\n  attachFile(e) {\n    var oldFiles = this.state.materialCoursefiles;\n    var files = Object.values(e.target.files);\n    var nameFiles = this.state.nameFiles;\n    if (files !== undefined && this.state.nameFiles.length + files.length < 6) {\n      files.map((element) => {\n        nameFiles.push(element.name);\n        oldFiles.push(element);\n      });\n      this.setState({ materialCoursefiles: oldFiles, nameFiles });\n    } else {\n      this.setState({\n        messageAlerte: 'vous avez dÃ©passer 5 fichiers',\n        alerteStatus: true,\n      });\n      setTimeout(() => {\n        this.setState({ messageAlerte: '', alerteStatus: false });\n      }, 4000);\n    }\n  }\n  editMaterialCourse(event) {\n    event.preventDefault();\n\n    let idCreatorProfile = this.props.userProfile.user.id;\n    let dateFormat = moment(this.state.publicationDate).format('YYYY-MM-DD');\n    let timeFormat = moment(this.state.postTime).format('HH:mm:ssZ');\n    let TimeDate = dateFormat + 'T' + timeFormat;\n    let fk_id_professor =\n      parseInt(this.props.match.params.idProf, 10) == 0\n        ? null\n        : parseInt(this.props.match.params.idProf, 10);\n\n    let data = {\n      id: this.state.itemEdit.id,\n      name: this.state.courseName,\n      url_course: this.state.courseUrl,\n      status: true,\n      creation_date: TimeDate,\n      comment: this.state.comment,\n      fk_id_assign_class_subject: this.state.assignmentIds,\n      fk_id_creator_profile: idCreatorProfile,\n      files: this.state.materialCoursefiles,\n      filesDeleted: this.state.materialCoursefilesDelete,\n      moocsAttached: this.state.MoocsIds,\n      virtuelClassAttached: this.state.virtualClassIds,\n      toDoAttached: 0,\n      fk_id_professor: fk_id_professor,\n      fk_id_school_session: parseInt(this.props.match.params.schoolSessionId, 10),\n    };\n    this.props.dispatch(\n      editMaterialCourse(\n        data,\n        this.props.userProfile.establishment_id,\n        this.props.userProfile.school_year_id,\n        this.props.userProfile.role_id,\n        this.props.userProfile.id,\n        this.props.match.params.idAssignement,\n        this.props.match.params.schoolSessionId\n      )\n    );\n    this.setState({\n      open: false,\n      openEdit: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefiles: [],\n      materialCoursefilesDelete: [],\n      nameFiles: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false,\n      defaultClass: [],\n    });\n  }\n  addNewMaterialCourse(event) {\n    event.preventDefault();\n    let idCreatorProfile = this.props.userProfile.user.id;\n    let dateFormat = moment(this.state.publicationDate).format('YYYY-MM-DD');\n    let timeFormat = moment(this.state.postTime).format('HH:mm:ssZ');\n    let TimeDate = dateFormat + 'T' + timeFormat;\n    let fk_id_professor =\n      parseInt(this.props.match.params.idProf, 10) == 0\n        ? null\n        : parseInt(this.props.match.params.idProf, 10);\n\n    let data = {\n      name: this.state.courseName,\n      url_course: this.state.courseUrl,\n      status: true,\n      creation_date: TimeDate,\n      comment: this.state.comment,\n      fk_id_assign_class_subject: this.state.assignmentIds,\n      fk_id_creator_profile: idCreatorProfile,\n      files: this.state.materialCoursefiles,\n      moocsAttached: this.state.MoocsIds,\n      virtuelClassAttached: this.state.virtualClassIds,\n      toDoAttached: 0,\n      fk_id_professor: fk_id_professor,\n      fk_id_school_session: parseInt(this.props.match.params.schoolSessionId, 10),\n    };\n    this.props.dispatch(\n      addMaterialCourse(\n        data,\n        this.props.userProfile.establishment_id,\n        this.props.userProfile.school_year_id,\n        this.props.userProfile.role_id,\n        this.props.userProfile.id,\n        this.props.match.params.idAssignement,\n        this.props.match.params.schoolSessionId\n      )\n    );\n    this.setState({\n      open: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefiles: [],\n      nameFiles: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false,\n    });\n  }\n  handleCancel() {\n    this.setState({\n      open: false,\n      openEdit: false,\n      courseName: '',\n      courseUrl: '',\n      comment: '',\n      publicationDate: new Date(),\n      postTime: new Date(),\n      MoocsIds: [],\n      virtualClassIds: [],\n      toDoClassIds: [],\n      materialCoursefiles: [],\n      nameFiles: [],\n      assignmentIds: [],\n      classIndex: '',\n      nameError: false,\n      // state edit\n      classEditName: '',\n      classEditId: '',\n      defaultMoocs: [],\n      defaultVirtualClasses: [],\n      materialCoursefilesDelete: [],\n      itemEdit: {},\n      defaultClass: [],\n    });\n  }\n  render() {\n    return (\n      <div>\n        <div className=\" bd-highlight\" style={{ width: '100%' }}>\n          <div className=\"  d-flex p-2 bd-highlight mb-4\">\n            <ListItem>\n              <ListItemAvatar>\n                <FolderIcon\n                  style={{\n                    fontSize: '55',\n                    marginRight: '20px',\n                  }}\n                  color=\"primary\"\n                />\n              </ListItemAvatar>\n              <ListItemText\n                primary={\n                  <div className=\"  d-flex row\">\n                    <Typography\n                      variant=\"h4\"\n                      style={{\n                        color: '#3F51B5',\n                        fontWeight: 'normal',\n                        fontFamily: 'Roboto',\n                      }}\n                    >\n                      {this.props.match.params.className +\n                        '/' +\n                        this.props.match.params.subjectName}\n                    </Typography>\n                    <Typography\n                      variant=\"h4\"\n                      style={{\n                        color: 'black',\n                        fontWeight: 'normal',\n                        fontFamily: 'Roboto',\n                      }}\n                    >\n                      {'/' + this.props.match.params.schoolSessionName}\n                    </Typography>\n                  </div>\n                }\n              />{' '}\n            </ListItem>\n          </div>\n          {this.props.successStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            ''\n          )}\n          {this.props.errorStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-danger bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            ''\n          )}\n          {this.state.alerteStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-danger bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.state.messageAlerte} </span>\n            </UncontrolledAlert>\n          ) : (\n            ''\n          )}\n          <RoleContext.Consumer>\n            {({ role }) => (\n              <Can\n                role={role}\n                perform=\"add-service\"\n                yes={() => (\n                  <CardBox styleName=\"col-lg-12\">\n                    <AddSupportCours\n                      informationsAdd={this.props.match.params}\n                      courseAssignmentList={this.state.courseAssignmentList}\n                      values={this.state}\n                      openAddModal={this.openAddModal}\n                      handleChangeClass={this.handleChangeClass}\n                      handleChange={this.handleChange}\n                      handleChangePublicationDate={this.handleChangePublicationDate}\n                      handleChangePostTime={this.handleChangePostTime}\n                      handleChangeMoocsIds={this.handleChangeMoocsIds}\n                      handleChangeVirtualClassIds={this.handleChangeVirtualClassIds}\n                      attachFile={this.attachFile}\n                      addNewMaterialCourse={this.addNewMaterialCourse}\n                      handleCancel={this.handleCancel}\n                      deleteFile={this.deleteFile}\n                    />\n                  </CardBox>\n                )}\n              />\n            )}\n          </RoleContext.Consumer>\n          <CardBox styleName=\"col-lg-12\">\n            <div className=\"table-responsive-material\">\n              <Table>\n                <TableHead className=\"th-border-b\">\n                  <TableRow>\n                    <TableCell>\n                      {' '}\n                      <IntlMessages id=\"file.type\" />\n                    </TableCell>\n\n                    <TableCell>\n                      <IntlMessages id=\"file.title\" />\n                    </TableCell>\n                    <TableCell>\n                      <IntlMessages id=\"todo.labels\" />\n                    </TableCell>\n                    <TableCell>\n                      <IntlMessages id=\"publication.date\" />\n                    </TableCell>\n                    <TableCell>\n                      <IntlMessages id=\"material.professor.name\" />\n                    </TableCell>\n                    <TableCell>\n                      <IntlMessages id=\"associated.files.links\" />\n                    </TableCell>\n                    <TableCell>\n                      <IntlMessages id=\"dashboard.comments\" />\n                    </TableCell>\n\n                    <RoleContext.Consumer>\n                      {({ role }) => (\n                        <Can\n                          role={role}\n                          perform=\"add-service\"\n                          yes={() => (\n                            <TableCell>\n                              <IntlMessages id=\"action.type.of.education\" />\n                            </TableCell>\n                          )}\n                        />\n                      )}\n                    </RoleContext.Consumer>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {this.props.listSupportCourse.map((cours) => {\n                    return (\n                      <SupportCoursListItems\n                        cours={cours}\n                        editShowModal={this.editShowModal}\n                        pathAttached={this.props.match}\n                        archived={false}\n                        handleDelete={this.handleDelete}\n                      />\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </div>\n          </CardBox>\n\n          <RoleContext.Consumer>\n            {({ role }) => (\n              <Can\n                role={role}\n                perform=\"add-service\"\n                yes={() => (\n                  <div className=\"col-lg-12 col-md-12 bd-highlight\">\n                    <div>\n                      <div\n                        className=\"d-flex justify-content-start align-items-center \"\n                        style={{\n                          paddingRight: 'auto',\n                          paddingLeft: '2%',\n                        }}\n                      >\n                        <h1>\n                          <b>\n                            {' '}\n                            <IntlMessages id=\"service.button.archive\" />{' '}\n                          </b>\n                        </h1>{' '}\n                        &nbsp;&nbsp;&nbsp;\n                        <Fab\n                          size=\"small\"\n                          color=\"secondary\"\n                          aria-label=\"Add\"\n                          onClick={this.openArchive}\n                        >\n                          <DeleteOutlineIcon />\n                        </Fab>\n                      </div>\n                      <br />\n\n                      {this.state.openArchive ? (\n                        <CardBox styleName=\"col-lg-12\">\n                          <div className=\"table-responsive-material\">\n                            <Table>\n                              <TableHead className=\"th-border-b\">\n                                <TableRow>\n                                  <TableCell>\n                                    {' '}\n                                    <IntlMessages id=\"file.type\" />\n                                  </TableCell>\n\n                                  <TableCell>\n                                    <IntlMessages id=\"file.title\" />\n                                  </TableCell>\n                                  <TableCell>\n                                    <IntlMessages id=\"todo.labels\" />\n                                  </TableCell>\n                                  <TableCell>\n                                    <IntlMessages id=\"publication.date\" />\n                                  </TableCell>\n                                  <TableCell>\n                                    <IntlMessages id=\"material.professor.name\" />\n                                  </TableCell>\n                                  <TableCell>\n                                    <IntlMessages id=\"associated.files.links\" />\n                                  </TableCell>\n                                  <TableCell>\n                                    <IntlMessages id=\"dashboard.comments\" />\n                                  </TableCell>\n                                </TableRow>\n                              </TableHead>\n                              <TableBody>\n                                {this.props.listSupportCourseArchived.map((cours) => {\n                                  return (\n                                    <SupportCoursListItems\n                                      cours={cours}\n                                      editShowModal={this.editShowModal}\n                                      pathAttached={this.props.match}\n                                      archived={true}\n                                    />\n                                  );\n                                })}\n                              </TableBody>\n                            </Table>\n                          </div>\n                        </CardBox>\n                      ) : (\n                        ''\n                      )}\n                    </div>\n                  </div>\n                )}\n              />\n            )}\n          </RoleContext.Consumer>\n        </div>\n        <ArchiveSupportCours\n          values={this.state}\n          deleteIsopen={this.state.deleteIsopen}\n          handleCancelDelete={this.handleCancelDelete}\n          handleSubmitDelete={this.handleSubmitDelete}\n        />\n        <EditSupportCours\n          values={this.state}\n          informationsAdd={this.props.match.params}\n          handleCancel={this.handleCancel}\n          handleChange={this.handleChange}\n          handleChangeClass={this.handleChangeClass}\n          handleChangePublicationDate={this.handleChangePublicationDate}\n          handleChangePostTime={this.handleChangePostTime}\n          handleChangeMoocsIds={this.handleChangeMoocsIds}\n          handleChangeVirtualClassIds={this.handleChangeVirtualClassIds}\n          attachFile={this.attachFile}\n          deleteFile={this.deleteFile}\n          editMaterialCourse={this.editMaterialCourse}\n          courseAssignmentList={this.state.courseAssignmentList}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    courseAssignment: state.AssignementReducer.courseAssignment,\n    virtualClasses: state.classVirtualReducer.remoteClassVirtual,\n    listMoocs: state.MoocsReducer.remoteMoocs,\n    listSupportCourse: state.MaterialCourseReducer.remoteMaterialCourse,\n    listSupportCourseArchived: state.MaterialCourseReducer.remoteMaterialCourseArchived,\n  };\n}\n\nexport default connect(mapStateToProps)(SupportCoursList);\n"]},"metadata":{},"sourceType":"module"}