{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/FinancialManagement/routes/Service/Service.js\";\nimport React from 'react';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport CardBox from '../../../../../components/CardBox/index';\nimport AddService from './AddService';\nimport { getServiceV2 } from '../../../../../actions/ServiceAction';\nimport { connect } from 'react-redux';\nimport ServiceItem from './ServiceItem';\nimport { classService } from '../../../../../_services';\nimport ArchiveService from './ArchiveService';\nimport { UncontrolledAlert } from 'reactstrap';\nimport { addServiceV2 } from '../../../../../actions/ServiceAction';\nconst typeList = [{\n  value: 'obligatoire',\n  name: /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"service.mandatory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 11\n    }\n  })\n}, {\n  value: 'optionnel',\n  name: /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"service.optional\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }\n  })\n}];\n\nclass Service extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      if (name == 'nameFrService') {\n        let nameError = false;\n        nameError = this.props.services.filter(element => element.name_fr_service === event.target.value.trim()).length > 0;\n        this.setState({\n          [name]: event.target.value,\n          nameError: nameError\n        });\n      } else {\n        this.setState({\n          [name]: event.target.value\n        });\n      }\n    };\n\n    this.handleChangeRadio = name => event => {\n      let item = this.state.frequency.filter(element => element.name_fr_frequency === event.target.value);\n      this.setState({\n        idFrequency: item[0].id,\n        frequencyVal: event.target.value\n      });\n\n      if (item[0].id === 1) {\n        this.setState({\n          minimumNights: 1\n        });\n      } else if (item[0].id === 2) {\n        this.setState({\n          minimumNights: 6\n        });\n      } else if (item[0].id === 3) {\n        this.setState({\n          minimumNights: 60\n        });\n      } else if (item[0].id === 4) {\n        this.setState({\n          minimumNights: 29\n        });\n      } else if (item[0].id === 5) {\n        this.setState({\n          minimumNights: 90\n        });\n      } else if (item[0].id === 6) {\n        this.setState({\n          minimumNights: 180\n        });\n      } else if (item[0].id === 7) {\n        this.setState({\n          minimumNights: 360\n        });\n      }\n    };\n\n    this.onOptionMenuSelect = event => {\n      this.setState({\n        menuState: true,\n        anchorEl: event.currentTarget,\n        itemId: event.currentTarget.value\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        menuState: false\n      });\n    };\n\n    this.state = {\n      open: false,\n      anchorEl: undefined,\n      menuState: false,\n      openEdit: false,\n      openDetails: false,\n      currency: [],\n      frequency: [],\n      services: [],\n      alerteFiltre: false,\n      messageAlerte: '',\n      mensuel: false,\n      trimestriel: false,\n      hebdomadaire: false,\n      annuel: false,\n      frequencyVal: '',\n      daily: false,\n      nameFrService: '',\n      typeService: '',\n      pathImgService: '',\n      idCurrency: 0,\n      vatService: '',\n      otherVatService: '',\n      comment: '',\n      priceService: '',\n      startDateService: '',\n      endDateService: '',\n      idFrequency: 0,\n      minimumNights: 1,\n      alerte: false,\n      nameError: false\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleRequestDelete = this.handleRequestDelete.bind(this);\n    this.handleDetails = this.handleDetails.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleCancelDetails = this.handleCancelDetails.bind(this);\n    this.handleEditDetails = this.handleEditDetails.bind(this);\n    this.handleDate = this.handleDate.bind(this);\n    this.handleCategory = this.handleCategory.bind(this);\n    this.handlePrice = this.handlePrice.bind(this);\n    this.handleChangeRadio = this.handleChangeRadio.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleIcon = this.handleIcon.bind(this);\n    this.setDate = this.setDate.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n  }\n\n  setDate(startDate, endDate) {\n    this.setState({\n      startDateService: startDate,\n      endDateService: endDate\n    });\n  }\n\n  handleIcon(nameIcon) {\n    this.setState({\n      pathImgService: nameIcon\n    });\n  }\n\n  openAddModal() {\n    this.setState(previousState => ({\n      open: !previousState.open\n    }));\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.state.pathImgService == '') {\n      this.setState({\n        alerte: true\n      });\n      setTimeout(() => {\n        this.setState({\n          alerte: false\n        });\n      }, 2000);\n    } else {\n      let dataPrestation = {\n        name_fr_service: this.state.nameFrService,\n        name_an_service: 'string',\n        name_ar_service: 'string',\n        comment: this.state.comment,\n        path_img_service: this.state.pathImgService,\n        price_service: parseInt(this.state.priceService),\n        vat_service: parseInt(this.state.vatService),\n        other_vat_service: this.state.otherVatService,\n        start_date_service: this.state.startDateService,\n        end_date_service: this.state.endDateService,\n        type_service: this.state.typeService,\n        status_service: true,\n        fk_id_establishment: this.props.userProfile.establishment_id,\n        fk_id_school_year: this.props.userProfile.school_year_id,\n        fk_id_frequency: this.state.idFrequency,\n        fk_id_currency: this.state.idCurrency\n      };\n      this.props.dispatch(addServiceV2(dataPrestation));\n      this.openAddModal();\n      this.setState({\n        vatService: '',\n        otherVatService: '',\n        comment: '',\n        nameFrService: '',\n        typeService: '',\n        idCurrency: 0,\n        priceService: '',\n        idFrequency: 0,\n        frequencyVal: ''\n      });\n    }\n  }\n\n  handleArchive(event) {\n    event.preventDefault();\n\n    if (this.state.pathImgService == '') {\n      this.setState({\n        alerte: true\n      });\n      setTimeout(() => {\n        this.setState({\n          alerte: false\n        });\n      }, 2000);\n    } else {\n      let dataPrestation = {\n        name_fr_service: this.state.nameFrService,\n        name_an_service: 'string',\n        name_ar_service: 'string',\n        comment: this.state.comment,\n        path_img_service: this.state.pathImgService,\n        price_service: parseInt(this.state.priceService),\n        vat_service: parseInt(this.state.vatService),\n        other_vat_service: this.state.otherVatService,\n        start_date_service: this.state.startDateService,\n        end_date_service: this.state.endDateService,\n        type_service: this.state.typeService,\n        status_service: false,\n        fk_id_establishment: this.props.userProfile.establishment_id,\n        fk_id_schol_year_v2: 3,\n        fk_id_frequency: this.state.idFrequency,\n        fk_id_currency: this.state.idCurrency\n      };\n      this.props.dispatch(addServiceV2(dataPrestation, this.props.userProfile.establishment_id));\n      this.openAddModal();\n      this.setState({\n        vatService: '',\n        otherVatService: '',\n        comment: '',\n        nameFrService: '',\n        typeService: '',\n        idCurrency: 0,\n        priceService: ''\n      });\n    }\n  }\n\n  handleEditDetails() {\n    this.setState({\n      open: false,\n      openDetails: false\n    });\n    this.setState({\n      menuState: false,\n      openEdit: true\n    });\n  }\n\n  handleCancelDetails() {\n    this.setState({\n      open: false,\n      openDetails: false\n    });\n  }\n\n  handleCancel() {\n    this.setState({\n      open: false,\n      openEdit: false\n    });\n  }\n\n  handleEdit() {\n    this.setState({\n      menuState: false,\n      openEdit: true\n    });\n  }\n\n  handleDetails() {\n    this.setState({\n      menuState: false,\n      openDetails: true\n    });\n  }\n\n  handleRequestDelete(e) {\n    e.preventDefault();\n    this.setState({\n      menuState: false\n    });\n  }\n\n  componentWillMount() {\n    this.setState({\n      services: this.props.services\n    });\n    this.props.dispatch(getServiceV2(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id));\n    let apiEndpoint = '';\n    apiEndpoint = `/currency_v2?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(res => {\n      if (res) {\n        this.setState({\n          currency: res.data\n        });\n      }\n    });\n    apiEndpoint = `/frequency_v2?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(res => {\n      if (res) {\n        this.setState({\n          frequency: res.data\n        });\n      }\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.services !== this.props.services) {\n      this.setState({\n        services: this.props.services\n      });\n    }\n\n    if (prevProps.userProfile.school_year_id !== this.props.userProfile.school_year_id) {\n      this.props.dispatch(getServiceV2(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id));\n    }\n  }\n\n  handlePrice() {\n    const sortedServices = this.state.services.sort((a, b) => b.price_service - a.price_service);\n    this.setState({\n      services: sortedServices,\n      alerteFiltre: true,\n      messageAlerte: 'les prestations les plus chères sont affichées en premier lieu'\n    });\n    setTimeout(() => {\n      this.setState({\n        alerteFiltre: false,\n        messageAlerte: ''\n      });\n    }, 3000);\n  }\n\n  handleCategory() {\n    const sortedServices = this.state.services.sort((a, b) => a.type_service > b.type_service ? 1 : b.type_service > a.type_service ? -1 : 0);\n    this.setState({\n      services: sortedServices,\n      alerteFiltre: true,\n      messageAlerte: 'les prestations obligatoirs sont affichées en premier lieu'\n    });\n    setTimeout(() => {\n      this.setState({\n        alerteFiltre: false,\n        messageAlerte: ''\n      });\n    }, 3000);\n  }\n\n  handleDate() {\n    let newListService = [];\n    this.state.services.forEach(element => {\n      let item = { ...element,\n        date: new Date(element.start_date_service)\n      };\n      newListService.push(item);\n    });\n    const sortedServices = newListService.slice().sort((a, b) => b.date - a.date);\n    this.setState({\n      services: sortedServices,\n      alerteFiltre: true,\n      messageAlerte: 'les prestations les plus récentes sont affichées en premier lieu'\n    });\n    setTimeout(() => {\n      this.setState({\n        alerteFiltre: false,\n        messageAlerte: ''\n      });\n    }, 3000);\n  }\n\n  render() {\n    let {\n      archives\n    } = this.props;\n    const {\n      anchorEl,\n      menuState,\n      services\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      style: {\n        marginLeft: '5%',\n        marginRight: '10%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"  d-flex flex-column mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight\",\n      style: {\n        marginLeft: '4%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"sidebar.components.service\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row bd-highlight mb-3\",\n      style: {\n        marginLeft: '4%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight pointer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      onClick: this.handleDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"service.filter.with.date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 13\n      }\n    }, \"|\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight pointer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      onClick: this.handleCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 15\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"service.filter.with.categorie\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 13\n      }\n    }, \"|\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 bd-highlight pointer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      onClick: this.handlePrice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"service.filter.with.Price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }\n    })))), this.props.successStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 15\n      }\n    }, \" \", this.props.message, \" \")) : '', this.state.alerteFiltre ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 15\n      }\n    }, \" \", this.state.messageAlerte, \" \")) : '', /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: '90%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 15\n      }\n    }, services.map(element => /*#__PURE__*/React.createElement(ServiceItem, {\n      services: services.concat(archives),\n      key: element.id,\n      item: element,\n      handleDetails: this.handleDetails,\n      handleEdit: this.handleEdit,\n      frequency: this.state.frequency,\n      currency: this.state.currency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 19\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: '90%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ArchiveService, {\n      services: services.concat(archives),\n      data: archives,\n      frequency: this.state.frequency,\n      currency: this.state.currency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: '90%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AddService, {\n      services: services.concat(archives),\n      typeList: typeList,\n      values: this.state,\n      openAddModal: this.openAddModal,\n      handleChangeRadio: this.handleChangeRadio,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      handleIcon: this.handleIcon,\n      setDate: this.setDate,\n      handleArchive: this.handleArchive,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.auth.userProfile,\n    services: state.service.servicesV2,\n    archives: state.service.archiveServices,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message\n  };\n};\n\nexport default connect(mapStateToProps)(Service);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/FinancialManagement/routes/Service/Service.js"],"names":["React","IntlMessages","CardBox","AddService","getServiceV2","connect","ServiceItem","classService","ArchiveService","UncontrolledAlert","addServiceV2","typeList","value","name","Service","Component","constructor","props","handleChange","event","nameError","services","filter","element","name_fr_service","target","trim","length","setState","handleChangeRadio","item","state","frequency","name_fr_frequency","idFrequency","id","frequencyVal","minimumNights","onOptionMenuSelect","menuState","anchorEl","currentTarget","itemId","handleRequestClose","open","undefined","openEdit","openDetails","currency","alerteFiltre","messageAlerte","mensuel","trimestriel","hebdomadaire","annuel","daily","nameFrService","typeService","pathImgService","idCurrency","vatService","otherVatService","comment","priceService","startDateService","endDateService","alerte","openAddModal","bind","handleCancel","handleEdit","handleRequestDelete","handleDetails","handleCancelDetails","handleEditDetails","handleDate","handleCategory","handlePrice","handleSubmit","handleIcon","setDate","handleArchive","startDate","endDate","nameIcon","previousState","preventDefault","setTimeout","dataPrestation","name_an_service","name_ar_service","path_img_service","price_service","parseInt","vat_service","other_vat_service","start_date_service","end_date_service","type_service","status_service","fk_id_establishment","userProfile","establishment_id","fk_id_school_year","school_year_id","fk_id_frequency","fk_id_currency","dispatch","fk_id_schol_year_v2","e","componentWillMount","apiEndpoint","localStorage","token","get","then","res","data","componentDidUpdate","prevProps","prevState","sortedServices","sort","a","b","newListService","forEach","date","Date","push","slice","render","archives","marginLeft","marginRight","successStatus","message","width","map","concat","mapStateToProps","auth","service","servicesV2","archiveServices","alert","success","errorStatus","error"],"mappings":"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","sourcesContent":["import React from 'react';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport CardBox from '../../../../../components/CardBox/index';\nimport AddService from './AddService';\nimport { getServiceV2 } from '../../../../../actions/ServiceAction';\nimport { connect } from 'react-redux';\nimport ServiceItem from './ServiceItem';\nimport { classService } from '../../../../../_services';\nimport ArchiveService from './ArchiveService';\nimport { UncontrolledAlert } from 'reactstrap';\nimport { addServiceV2 } from '../../../../../actions/ServiceAction';\n\nconst typeList = [\n  {\n    value: 'obligatoire',\n    name: <IntlMessages id=\"service.mandatory\" />,\n  },\n  {\n    value: 'optionnel',\n    name: <IntlMessages id=\"service.optional\" />,\n  },\n];\nclass Service extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: false,\n      anchorEl: undefined,\n      menuState: false,\n      openEdit: false,\n      openDetails: false,\n      currency: [],\n      frequency: [],\n      services: [],\n      alerteFiltre: false,\n      messageAlerte: '',\n\n      mensuel: false,\n      trimestriel: false,\n      hebdomadaire: false,\n      annuel: false,\n      frequencyVal: '',\n      daily: false,\n      nameFrService: '',\n      typeService: '',\n      pathImgService: '',\n      idCurrency: 0,\n      vatService: '',\n      otherVatService: '',\n      comment: '',\n      priceService: '',\n      startDateService: '',\n      endDateService: '',\n      idFrequency: 0,\n      minimumNights: 1,\n      alerte: false,\n      nameError: false,\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleRequestDelete = this.handleRequestDelete.bind(this);\n    this.handleDetails = this.handleDetails.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleCancelDetails = this.handleCancelDetails.bind(this);\n    this.handleEditDetails = this.handleEditDetails.bind(this);\n    this.handleDate = this.handleDate.bind(this);\n    this.handleCategory = this.handleCategory.bind(this);\n    this.handlePrice = this.handlePrice.bind(this);\n\n    this.handleChangeRadio = this.handleChangeRadio.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleIcon = this.handleIcon.bind(this);\n    this.setDate = this.setDate.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n  }\n\n  setDate(startDate, endDate) {\n    this.setState({ startDateService: startDate, endDateService: endDate });\n  }\n\n  handleIcon(nameIcon) {\n    this.setState({ pathImgService: nameIcon });\n  }\n  openAddModal() {\n    this.setState((previousState) => ({\n      open: !previousState.open,\n    }));\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.state.pathImgService == '') {\n      this.setState({ alerte: true });\n      setTimeout(() => {\n        this.setState({ alerte: false });\n      }, 2000);\n    } else {\n      let dataPrestation = {\n        name_fr_service: this.state.nameFrService,\n        name_an_service: 'string',\n        name_ar_service: 'string',\n        comment: this.state.comment,\n        path_img_service: this.state.pathImgService,\n        price_service: parseInt(this.state.priceService),\n        vat_service: parseInt(this.state.vatService),\n        other_vat_service: this.state.otherVatService,\n        start_date_service: this.state.startDateService,\n        end_date_service: this.state.endDateService,\n        type_service: this.state.typeService,\n        status_service: true,\n        fk_id_establishment: this.props.userProfile.establishment_id,\n        fk_id_school_year: this.props.userProfile.school_year_id,\n        fk_id_frequency: this.state.idFrequency,\n        fk_id_currency: this.state.idCurrency,\n      };\n      this.props.dispatch(addServiceV2(dataPrestation));\n      this.openAddModal();\n      this.setState({\n        vatService: '',\n        otherVatService: '',\n        comment: '',\n        nameFrService: '',\n        typeService: '',\n        idCurrency: 0,\n        priceService: '',\n        idFrequency: 0,\n        frequencyVal: '',\n      });\n    }\n  }\n\n  handleArchive(event) {\n    event.preventDefault();\n    if (this.state.pathImgService == '') {\n      this.setState({ alerte: true });\n      setTimeout(() => {\n        this.setState({ alerte: false });\n      }, 2000);\n    } else {\n      let dataPrestation = {\n        name_fr_service: this.state.nameFrService,\n        name_an_service: 'string',\n        name_ar_service: 'string',\n        comment: this.state.comment,\n        path_img_service: this.state.pathImgService,\n        price_service: parseInt(this.state.priceService),\n        vat_service: parseInt(this.state.vatService),\n        other_vat_service: this.state.otherVatService,\n        start_date_service: this.state.startDateService,\n        end_date_service: this.state.endDateService,\n        type_service: this.state.typeService,\n        status_service: false,\n        fk_id_establishment: this.props.userProfile.establishment_id,\n        fk_id_schol_year_v2: 3,\n        fk_id_frequency: this.state.idFrequency,\n        fk_id_currency: this.state.idCurrency,\n      };\n      this.props.dispatch(addServiceV2(dataPrestation, this.props.userProfile.establishment_id));\n      this.openAddModal();\n      this.setState({\n        vatService: '',\n        otherVatService: '',\n        comment: '',\n        nameFrService: '',\n        typeService: '',\n        idCurrency: 0,\n        priceService: '',\n      });\n    }\n  }\n\n  handleChange = (name) => (event) => {\n    if (name == 'nameFrService') {\n      let nameError = false;\n      nameError =\n        this.props.services.filter(\n          (element) => element.name_fr_service === event.target.value.trim()\n        ).length > 0;\n\n      this.setState({ [name]: event.target.value, nameError: nameError });\n    } else {\n      this.setState({ [name]: event.target.value });\n    }\n  };\n\n  handleChangeRadio = (name) => (event) => {\n    let item = this.state.frequency.filter(\n      (element) => element.name_fr_frequency === event.target.value\n    );\n    this.setState({\n      idFrequency: item[0].id,\n      frequencyVal: event.target.value,\n    });\n\n    if (item[0].id === 1) {\n      this.setState({\n        minimumNights: 1,\n      });\n    } else if (item[0].id === 2) {\n      this.setState({\n        minimumNights: 6,\n      });\n    } else if (item[0].id === 3) {\n      this.setState({\n        minimumNights: 60,\n      });\n    } else if (item[0].id === 4) {\n      this.setState({\n        minimumNights: 29,\n      });\n    } else if (item[0].id === 5) {\n      this.setState({\n        minimumNights: 90,\n      });\n    } else if (item[0].id === 6) {\n      this.setState({\n        minimumNights: 180,\n      });\n    } else if (item[0].id === 7) {\n      this.setState({\n        minimumNights: 360,\n      });\n    }\n  };\n\n  handleEditDetails() {\n    this.setState({ open: false, openDetails: false });\n    this.setState({ menuState: false, openEdit: true });\n  }\n  handleCancelDetails() {\n    this.setState({ open: false, openDetails: false });\n  }\n  handleCancel() {\n    this.setState({ open: false, openEdit: false });\n  }\n  onOptionMenuSelect = (event) => {\n    this.setState({\n      menuState: true,\n      anchorEl: event.currentTarget,\n      itemId: event.currentTarget.value,\n    });\n  };\n  handleRequestClose = () => {\n    this.setState({ menuState: false });\n  };\n  handleEdit() {\n    this.setState({ menuState: false, openEdit: true });\n  }\n  handleDetails() {\n    this.setState({ menuState: false, openDetails: true });\n  }\n  handleRequestDelete(e) {\n    e.preventDefault();\n    this.setState({ menuState: false });\n  }\n  componentWillMount() {\n    this.setState({ services: this.props.services });\n    this.props.dispatch(\n      getServiceV2(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id)\n    );\n    let apiEndpoint = '';\n\n    apiEndpoint = `/currency_v2?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then((res) => {\n      if (res) {\n        this.setState({ currency: res.data });\n      }\n    });\n\n    apiEndpoint = `/frequency_v2?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then((res) => {\n      if (res) {\n        this.setState({ frequency: res.data });\n      }\n    });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.services !== this.props.services) {\n      this.setState({ services: this.props.services });\n    }\n    if (prevProps.userProfile.school_year_id !== this.props.userProfile.school_year_id) {\n      this.props.dispatch(\n        getServiceV2(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id)\n      );\n    }\n  }\n\n  handlePrice() {\n    const sortedServices = this.state.services.sort((a, b) => b.price_service - a.price_service);\n\n    this.setState({\n      services: sortedServices,\n      alerteFiltre: true,\n      messageAlerte: 'les prestations les plus chères sont affichées en premier lieu',\n    });\n    setTimeout(() => {\n      this.setState({ alerteFiltre: false, messageAlerte: '' });\n    }, 3000);\n  }\n\n  handleCategory() {\n    const sortedServices = this.state.services.sort((a, b) =>\n      a.type_service > b.type_service ? 1 : b.type_service > a.type_service ? -1 : 0\n    );\n    this.setState({\n      services: sortedServices,\n      alerteFiltre: true,\n      messageAlerte: 'les prestations obligatoirs sont affichées en premier lieu',\n    });\n    setTimeout(() => {\n      this.setState({ alerteFiltre: false, messageAlerte: '' });\n    }, 3000);\n  }\n\n  handleDate() {\n    let newListService = [];\n    this.state.services.forEach((element) => {\n      let item = {\n        ...element,\n        date: new Date(element.start_date_service),\n      };\n      newListService.push(item);\n    });\n\n    const sortedServices = newListService.slice().sort((a, b) => b.date - a.date);\n    this.setState({\n      services: sortedServices,\n      alerteFiltre: true,\n      messageAlerte: 'les prestations les plus récentes sont affichées en premier lieu',\n    });\n    setTimeout(() => {\n      this.setState({ alerteFiltre: false, messageAlerte: '' });\n    }, 3000);\n  }\n\n  render() {\n    let { archives } = this.props;\n\n    const { anchorEl, menuState, services } = this.state;\n\n    return (\n      <div\n        className=\"app-wrapper\"\n        style={{\n          marginLeft: '5%',\n          marginRight: '10%',\n        }}\n      >\n        <div className=\"  d-flex flex-column mb-3\">\n          <div className=\"p-2 bd-highlight\" style={{ marginLeft: '4%' }}>\n            <h1>\n              <b>\n                <IntlMessages id=\"sidebar.components.service\" />\n              </b>\n            </h1>\n          </div>\n          <div className=\"d-flex flex-row bd-highlight mb-3\" style={{ marginLeft: '4%' }}>\n            <div className=\"p-2 bd-highlight pointer\">\n              <h5 onClick={this.handleDate}>\n                <IntlMessages id=\"service.filter.with.date\" />\n              </h5>\n            </div>\n            <div className=\"p-2 bd-highlight\">|</div>\n            <div className=\"p-2 bd-highlight pointer\">\n              <h5 onClick={this.handleCategory}>\n                {' '}\n                <IntlMessages id=\"service.filter.with.categorie\" />\n              </h5>\n            </div>\n            <div className=\"p-2 bd-highlight\">|</div>\n            <div className=\"p-2 bd-highlight pointer\">\n              <h5 onClick={this.handlePrice}>\n                <IntlMessages id=\"service.filter.with.Price\" />\n              </h5>\n            </div>\n          </div>\n          {this.props.successStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            ''\n          )}\n          {this.state.alerteFiltre ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.state.messageAlerte} </span>\n            </UncontrolledAlert>\n          ) : (\n            ''\n          )}\n          <div className=\" bd-highlight\" style={{ width: '90%' }}>\n            <CardBox styleName=\"col-lg-12\">\n              <div className=\"row\">\n                {services.map((element) => (\n                  <ServiceItem\n                    services={services.concat(archives)}\n                    key={element.id}\n                    item={element}\n                    handleDetails={this.handleDetails}\n                    handleEdit={this.handleEdit}\n                    frequency={this.state.frequency}\n                    currency={this.state.currency}\n                  />\n                ))}\n              </div>\n            </CardBox>\n          </div>\n        </div>\n        <div className=\" bd-highlight\" style={{ width: '90%' }}>\n          <CardBox styleName=\"col-lg-12\">\n            <ArchiveService\n              services={services.concat(archives)}\n              data={archives}\n              frequency={this.state.frequency}\n              currency={this.state.currency}\n            ></ArchiveService>\n          </CardBox>\n        </div>\n\n        <div className=\" bd-highlight\" style={{ width: '90%' }}>\n          <CardBox styleName=\"col-lg-12\">\n            <AddService\n              services={services.concat(archives)}\n              typeList={typeList}\n              values={this.state}\n              openAddModal={this.openAddModal}\n              handleChangeRadio={this.handleChangeRadio}\n              handleChange={this.handleChange}\n              handleSubmit={this.handleSubmit}\n              handleIcon={this.handleIcon}\n              setDate={this.setDate}\n              handleArchive={this.handleArchive}\n            />\n          </CardBox>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    userProfile: state.auth.userProfile,\n    services: state.service.servicesV2,\n    archives: state.service.archiveServices,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n  };\n};\n\nexport default connect(mapStateToProps)(Service);\n"]},"metadata":{},"sourceType":"module"}