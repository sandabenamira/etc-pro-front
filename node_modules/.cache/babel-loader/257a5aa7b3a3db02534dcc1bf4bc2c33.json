{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Cafeteria/CafeteriaMenuItem.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport SwipeableViews from 'react-swipeable-views';\nimport IntlMessages from '../../../util/IntlMessages';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport AppBar from '@material-ui/core/AppBar';\nimport { Card, CardBody, CardFooter, CardSubtitle, CardText } from 'reactstrap';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport _ from 'lodash';\nimport { deleteMenus } from '../../../actions/CafeteriaAction';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport DeleteMenu from './DeleteCafeteriaMenu';\nimport { RoleContext } from \"../../../Context\";\nimport Can from \"../../../can\";\n\nfunction TabContainer({\n  children,\n  dir\n}) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    dir: dir,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 10\n    }\n  }, children);\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n  dir: PropTypes.string.isRequired\n};\n\nclass CafeteriaMenuItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDeleteMenu = () => {\n      this.props.deleteMenus(this.props.MenuItem.id);\n      this.setState({\n        deleteIsopen: false\n      });\n    };\n\n    this.handleShowDeleteModal = () => {\n      this.setState({\n        deleteIsopen: true\n      });\n    };\n\n    this.handleChange = (event, value) => {\n      this.setState({\n        value\n      });\n    };\n\n    this.handleChangeIndex = index => {\n      this.setState({\n        value: index\n      });\n    };\n\n    this.state = {\n      value: 0,\n      deleteIsopen: false\n    };\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteMenu = this.handleDeleteMenu.bind(this);\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n  }\n\n  cancelModal() {\n    this.setState({\n      deleteIsopen: false\n    });\n  }\n\n  render() {\n    const {\n      theme\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"shadow border-0 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"cafeteria-menu-admin:visit\",\n      yes: () => /*#__PURE__*/React.createElement(AppBar, {\n        className: \"bg-primary card-header\",\n        position: \"static\",\n        style: {\n          paddingTop: 22,\n          height: 70\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Tabs, {\n        value: this.state.value,\n        onChange: this.handleChange,\n        variant: \"fullWidth\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Tab, {\n        className: \"tab\",\n        label: \"Menu\",\n        value: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Tab, {\n        className: \"tab\",\n        label: \"Options\",\n        value: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 23\n        }\n      }), \"/> */}\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"cafeteria-menu-student:visit\",\n      yes: () => /*#__PURE__*/React.createElement(AppBar, {\n        className: \"bg-primary card-header\",\n        position: \"static\",\n        style: {\n          paddingTop: 22,\n          height: 70\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Tabs, {\n        value: this.state.value,\n        onChange: this.handleChange,\n        variant: \"fullWidth\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Tab, {\n        className: \"tab\",\n        label: \"Menu\",\n        value: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 23\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(SwipeableViews, {\n      axis: theme.direction === 'rtl' ? 'x-reverse' : 'x',\n      index: this.state.value,\n      onChangeIndex: this.handleChangeIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TabContainer, {\n      dir: theme.direction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"new.cantine.entree\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(CardText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, this.props.MenuItem.entree), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"new.cantine.suite\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(CardText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, this.props.MenuItem.suite), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"new.cantine.dessert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(CardText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, this.props.MenuItem.dessert))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-end w-100 \",\n      style: {\n        paddingTop: '15%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CardFooter, {\n      className: \"d-flex flex-row justify-content-around w-100 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, moment(this.props.MenuItem.menu_date).format('LL')), /*#__PURE__*/React.createElement(\"b\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"cantine.prix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }), \" :\", this.props.MenuItem.prix, ' ', \"dt\")))), /*#__PURE__*/React.createElement(TabContainer, {\n      dir: theme.direction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CardSubtitle, {\n      className: \"d-flex flex-column justify-content-around\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      style: {\n        color: '#fff',\n        marginTop: '3%'\n      },\n      startIcon: /*#__PURE__*/React.createElement(CloudUploadIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 32\n        }\n      }),\n      onClick: e => {\n        this.props.editMenuShowModal(this.props.MenuItem);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"button.modify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      style: {\n        backgroundColor: '#FF4500',\n        color: '#fff',\n        marginTop: '3%'\n      },\n      startIcon: /*#__PURE__*/React.createElement(DeleteIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 32\n        }\n      }),\n      onClick: this.handleShowDeleteModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"button.delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-end w-100 \",\n      style: {\n        paddingTop: '37%',\n        marginRight: '0%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardFooter, {\n      className: \"d-flex flex-row justify-content-around w-100 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, moment(this.props.MenuItem.menu_date).format('LL')), /*#__PURE__*/React.createElement(\"b\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"cantine.prix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 46\n      }\n    }), \": \", this.props.MenuItem.prix, ' ', \"dt \"))))), this.state.deleteIsopen === true ? /*#__PURE__*/React.createElement(DeleteMenu, {\n      deleteIsopen: this.state.deleteIsopen,\n      handleDeleteMenu: this.handleDeleteMenu,\n      cancelModal: this.cancelModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }) : '');\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    settings: state.settings.locale\n  };\n}\n\nexport default connect(mapStateToProps, {\n  deleteMenus\n})(withStyles(null, {\n  withTheme: true\n})(CafeteriaMenuItem));","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Cafeteria/CafeteriaMenuItem.js"],"names":["React","Component","PropTypes","withStyles","SwipeableViews","IntlMessages","Tabs","Tab","AppBar","Card","CardBody","CardFooter","CardSubtitle","CardText","Button","DeleteIcon","CloudUploadIcon","_","deleteMenus","connect","moment","DeleteMenu","RoleContext","Can","TabContainer","children","dir","propTypes","node","isRequired","string","CafeteriaMenuItem","constructor","props","handleDeleteMenu","MenuItem","id","setState","deleteIsopen","handleShowDeleteModal","handleChange","event","value","handleChangeIndex","index","state","cancelModal","bind","render","theme","role","paddingTop","height","direction","color","entree","suite","dessert","menu_date","format","prix","marginTop","e","editMenuShowModal","backgroundColor","marginRight","mapStateToProps","userProfile","auth","successStatus","alert","success","errorStatus","error","message","settings","locale","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport SwipeableViews from 'react-swipeable-views';\nimport IntlMessages from '../../../util/IntlMessages';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport AppBar from '@material-ui/core/AppBar';\nimport { Card, CardBody, CardFooter, CardSubtitle, CardText } from 'reactstrap';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport _ from 'lodash';\nimport { deleteMenus } from '../../../actions/CafeteriaAction';\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport DeleteMenu from './DeleteCafeteriaMenu';\nimport { RoleContext } from \"../../../Context\";\nimport Can from \"../../../can\";\n\n\nfunction TabContainer({ children, dir }) {\n  return <div dir={dir}>{children}</div>;\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n  dir: PropTypes.string.isRequired,\n};\n\nclass CafeteriaMenuItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: 0,\n      deleteIsopen: false,\n    };\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteMenu = this.handleDeleteMenu.bind(this);\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n  }\n\n  handleDeleteMenu = () => {\n    this.props.deleteMenus(this.props.MenuItem.id);\n    this.setState({ deleteIsopen: false });\n  };\n  cancelModal() {\n    this.setState({ deleteIsopen: false });\n  }\n\n  handleShowDeleteModal = () => {\n    this.setState({ deleteIsopen: true });\n  };\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  handleChangeIndex = (index) => {\n    this.setState({ value: index });\n  };\n\n  render() {\n    const { theme } = this.props;\n\n    return (\n      <Card className=\"shadow border-0 \">\n        <RoleContext.Consumer>\n          {({ role }) => (\n            <div>\n              <Can\n                role={role}\n                perform=\"cafeteria-menu-admin:visit\"\n                yes={() => (\n\n                  <AppBar\n                    className=\"bg-primary card-header\"\n                    position=\"static\"\n                    style={{ paddingTop: 22, height: 70 }}\n                  >\n                    <Tabs\n                      value={this.state.value}\n                      onChange={this.handleChange}\n                      variant=\"fullWidth\"\n                    >\n                      <Tab className=\"tab\" label=\"Menu\" value={0} />\n                      <Tab className=\"tab\" label=\"Options\" value={1} />\n\n                      /> */}\n                    </Tabs>\n                  </AppBar>\n                )}\n              />\n            </div>\n          )}\n        </RoleContext.Consumer>\n        <RoleContext.Consumer>\n          {({ role }) => (\n            <div>\n              <Can\n                role={role}\n                perform=\"cafeteria-menu-student:visit\"\n                yes={() => (\n\n                  <AppBar\n                    className=\"bg-primary card-header\"\n                    position=\"static\"\n                    style={{ paddingTop: 22, height: 70 }}\n                  >\n                    <Tabs\n                      value={this.state.value}\n                      onChange={this.handleChange}\n                      variant=\"fullWidth\"\n                    >\n                      <Tab className=\"tab\" label=\"Menu\" value={0} />\n\n                    </Tabs>\n                  </AppBar>\n                )}\n              />\n            </div>\n          )}\n        </RoleContext.Consumer>\n        <SwipeableViews\n          axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n          index={this.state.value}\n          onChangeIndex={this.handleChangeIndex}\n        >\n          <TabContainer dir={theme.direction}>\n            <div>\n              <CardBody>\n                <h3 className=\"card-title\">\n                  <b style={{ color: 'blue' }}>\n                    <IntlMessages id=\"new.cantine.entree\" />\n                  </b>\n                </h3>\n                <CardText>{this.props.MenuItem.entree}</CardText>\n\n                <h3 className=\"card-title\">\n                  <b style={{ color: 'blue' }}>\n                    <IntlMessages id=\"new.cantine.suite\" />\n                  </b>\n                </h3>\n                <CardText>{this.props.MenuItem.suite}</CardText>\n                <h3 className=\"card-title\">\n                  <b style={{ color: 'blue' }}>\n                    <IntlMessages id=\"new.cantine.dessert\" />\n                  </b>\n                </h3>\n                <CardText>{this.props.MenuItem.dessert}</CardText>\n              </CardBody>\n              </div>\n              <div\n                className=\"d-flex align-items-end w-100 \"\n                style={{ paddingTop: '15%' }}\n              >\n              <CardFooter className=\"d-flex flex-row justify-content-around w-100 \">\n                <b style={{ color: 'blue' }}>\n                  {moment(this.props.MenuItem.menu_date).format('LL')}\n                </b>\n                <b style={{ color: 'red' }}>\n                  <IntlMessages id=\"cantine.prix\" /> :{this.props.MenuItem.prix}{' '}\n                  dt\n                </b>\n              </CardFooter>\n            </div>\n          </TabContainer>\n\n          <TabContainer dir={theme.direction}>\n            <div className=\"d-flex align-items-center  \">\n              <CardBody>\n                <CardSubtitle className=\"d-flex flex-column justify-content-around\">\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{ color: '#fff', marginTop: '3%' }}\n                    startIcon={<CloudUploadIcon />}\n                    onClick={(e) => {\n                      this.props.editMenuShowModal(this.props.MenuItem);\n                    }}\n                  >\n                    <IntlMessages id=\"button.modify\" />\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    style={{\n                      backgroundColor: '#FF4500',\n                      color: '#fff',\n                      marginTop: '3%',\n                    }}\n                    startIcon={<DeleteIcon />}\n                    onClick={this.handleShowDeleteModal}\n                  >\n                    <IntlMessages id=\"button.delete\" />\n                  </Button>\n                </CardSubtitle>\n              </CardBody>\n            </div>\n            <div\n              className=\"d-flex align-items-end w-100 \"\n              style={{ paddingTop: '37%', marginRight: '0%' }}\n            >\n              <CardFooter className=\"d-flex flex-row justify-content-around w-100 \">\n                <b style={{ color: 'blue' }}>\n                  {moment(this.props.MenuItem.menu_date).format('LL')}\n                </b>\n                <b style={{ color: 'red' }}> <IntlMessages id=\"cantine.prix\" />: {this.props.MenuItem.prix}{' '}\n                  dt </b>\n              </CardFooter>\n            </div>\n          </TabContainer>\n        </SwipeableViews>\n\n        {this.state.deleteIsopen === true ? (\n          <DeleteMenu\n            deleteIsopen={this.state.deleteIsopen}\n            handleDeleteMenu={this.handleDeleteMenu}\n            cancelModal={this.cancelModal}\n          />\n        ) : (\n            ''\n          )}\n      </Card>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    settings: state.settings.locale,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { deleteMenus }\n)(withStyles(null, { withTheme: true })(CafeteriaMenuItem));\n"]},"metadata":{},"sourceType":"module"}