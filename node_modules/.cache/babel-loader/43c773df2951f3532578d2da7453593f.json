{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/Room/EditRoom.js\";\nimport React from \"react\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Auxiliary from \"../../../../../util/Auxiliary\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nconst roleIdSuperAdmin = 1;\n\nconst Error = ({\n  test\n}) => {\n  if (test < 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-message invalid\",\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"room.numberError\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-message invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 10\n    }\n  }, \"\\xA0\");\n};\n\nclass EditRoom extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      if (name == \"name\") {\n        let nameError = false;\n\n        if (this.props.room.name === event.target.value.trim()) {\n          nameError = false;\n        } else {\n          nameError = this.props.rooms.filter(element => element.name === event.target.value.trim()).length > 0;\n        }\n\n        this.setState({\n          [name]: event.target.value,\n          nameError: nameError\n        });\n      } else {\n        this.setState({\n          [name]: event.target.value\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const data = {\n        name: this.state.name,\n        max_number: this.state.max_number,\n        description: this.state.description,\n        establishment_id: this.state.establishment_id,\n        status: this.state.status,\n        id: this.state.id\n      };\n      this.props.handleSubmit(data);\n      this.setState({\n        previewVisible: false\n      });\n    };\n\n    this.state = {\n      previewVisible: true,\n      name: \"\",\n      description: \"\",\n      establishment_id: 0,\n      max_number: \"\",\n      status: \"\",\n      id: 0,\n      nameError: false\n    };\n    this.handleAnnule = this.handleAnnule.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: this.props.room.name,\n      description: this.props.room.description,\n      max_number: this.props.room.max_number,\n      establishment_id: this.props.room.establishment_id,\n      status: this.props.room.status,\n      id: this.props.room.id\n    });\n  }\n\n  handleAnnule() {\n    this.props.cancelModal();\n  }\n\n  handleToggle() {\n    this.props.cancelModal();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Auxiliary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.previewVisible,\n      toggle: this.handleToggle.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      className: \"modal-box-header bg-primary text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"modal.modif.room\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 14\n      }\n    })), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"row\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, this.props.userProfile.role_id === roleIdSuperAdmin ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      id: \"establishment\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.student.formadd.establishment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 23\n        }\n      }),\n      value: this.state.establishment_id,\n      onChange: this.handleChange(\"establishment_id\"),\n      SelectProps: {},\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, this.props.ListEstablishment.map(establishment => /*#__PURE__*/React.createElement(MenuItem, {\n      key: establishment.id,\n      value: establishment.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 23\n      }\n    }, establishment.name)))) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"name\",\n      id: \"name\",\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"room.name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 26\n        }\n      }),\n      onChange: this.handleChange(\"name\"),\n      value: this.state.name,\n      margin: \"normal\",\n      fullWidth: true,\n      error: this.state.nameError,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormHelperText, {\n      error: this.state.nameError,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, this.state.nameError ? /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"room.nameError\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"max_number\",\n      id: \"max_number\",\n      type: \"number\",\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"room.max_number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 26\n        }\n      }),\n      error: this.state.max_number < 0,\n      inputProps: {\n        min: 0\n      },\n      onChange: this.handleChange(\"max_number\"),\n      value: this.state.max_number,\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Error, {\n      test: this.state.max_number,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"description\",\n      id: \"description\",\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"room.description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 26\n        }\n      }),\n      onChange: this.handleChange(\"description\"),\n      value: this.state.description,\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"font\", {\n      color: \"red\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 19\n      }\n    }, \"*\"), \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"component.required_fields\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 20\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 text-left \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      disabled: this.state.nameError,\n      variant: \"contained\",\n      className: \"jr-btn bg-indigo text-white \",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formModify.buttonModify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"jr-btn bg-grey text-white \",\n      onClick: this.handleAnnule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.buttonCancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    })))))));\n  }\n\n}\n\nexport default EditRoom;","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/Room/EditRoom.js"],"names":["React","Modal","ModalBody","ModalHeader","IntlMessages","TextField","Button","Auxiliary","MenuItem","FormHelperText","roleIdSuperAdmin","Error","test","color","EditRoom","Component","constructor","props","handleChange","name","event","nameError","room","target","value","trim","rooms","filter","element","length","setState","handleSubmit","e","preventDefault","data","state","max_number","description","establishment_id","status","id","previewVisible","handleAnnule","bind","componentDidMount","cancelModal","handleToggle","render","userProfile","role_id","ListEstablishment","map","establishment","min"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Auxiliary from \"../../../../../util/Auxiliary\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nconst roleIdSuperAdmin = 1;\nconst Error = ({ test }) => {\n  if (test < 0) {\n    return (\n      <div className=\"form-message invalid\" style={{ color: \"red\" }}>\n        <IntlMessages id=\"room.numberError\" />\n      </div>\n    );\n  }\n  return <div className=\"form-message invalid\">&nbsp;</div>;\n};\nclass EditRoom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      previewVisible: true,\n      name: \"\",\n      description: \"\",\n      establishment_id: 0,\n      max_number: \"\",\n      status: \"\",\n      id: 0,\n      nameError: false,\n    };\n    this.handleAnnule = this.handleAnnule.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  componentDidMount() {\n    this.setState({\n      name: this.props.room.name,\n      description: this.props.room.description,\n      max_number: this.props.room.max_number,\n      establishment_id: this.props.room.establishment_id,\n      status: this.props.room.status,\n      id: this.props.room.id,\n    });\n  }\n\n  handleAnnule() {\n    this.props.cancelModal();\n  }\n  handleChange = (name) => (event) => {\n    if (name == \"name\") {\n      let nameError = false;\n\n      if (this.props.room.name === event.target.value.trim()) {\n        nameError = false;\n      } else {\n        nameError =\n          this.props.rooms.filter(\n            (element) => element.name === event.target.value.trim()\n          ).length > 0;\n      }\n\n      this.setState({ [name]: event.target.value, nameError: nameError });\n    } else {\n      this.setState({ [name]: event.target.value });\n    }\n  };\n  handleToggle() {\n    this.props.cancelModal();\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const data = {\n      name: this.state.name,\n      max_number: this.state.max_number,\n      description: this.state.description,\n      establishment_id: this.state.establishment_id,\n      status: this.state.status,\n      id: this.state.id,\n    };\n    this.props.handleSubmit(data);\n    this.setState({ previewVisible: false });\n  };\n  render() {\n    return (\n      <Auxiliary>\n        <Modal\n          isOpen={this.state.previewVisible}\n          toggle={this.handleToggle.bind(this)}\n        >\n          <ModalHeader className=\"modal-box-header bg-primary text-white\">\n            {<IntlMessages id=\"modal.modif.room\" />}\n          </ModalHeader>\n          <ModalBody>\n            <form className=\"row\" onSubmit={this.handleSubmit}>\n              {this.props.userProfile.role_id === roleIdSuperAdmin ? (\n                <div className=\"col-sm-6\">\n                  <TextField\n                    required\n                    id=\"establishment\"\n                    select\n                    label={\n                      <IntlMessages id=\"components.student.formadd.establishment\" />\n                    }\n                    value={this.state.establishment_id}\n                    onChange={this.handleChange(\"establishment_id\")}\n                    SelectProps={{}}\n                    margin=\"normal\"\n                    fullWidth\n                  >\n                    {this.props.ListEstablishment.map((establishment) => (\n                      <MenuItem key={establishment.id} value={establishment.id}>\n                        {establishment.name}\n                      </MenuItem>\n                    ))}\n                  </TextField>\n                </div>\n              ) : (\n                \"\"\n              )}\n              <div className=\"col-sm-6\">\n                <TextField\n                  required\n                  name=\"name\"\n                  id=\"name\"\n                  label={<IntlMessages id=\"room.name\" />}\n                  onChange={this.handleChange(\"name\")}\n                  value={this.state.name}\n                  margin=\"normal\"\n                  fullWidth\n                  error={this.state.nameError}\n                />\n                <FormHelperText error={this.state.nameError}>\n                  {this.state.nameError ? (\n                    <IntlMessages id=\"room.nameError\" />\n                  ) : (\n                    \"\"\n                  )}\n                </FormHelperText>\n              </div>\n              <div className=\"col-sm-6\">\n                <TextField\n                  required\n                  name=\"max_number\"\n                  id=\"max_number\"\n                  type=\"number\"\n                  label={<IntlMessages id=\"room.max_number\" />}\n                  error={this.state.max_number < 0}\n                  inputProps={{ min: 0 }}\n                  onChange={this.handleChange(\"max_number\")}\n                  value={this.state.max_number}\n                  margin=\"normal\"\n                  fullWidth\n                />\n                <Error test={this.state.max_number} />\n              </div>\n              <div className=\"col-sm-6\">\n                <TextField\n                  name=\"description\"\n                  id=\"description\"\n                  label={<IntlMessages id=\"room.description\" />}\n                  onChange={this.handleChange(\"description\")}\n                  value={this.state.description}\n                  margin=\"normal\"\n                  fullWidth\n                />\n              </div>\n\n              <br />\n              <br />\n              <br />\n              <br />\n              <br />\n              <div className=\"col-sm-12\">\n                <h4>\n                  <font color=\"red\">*</font>{\" \"}\n                  {<IntlMessages id=\"component.required_fields\" />}\n                </h4>\n              </div>\n              <div className=\"col-md-12 text-left \">\n                <br />\n                <br />\n                <Button\n                  disabled={this.state.nameError}\n                  variant=\"contained\"\n                  className=\"jr-btn bg-indigo text-white \"\n                  type=\"submit\"\n                >\n                  {\n                    <IntlMessages id=\"components.establishments.formModify.buttonModify\" />\n                  }\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  className=\"jr-btn bg-grey text-white \"\n                  onClick={this.handleAnnule}\n                >\n                  {\n                    <IntlMessages id=\"components.establishments.formadd.buttonCancel\" />\n                  }\n                </Button>\n              </div>\n            </form>\n          </ModalBody>\n        </Modal>\n      </Auxiliary>\n    );\n  }\n}\nexport default EditRoom;\n"]},"metadata":{},"sourceType":"module"}