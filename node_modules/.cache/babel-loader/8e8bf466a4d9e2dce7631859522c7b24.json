{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/FinancialManagement/routes/Billing/Billing.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { generateBillForEstablishment, getInvoicesByEstablishmentId } from \"../../../../../actions/BillAction\";\nimport BillIconWithTextCard from \"./BillIconWithTextCard\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport Button from \"@material-ui/core/Button\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { getLevelByEstablishmentId } from \"../../../../../actions/classLevelAction\";\nimport { getClassesByEstablishmentId } from \"../../../../../actions/classeAction\";\nimport { classService } from \"../../../../../_services/class.service\";\nimport { getSchoolYearEtabs } from \"../../../../../actions/SchoolYearEtabAction\";\nimport ListInvoices from \"./ListInvoices\";\nimport _ from \"lodash\";\nimport { UncontrolledAlert } from 'reactstrap';\nconst idHighSchool = 2;\n\nclass Billing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      if (this.state.classLevelId == \"\" && this.state.classeId == \"\") {\n        let listBills = this.props.billReducer.filter(element => _.head(element.service_v2).fk_id_schol_year_v2 === event.target.value);\n        this.setState({\n          listBills,\n          [name]: event.target.value\n        });\n      } else if (this.state.classLevelId !== \"\" && this.state.classeId == \"\") {\n        let listBills = this.props.billReducer.filter(element => _.head(element.service_v2).fk_id_schol_year_v2 === event.target.value && element.student.level_id === this.state.classLevelId);\n        this.setState({\n          listBills,\n          [name]: event.target.value\n        });\n      } else if (this.state.classLevelId == \"\" && this.state.classeId !== \"\") {\n        let listBills = this.props.billReducer.filter(element => _.head(element.service_v2).fk_id_schol_year_v2 === event.target.value && element.student.class_id === this.state.classeId);\n        this.setState({\n          listBills,\n          [name]: event.target.value\n        });\n      } else {\n        let listBills = this.props.billReducer.filter(element => _.head(element.service_v2).fk_id_schol_year_v2 === event.target.value && element.student.class_id === this.state.classeId && element.student.level_id === this.state.classLevelId);\n        this.setState({\n          listBills,\n          [name]: event.target.value\n        });\n      }\n    };\n\n    this.handleChangeLevel = name => event => {\n      let classesListFiltred = this.props.classes.filter(element => element.level_id === event.target.value);\n      let listBills = this.props.billReducer.filter(element => element.student.level_id === event.target.value);\n      this.setState({\n        classesList: classesListFiltred,\n        listBills,\n        [name]: event.target.value\n      });\n      let apiEndpoint = `/section_by_levels?access_token=${localStorage.token}&filter[where][level_id]=${event.target.value}`;\n      classService.get(apiEndpoint).then(response => {\n        this.setState({\n          sections: response.data\n        });\n      });\n    };\n\n    this.handleChangeClass = name => event => {\n      if (_.isEmpty(this.state.classLevelId)) {\n        let listBills = this.props.billReducer.filter(element => element.student.class_id === event.target.value);\n        this.setState({\n          listBills,\n          [name]: event.target.value\n        });\n      } else {\n        let listBills = this.state.listBills.filter(element => element.student.class_id === event.target.value);\n        this.setState({\n          listBills,\n          [name]: event.target.value\n        });\n      }\n    };\n\n    this.handleChangeSection = name => event => {// let allocationServerFiltred = this.props.allocationService.filter(\n      //   (element) => element.Class.section_id === event.target.value\n      // );\n      // this.setState({\n      //   [name]: event.target.value,\n      //   allocationServicesList: allocationServerFiltred,\n      // });\n    };\n\n    this.changeMonth = monthId => event => {\n      if (this.state.month == monthId) {\n        this.setState({\n          month: \"\"\n        });\n      } else {\n        this.setState({\n          month: monthId\n        });\n      }\n    };\n\n    this.state = {\n      classesList: [],\n      sections: [],\n      classLevelId: \"\",\n      classeId: \"\",\n      schoolYearsId: \"\",\n      month: \"\",\n      listBills: []\n    };\n    this.generateBill = this.generateBill.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeLevel = this.handleChangeLevel.bind(this);\n    this.changeMonth = this.changeMonth.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangeSection = this.handleChangeSection.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(getLevelByEstablishmentId(this.props.userProfile.establishment_id));\n    this.props.dispatch(getClassesByEstablishmentId(this.props.userProfile.establishment_id));\n    this.props.dispatch(getSchoolYearEtabs());\n    this.props.dispatch(getInvoicesByEstablishmentId(this.props.userProfile.establishment_id));\n\n    if (this.state.month !== \"\" && this.props.billReducer.length > 0) {\n      let listBills = this.props.billReducer.filter(element => element.bill.month == this.state.month);\n      this.setState({\n        listBills\n      });\n    } else {\n      let listBills = this.props.billReducer;\n      this.setState({\n        listBills\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.classes !== this.props.classes) {\n      this.setState({\n        classesList: this.props.classes\n      });\n    }\n\n    if (prevProps.billReducer !== this.props.billReducer || prevState.month !== this.state.month) {\n      if (this.state.month !== \"\" && this.props.billReducer.length > 0) {\n        let listBills = this.props.billReducer.filter(element => element.bill.month == this.state.month);\n        this.setState({\n          listBills\n        });\n      } else {\n        let listBills = this.props.billReducer;\n        this.setState({\n          listBills\n        });\n      }\n    }\n  }\n\n  generateBill(event) {\n    event.preventDefault();\n    this.props.dispatch(generateBillForEstablishment(this.props.userProfile.establishment_id));\n  }\n\n  render() {\n    let {\n      classLevels,\n      classes,\n      schoolYears\n    } = this.props;\n    let {\n      classesList,\n      listBills,\n      sections\n    } = this.state;\n    let detailCards = [{\n      cardColor: \"primary\",\n      imageIcon: require(\"../ServiceAllocation/Icone/project-icon.png\"),\n      title: listBills.length,\n      subTitle: \"TOTAL\"\n    }, {\n      cardColor: \"secondary\",\n      imageIcon: require(\"../ServiceAllocation/Icone/tasks-icon.png\"),\n      title: \"100\",\n      subTitle: \"PAYﾃ右\"\n    }, {\n      cardColor: \"info\",\n      imageIcon: require(\"../ServiceAllocation/Icone/teams-icon.png\"),\n      title: \"120\",\n      subTitle: \"NON PAYﾃ右\"\n    }, {\n      cardColor: \"warning\",\n      imageIcon: require(\"../ServiceAllocation/Icone/files-icon.png\"),\n      title: \"09\",\n      subTitle: \"EN RETARD\"\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard animated slideInUpTiny animation-duration-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }\n    }, detailCards.map((data, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(BillIconWithTextCard, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jr-btn-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      id: \"1\",\n      variant: \"contained\",\n      className: this.state.month == \"1\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"1\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, \"Janvier\", \" \"), /*#__PURE__*/React.createElement(Button, {\n      id: \"2\",\n      variant: \"contained\",\n      className: this.state.month == \"2\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"2\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }\n    }, \"F\\xE9vrier\", \"   \"), /*#__PURE__*/React.createElement(Button, {\n      id: \"3\",\n      variant: \"contained\",\n      className: this.state.month == \"3\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      onClick: this.changeMonth(\"3\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, \"Mars \", \"   \"), /*#__PURE__*/React.createElement(Button, {\n      id: \"4\",\n      variant: \"contained\",\n      className: this.state.month == \"4\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"4\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, \"Avril \", \"  \"), /*#__PURE__*/React.createElement(Button, {\n      id: \"5\",\n      variant: \"contained\",\n      className: this.state.month == \"5\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"5\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }\n    }, \"Mai \", \"  \"), /*#__PURE__*/React.createElement(Button, {\n      id: \"6\",\n      variant: \"contained\",\n      className: this.state.month == \"6\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"6\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }, \"Juin \", \"   \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jr-btn-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      id: \"7\",\n      variant: \"contained\",\n      className: this.state.month == \"7\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"7\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, \"Juillet \", \"   \"), /*#__PURE__*/React.createElement(Button, {\n      id: \"8\",\n      variant: \"contained\",\n      className: this.state.month == \"8\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"8\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }\n    }, \"Ao\\xFBt\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"9\",\n      variant: \"contained\",\n      className: this.state.month == \"9\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"9\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }, \"Septembre\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"10\",\n      variant: \"contained\",\n      className: this.state.month == \"10\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"10\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }, \"Octobre\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"11\",\n      variant: \"contained\",\n      className: this.state.month == \"11\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"11\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }, \"Novembre\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"12\",\n      variant: \"contained\",\n      className: this.state.month == \"12\" ? \"jr-btn bg-blue-grey text-white\" : \"jr-btn bg-white\",\n      onClick: this.changeMonth(\"12\"),\n      style: {\n        marginRight: \"7%\",\n        width: \"8%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }\n    }, \"D\\xE9cembre\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row col-lg-12 col-md-12\",\n      style: {\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"classLevelId\",\n      name: \"classLevelId\",\n      select: true,\n      value: this.state.classLevelId,\n      onChange: this.handleChangeLevel(\"classLevelId\"),\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `components.note.niveau`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 24\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 15\n      }\n    }, classLevels.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.id,\n      value: option.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 19\n      }\n    }, option.name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"classeId\",\n      name: \"classeId\",\n      select: true,\n      value: this.state.classeId,\n      onChange: this.handleChangeClass(\"classeId\"),\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `components.note.class`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 24\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 15\n      }\n    }, classesList.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.id,\n      value: option.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 19\n      }\n    }, option.name)))), this.state.sectionStatus && this.props.classLevels[0].estab_type_id !== idHighSchool ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"idSection\",\n      name: \"idSection\",\n      select: true,\n      value: this.state.idSection,\n      onChange: this.handleChangeSection(\"idSection\"),\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `components.class.level.input.label.section`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 21\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 17\n      }\n    }, sections.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.id,\n      value: option.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 21\n      }\n    }, option.name_FR)))) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"schoolYearsId\",\n      name: \"schoolYearsId\",\n      select: true,\n      value: this.state.schoolYearsId,\n      onChange: this.handleChange(\"schoolYearsId\"),\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `filter.school.years`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 24\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 15\n      }\n    }, schoolYears.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n      key: option.id,\n      value: option.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 19\n      }\n    }, option.name)))))), this.props.successStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 15\n      }\n    }, \" \", this.props.message, \" \")) : \"\", this.props.errorStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-danger bg-danger text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 13\n      }\n    }, \" \", this.props.message, \" \")) : '', /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ListInvoices, {\n      bills: listBills,\n      month: this.state.month,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.generateBill,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 13\n      }\n    }, \" generation facture\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.auth.userProfile,\n    classLevels: state.ClassLevels.remoteLevels,\n    classes: state.classes,\n    schoolYears: state.schoolYearEtab.remoteSchoolYearEtab,\n    billReducer: state.billReducer.remoteBills,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message\n  };\n};\n\nexport default connect(mapStateToProps)(Billing);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/FinancialManagement/routes/Billing/Billing.js"],"names":["React","connect","generateBillForEstablishment","getInvoicesByEstablishmentId","BillIconWithTextCard","CardBox","Button","IntlMessages","TextField","MenuItem","getLevelByEstablishmentId","getClassesByEstablishmentId","classService","getSchoolYearEtabs","ListInvoices","_","UncontrolledAlert","idHighSchool","Billing","Component","constructor","props","handleChange","name","event","state","classLevelId","classeId","listBills","billReducer","filter","element","head","service_v2","fk_id_schol_year_v2","target","value","setState","student","level_id","class_id","handleChangeLevel","classesListFiltred","classes","classesList","apiEndpoint","localStorage","token","get","then","response","sections","data","handleChangeClass","isEmpty","handleChangeSection","changeMonth","monthId","month","schoolYearsId","generateBill","bind","componentWillMount","dispatch","userProfile","establishment_id","length","bill","componentDidUpdate","prevProps","prevState","preventDefault","render","classLevels","schoolYears","detailCards","cardColor","imageIcon","require","title","subTitle","map","index","marginRight","width","display","alignItems","disableUnderline","option","id","sectionStatus","estab_type_id","idSection","name_FR","successStatus","message","errorStatus","mapStateToProps","auth","ClassLevels","remoteLevels","schoolYearEtab","remoteSchoolYearEtab","remoteBills","alert","success","error"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  generateBillForEstablishment,\n  getInvoicesByEstablishmentId,\n} from \"../../../../../actions/BillAction\";\nimport BillIconWithTextCard from \"./BillIconWithTextCard\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport Button from \"@material-ui/core/Button\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { getLevelByEstablishmentId } from \"../../../../../actions/classLevelAction\";\nimport { getClassesByEstablishmentId } from \"../../../../../actions/classeAction\";\nimport { classService } from \"../../../../../_services/class.service\";\nimport { getSchoolYearEtabs } from \"../../../../../actions/SchoolYearEtabAction\";\nimport ListInvoices from \"./ListInvoices\";\nimport _ from \"lodash\";\nimport { UncontrolledAlert } from 'reactstrap';\n\n\nconst idHighSchool = 2;\n\nclass Billing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      classesList: [],\n      sections: [],\n      classLevelId: \"\",\n      classeId: \"\",\n      schoolYearsId: \"\",\n      month: \"\",\n      listBills: [],\n    };\n    this.generateBill = this.generateBill.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeLevel = this.handleChangeLevel.bind(this);\n    this.changeMonth = this.changeMonth.bind(this);\n    this.handleChangeClass = this.handleChangeClass.bind(this);\n    this.handleChangeSection = this.handleChangeSection.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.dispatch(\n      getLevelByEstablishmentId(this.props.userProfile.establishment_id)\n    );\n    this.props.dispatch(\n      getClassesByEstablishmentId(this.props.userProfile.establishment_id)\n    );\n    this.props.dispatch(getSchoolYearEtabs());\n    this.props.dispatch(\n      getInvoicesByEstablishmentId(this.props.userProfile.establishment_id)\n    );\n\n    if (this.state.month !== \"\" && this.props.billReducer.length > 0) {\n      let listBills = this.props.billReducer.filter(\n        (element) => element.bill.month == this.state.month\n      );\n      this.setState({ listBills });\n    } else {\n      let listBills = this.props.billReducer;\n      this.setState({ listBills });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.classes !== this.props.classes) {\n      this.setState({\n        classesList: this.props.classes,\n      });\n    }\n    if (\n      prevProps.billReducer !== this.props.billReducer ||\n      prevState.month !== this.state.month\n    ) {\n      if (this.state.month !== \"\" && this.props.billReducer.length > 0) {\n        let listBills = this.props.billReducer.filter(\n          (element) => element.bill.month == this.state.month\n        );\n        this.setState({ listBills });\n      } else {\n        let listBills = this.props.billReducer;\n        this.setState({ listBills });\n      }\n    }\n  }\n  generateBill(event) {\n    event.preventDefault();\n    this.props.dispatch(\n      generateBillForEstablishment(this.props.userProfile.establishment_id)\n    );\n  }\n\n  handleChange = (name) => (event) => {\n    if (this.state.classLevelId == \"\" && this.state.classeId == \"\") {\n      let listBills = this.props.billReducer.filter(\n        (element) =>\n          _.head(element.service_v2).fk_id_schol_year_v2 === event.target.value\n      );\n      this.setState({ listBills, [name]: event.target.value });\n    } else if (this.state.classLevelId !== \"\" && this.state.classeId == \"\") {\n      let listBills = this.props.billReducer.filter(\n        (element) =>\n          _.head(element.service_v2).fk_id_schol_year_v2 ===\n            event.target.value &&\n          element.student.level_id === this.state.classLevelId\n      );\n      this.setState({ listBills, [name]: event.target.value });\n    } else if (this.state.classLevelId == \"\" && this.state.classeId !== \"\") {\n      let listBills = this.props.billReducer.filter(\n        (element) =>\n          _.head(element.service_v2).fk_id_schol_year_v2 ===\n            event.target.value &&\n          element.student.class_id === this.state.classeId\n      );\n      this.setState({ listBills, [name]: event.target.value });\n    } else {\n      let listBills = this.props.billReducer.filter(\n        (element) =>\n          _.head(element.service_v2).fk_id_schol_year_v2 ===\n            event.target.value &&\n          element.student.class_id === this.state.classeId &&\n          element.student.level_id === this.state.classLevelId\n      );\n      this.setState({ listBills, [name]: event.target.value });\n    }\n  };\n\n  handleChangeLevel = (name) => (event) => {\n    let classesListFiltred = this.props.classes.filter(\n      (element) => element.level_id === event.target.value\n    );\n    let listBills = this.props.billReducer.filter(\n      (element) => element.student.level_id === event.target.value\n    );\n    this.setState({\n      classesList: classesListFiltred,\n      listBills,\n      [name]: event.target.value,\n    });\n    let apiEndpoint = `/section_by_levels?access_token=${localStorage.token}&filter[where][level_id]=${event.target.value}`;\n    classService.get(apiEndpoint).then((response) => {\n      this.setState({ sections: response.data });\n    });\n  };\n\n  handleChangeClass = (name) => (event) => {\n    if (_.isEmpty(this.state.classLevelId)) {\n      let listBills = this.props.billReducer.filter(\n        (element) => element.student.class_id === event.target.value\n      );\n      this.setState({ listBills, [name]: event.target.value });\n    } else {\n      let listBills = this.state.listBills.filter(\n        (element) => element.student.class_id === event.target.value\n      );\n      this.setState({ listBills, [name]: event.target.value });\n    }\n  };\n\n  handleChangeSection = (name) => (event) => {\n    // let allocationServerFiltred = this.props.allocationService.filter(\n    //   (element) => element.Class.section_id === event.target.value\n    // );\n    // this.setState({\n    //   [name]: event.target.value,\n    //   allocationServicesList: allocationServerFiltred,\n    // });\n  };\n\n  changeMonth = (monthId) => (event) => {\n    if (this.state.month == monthId) {\n      this.setState({\n        month: \"\",\n      });\n    } else {\n      this.setState({\n        month: monthId,\n      });\n    }\n  };\n\n  render() {\n    \n    let { classLevels, classes, schoolYears } = this.props;\n    let { classesList, listBills, sections } = this.state;\n    let detailCards = [\n      {\n        cardColor: \"primary\",\n        imageIcon: require(\"../ServiceAllocation/Icone/project-icon.png\"),\n        title: listBills.length,\n        subTitle: \"TOTAL\",\n      },\n      {\n        cardColor: \"secondary\",\n        imageIcon: require(\"../ServiceAllocation/Icone/tasks-icon.png\"),\n        title: \"100\",\n        subTitle: \"PAYﾃ右\",\n      },\n      {\n        cardColor: \"info\",\n        imageIcon: require(\"../ServiceAllocation/Icone/teams-icon.png\"),\n        title: \"120\",\n        subTitle: \"NON PAYﾃ右\",\n      },\n      {\n        cardColor: \"warning\",\n        imageIcon: require(\"../ServiceAllocation/Icone/files-icon.png\"),\n        title: \"09\",\n        subTitle: \"EN RETARD\",\n      },\n    ];\n\n    return (\n      <div className=\"dashboard animated slideInUpTiny animation-duration-3\">\n        <div className=\"row\">\n          {detailCards.map((data, index) => (\n            <div\n              key={index}\n              className=\"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12\"\n            >\n              <BillIconWithTextCard data={data} />\n            </div>\n          ))}\n           \n          <CardBox styleName=\"col-lg-12\">\n            <div>\n          \n              <div className=\"jr-btn-group\">\n                <Button\n                  id=\"1\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"1\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"1\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Janvier{\" \"}\n                </Button>\n                <Button\n                  id=\"2\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"2\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"2\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Fﾃｩvrier{\"   \"}\n                </Button>\n                <Button\n                  id=\"3\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"3\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                  onClick={this.changeMonth(\"3\")}\n                >\n                  Mars {\"   \"}\n                </Button>\n                <Button\n                  id=\"4\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"4\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"4\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Avril {\"  \"}\n                </Button>\n                <Button\n                  id=\"5\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"5\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"5\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Mai {\"  \"}\n                </Button>\n                <Button\n                  id=\"6\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"6\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"6\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Juin {\"   \"}\n                </Button>\n              </div>\n              <div className=\"jr-btn-group\">\n                <Button\n                  id=\"7\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"7\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"7\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Juillet {\"   \"}\n                </Button>\n                <Button\n                  id=\"8\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"8\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"8\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Aoﾃｻt\n                </Button>\n                <Button\n                  id=\"9\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"9\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"9\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Septembre\n                </Button>\n                <Button\n                  id=\"10\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"10\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"10\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Octobre\n                </Button>\n                <Button\n                  id=\"11\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"11\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"11\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Novembre\n                </Button>\n                <Button\n                  id=\"12\"\n                  variant=\"contained\"\n                  className={\n                    this.state.month == \"12\"\n                      ? \"jr-btn bg-blue-grey text-white\"\n                      : \"jr-btn bg-white\"\n                  }\n                  onClick={this.changeMonth(\"12\")}\n                  style={{ marginRight: \"7%\", width: \"8%\" }}\n                >\n                  Dﾃｩcembre\n                </Button>\n              </div>\n            </div>\n          </CardBox>\n\n          <div\n            className=\"row col-lg-12 col-md-12\"\n            style={{ display: \"flex\", alignItems: \"center\" }}\n          >\n            <div className=\"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-12\">\n              <TextField\n                id=\"classLevelId\"\n                name=\"classLevelId\"\n                select\n                value={this.state.classLevelId}\n                onChange={this.handleChangeLevel(\"classLevelId\")}\n                SelectProps={{}}\n                label={<IntlMessages id={`components.note.niveau`} />}\n                InputProps={{ disableUnderline: true }}\n                margin=\"normal\"\n                fullWidth\n              >\n                {classLevels.map((option) => (\n                  <MenuItem key={option.id} value={option.id}>\n                    {option.name}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n            <div className=\"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-12\">\n              <TextField\n                id=\"classeId\"\n                name=\"classeId\"\n                select\n                value={this.state.classeId}\n                onChange={this.handleChangeClass(\"classeId\")}\n                SelectProps={{}}\n                label={<IntlMessages id={`components.note.class`} />}\n                InputProps={{ disableUnderline: true }}\n                margin=\"normal\"\n                fullWidth\n              >\n                {classesList.map((option) => (\n                  <MenuItem key={option.id} value={option.id}>\n                    {option.name}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n\n            {this.state.sectionStatus &&\n            this.props.classLevels[0].estab_type_id !== idHighSchool ? (\n              <div className=\"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-12\">\n                <TextField\n                  id=\"idSection\"\n                  name=\"idSection\"\n                  select\n                  value={this.state.idSection}\n                  onChange={this.handleChangeSection(\"idSection\")}\n                  SelectProps={{}}\n                  label={\n                    <IntlMessages\n                      id={`components.class.level.input.label.section`}\n                    />\n                  }\n                  InputProps={{ disableUnderline: true }}\n                  margin=\"normal\"\n                  fullWidth\n                >\n                  {sections.map((option) => (\n                    <MenuItem key={option.id} value={option.id}>\n                      {option.name_FR}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              </div>\n            ) : (\n              \"\"\n            )}\n\n            <div className=\"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-12\">\n              <TextField\n                id=\"schoolYearsId\"\n                name=\"schoolYearsId\"\n                select\n                value={this.state.schoolYearsId}\n                onChange={this.handleChange(\"schoolYearsId\")}\n                SelectProps={{}}\n                label={<IntlMessages id={`filter.school.years`} />}\n                InputProps={{ disableUnderline: true }}\n                margin=\"normal\"\n                fullWidth\n              >\n                {schoolYears.map((option) => (\n                  <MenuItem key={option.id} value={option.id}>\n                    {option.name}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n          </div>\n        </div>\n        {this.props.successStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n           {this.props.errorStatus ? (\n          <UncontrolledAlert className=\"alert-addon-card bg-danger bg-danger text-white shadow-lg\">\n            <span className=\"icon-addon alert-addon\">\n              <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n            </span>\n            <span className=\"d-inline-block\"> {this.props.message} </span>\n          </UncontrolledAlert>\n        ) : (\n          ''\n        )}\n        <br />\n        <div className=\"row\">\n          <ListInvoices bills={listBills} month={this.state.month} />\n          <div className=\"d-flex justify-content-center\">\n            <button onClick={this.generateBill}> generation facture</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    userProfile: state.auth.userProfile,\n    classLevels: state.ClassLevels.remoteLevels,\n    classes: state.classes,\n    schoolYears: state.schoolYearEtab.remoteSchoolYearEtab,\n    billReducer: state.billReducer.remoteBills,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n  };\n};\n\nexport default connect(mapStateToProps)(Billing);\n"]},"metadata":{},"sourceType":"module"}