{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/UsersManagement/Users.js\";\nimport React from \"react\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport { connect } from \"react-redux\";\nimport ArchiveUsers from \"./ArchiveUsers\";\nimport UsersList from \"./UsersList\";\nimport { UncontrolledAlert } from \"reactstrap\";\nimport AddUsers from \"./AddUsers\";\nimport { getAllRole } from \"../../../../../actions/usersAction\";\nimport { getSchoolYearEtabs } from \"../../../../../actions/SchoolYearEtabAction\";\nimport countriesList from \"../../../../../constants/const\";\nimport { addUsers, getAllUsersForAdmin // getAllUsersForSuperAdministrator,\n} from \"../../../../../actions/usersAction\";\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { roleIdSuperAdmin, roleIdAdmin, roleIdProfessor, roleIdStudent, roleIdDirector, roleIdParent, roleIdSupervisor } from \"../../../../../config/config\";\nimport { toUpperCaseFirst, toLowerCaseFirst } from \"../../../../../constants/ReactConst\";\nimport { addUserPermitted } from \"../../../../../constants/validationFunctions\";\nimport LoaderModal from \"./LoaderModal\";\nimport { getAssignementCourse } from \"../../../../../actions/AssignementAction\";\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeSubjectModules = selectedOption => {\n      let classForStudentFiltred = [];\n      classForStudentFiltred = this.state.classForStudent.filter(element => element.levelId == selectedOption.id);\n      this.setState({\n        classForStudentFiltred\n      });\n    };\n\n    this.handleChangeLevelParticipant = selectedOption => {\n      let classForStudentFiltred = [];\n      classForStudentFiltred = this.state.classForStudent.filter(element => element.levelId == selectedOption.id);\n      this.setState({\n        classForStudentFiltred\n      });\n    };\n\n    this.handleChangeStudentClass = selectedOption => {\n      let listGroupClass = [];\n      selectedOption.groups.map(element => {\n        if (element.status) {\n          var object = {};\n          object.label = element.name;\n          object.id = element.id;\n          object.value = element.id;\n          listGroupClass.push(object);\n        }\n      });\n      this.setState({\n        studentClass: selectedOption.id,\n        levelId: selectedOption.levelId,\n        sectionId: selectedOption.sectionId,\n        listGroupClass\n      });\n    };\n\n    this.handleChangeAlerte = name => {\n      this.setState({\n        sessionExist: true,\n        messageAlerte: \"Il existe déja une licence pour cet etablissement\"\n      });\n      setTimeout(() => {\n        this.setState({\n          sessionExist: false,\n          messageAlerte: \"\"\n        });\n      }, 4000);\n    };\n\n    this.handleChangeEducationType = name => event => {\n      let obj = JSON.parse(event.target.value);\n      this.setState({\n        educationItem: obj,\n        educationTypeId: obj.id\n      });\n    };\n\n    this.handleChangePhone = value => {\n      this.setState({\n        userPhoneNumber: value\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleChangeBirthdayDate = date => {\n      this.setState({\n        birthdayDate: date,\n        birthdayDateCheck: true\n      });\n    };\n\n    this.handleChangeRole = selectedOption => {\n      if (selectedOption.id == roleIdStudent) {\n        this.setState({\n          birthdayDate: moment().year() - 6 + \"-01-01\"\n        });\n      }\n\n      this.setState({\n        roleId: selectedOption.id,\n        roleName: selectedOption.label\n      });\n    };\n\n    this.handleChangeGroupClassRoom = selectedOption => {\n      this.setState({\n        groupId: selectedOption.id\n      });\n    };\n\n    this.handleChangeSchoolYear = selectedOption => {\n      this.setState({\n        schoolyearId: selectedOption.id\n      });\n    };\n\n    this.handleChangeClassRoom = (selectedOption, name, index) => {\n      if (name === \"classId\") {\n        // let subjectsList = [];\n        // this.props.courseAssignment.map((element) => {\n        //   if (element.fk_id_class_v4 === selectedOption.id) {\n        //     var object = {};\n        //     object.label = element.subject.name;\n        //     object.id = element.id;\n        //     object.value = element.id;\n        //     object.fk_id_subjects_module_v4 =\n        //       element.subject.fk_id_subjects_module_v4;\n        //     subjectsList.push(object);\n        //   }\n        // });\n        // let newListSubjects = this.state.listOfSubjects.map((objSubject, i) =>\n        //   i === index\n        //     ? {\n        //         ...objSubject,\n        //         [name]: selectedOption.value,\n        //         subjects: subjectsList,\n        //       }\n        //     : objSubject\n        // );\n        // this.setState({ listOfSubjects: newListSubjects });\n        let newListSubjects = this.state.listOfSubjects.map((objSubject, i) => i === index ? { ...objSubject,\n          [name]: selectedOption.value\n        } : objSubject);\n        this.setState({\n          listOfSubjects: newListSubjects\n        });\n      } else if (name === \"subjectId\") {\n        let newListSubjects = this.state.listOfSubjects.map((objSubject, i) => i === index ? { ...objSubject,\n          [name]: selectedOption.value\n        } : objSubject);\n        this.setState({\n          listOfSubjects: newListSubjects\n        });\n      } else if (name === \"subjectModuleId\") {\n        let classId = this.state.listOfSubjects[index].classId;\n        let subjectsList = [];\n        this.props.courseAssignment.map(element => {\n          if (element.fk_id_class_v4 === classId && element.subject.fk_id_subjects_module_v4 == selectedOption.value) {\n            var object = {};\n            object.label = element.subject.name;\n            object.id = element.id;\n            object.value = element.id;\n            object.fk_id_subjects_module_v4 = element.subject.fk_id_subjects_module_v4;\n            subjectsList.push(object);\n          }\n        });\n        let newListSubjects = this.state.listOfSubjects.map((objSubject, i) => i === index ? { ...objSubject,\n          subjects: subjectsList\n        } : objSubject);\n        this.setState({\n          listOfSubjects: newListSubjects\n        });\n      }\n    };\n\n    this.addNewSubject = index => {\n      let listOfSubjects = [];\n      this.state.listOfSubjects.map(element => {\n        listOfSubjects.push({\n          id: element.id,\n          classId: element.classId,\n          subjectId: element.subjectId,\n          subjects: element.subjects,\n          isAdded: true\n        });\n      });\n      listOfSubjects.push({\n        id: index,\n        classId: 0,\n        subjectId: 0,\n        subjects: [],\n        isAdded: false\n      });\n      this.setState({\n        listOfSubjects\n      });\n    };\n\n    this.deleteChoice = index => {\n      let listOfSubjectsClasses = this.state.listOfSubjects.filter(element => element.id !== index);\n      this.setState({\n        listOfSubjects: listOfSubjectsClasses\n      });\n    };\n\n    this.handleChangeSubject = selectedOption => {\n      this.setState({\n        subjectId: selectedOption.id,\n        subjectItem: selectedOption\n      });\n    };\n\n    this.handleChangeParent = selectedOption => {\n      this.setState({\n        parentId: selectedOption.id\n      });\n    };\n\n    this.handleChangeStudent = selectedOption => {\n      this.setState({\n        studentId: selectedOption.id\n      });\n    };\n\n    this.handleChangeCountries = selectedOption => {\n      this.setState({\n        userCountry: selectedOption.label\n      });\n    };\n\n    this.handleChangeEstablishments = selectedOption => {\n      this.setState({\n        establishmentId: selectedOption.id\n      });\n    };\n\n    this.handleChangeFunctions = selectedOption => {\n      this.setState({\n        functionName: selectedOption.label\n      });\n    };\n\n    this.uploadPhoto = e => {\n      if (e.target.files[0] !== undefined) {\n        let file = e.target.files[0];\n        this.setState({\n          userPhoto: file,\n          photoText: file.name\n        });\n      } else {\n        this.setState({\n          messageAlerte: \"Vous n'avez pas choisir une photo\",\n          alerteFiltre: true\n        });\n        setTimeout(() => {\n          this.setState({\n            messageAlerte: \"\",\n            alerteFiltre: false\n          });\n        }, 4000);\n      }\n    };\n\n    this.openArchive = () => {\n      this.setState(previousState => ({\n        openArchive: !previousState.openArchive\n      }));\n    };\n\n    this.handleChangeFilterLevel = name => event => {\n      if (name === \"filterLevelId\") {\n        let filterLevel = [];\n\n        if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n          filterLevel = this.props.usersReducer.users.filter(element => element.roleId == event.target.value);\n        } //  else {\n        //   filterClasses = this.props.ClassSettings.filter(\n        //     (element) => element.fk_id_level_v4 == event.target.value\n        //   );\n        // }\n\n\n        this.setState({\n          [name]: event.target.value,\n          filterLevel\n        });\n      }\n    };\n\n    this.state = {\n      listRoles: [],\n      listSchoolYears: [],\n      roleId: \"\",\n      roleName: \"\",\n      schoolyearId: null,\n      classRoomId: null,\n      subjectId: null,\n      parentId: null,\n      studentId: null,\n      userName: \"\",\n      userLastName: \"\",\n      userNationnality: \"\",\n      userCIN: \"\",\n      userIdentifier: \"\",\n      userMail: \"\",\n      userPhoneNumber: \"\",\n      userAdress: \"\",\n      userCountry: \"\",\n      userZipCode: \"\",\n      userPhoto: \"\",\n      userGender: \"\",\n      birthdayDate: moment().year() - 18 + \"-01-01\",\n      birthdayPlace: \"\",\n      countriesList: [],\n      usefulInformation: \"\",\n      userPapiersFiles: [],\n      nameUserPapiersFiles: [],\n      isOpen: true,\n      openArchive: false,\n      isOpenArchive: false,\n      messageAlerte: \"\",\n      photoText: \"\",\n      nameFiles: [],\n      establishmentsList: [],\n      establishmentId: \"\",\n      classRoomList: [],\n      subjectsList: [],\n      classForStudent: [],\n      studentClass: null,\n      functionName: \"\",\n      missingValue: false,\n      alertMessage: \"\",\n      subjectItem: {},\n      listOfSubjects: [{\n        id: 0,\n        classId: 0,\n        subjectId: 0,\n        subjects: []\n      }],\n      parentsList: [],\n      studentsList: [],\n      levelId: null,\n      sectionId: null,\n      userList: {\n        users: [],\n        students: [],\n        parents: [],\n        professors: [],\n        admins: [],\n        directors: [],\n        supervisors: []\n      },\n      permissionList: [],\n      birthdayDateCheck: false,\n      listGroupClass: [],\n      groupId: null,\n      levelListParticipant: [],\n      classForStudentFiltred: [],\n      subjectModulesList: []\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n    this.handleChangeBirthdayDate = this.handleChangeBirthdayDate.bind(this);\n    this.openArchiveModal = this.openArchiveModal.bind(this);\n    this.handleChangeAlerte = this.handleChangeAlerte.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeSchoolYear = this.handleChangeSchoolYear.bind(this);\n    this.handleChangeClassRoom = this.handleChangeClassRoom.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.handleChangeParent = this.handleChangeParent.bind(this);\n    this.handleChangeStudent = this.handleChangeStudent.bind(this);\n    this.handleChangeCountries = this.handleChangeCountries.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.uploadPhoto = this.uploadPhoto.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n    this.handleChangeEstablishments = this.handleChangeEstablishments.bind(this);\n    this.handleChangeStudentClass = this.handleChangeStudentClass.bind(this);\n    this.handleChangeFunctions = this.handleChangeFunctions.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n    this.handleChangeFilterLevel = this.handleChangeFilterLevel.bind(this);\n    this.addNewSubject = this.addNewSubject.bind(this);\n    this.deleteChoice = this.deleteChoice.bind(this);\n    this.handleChangeGroupClassRoom = this.handleChangeGroupClassRoom.bind(this);\n    this.handleChangeLevelParticipant = this.handleChangeLevelParticipant.bind(this);\n    this.handleChangeSubjectModules = this.handleChangeSubjectModules.bind(this);\n  }\n\n  openArchiveModal() {\n    this.setState(previousState => ({\n      isOpenArchive: !previousState.isOpenArchive\n    }));\n  }\n\n  handleCancel() {\n    this.setState({\n      isOpen: false\n    });\n  } // openAddModal() {\n  //   this.setState({ isOpen: true });\n  // }\n\n\n  openAddModal() {\n    this.setState(previousState => ({\n      isOpen: !previousState.isOpen\n    }));\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let AssignementIdProf = [];\n    this.state.listOfSubjects.map(element => {\n      if (element.subjectId != 0) {\n        AssignementIdProf.push(element.subjectId);\n      }\n    });\n\n    if (this.state.roleId === \"\" || this.state.schoolyearId === \"\" || this.state.birthdayDateCheck === false && this.state.roleId === roleIdStudent) {\n      this.setState({\n        missingValue: true,\n        alertMessage: \"Il faut remplir les champs obligatoires \"\n      });\n      setTimeout(() => {\n        this.setState({\n          alertMessage: \"\",\n          missingValue: false\n        });\n      }, 4000);\n    } else {\n      if (this.state.roleId === roleIdProfessor && AssignementIdProf.length === 0) {\n        this.setState({\n          missingValue: true,\n          alertMessage: \"Il faut affecter une classe et une matiére pour le professeur \"\n        });\n        setTimeout(() => {\n          this.setState({\n            alertMessage: \"\",\n            missingValue: false\n          });\n        }, 4000);\n      } else {\n        this.openAddModal();\n        let data = {\n          name: this.state.userName.toUpperCase(),\n          surname: toUpperCaseFirst(this.state.userLastName),\n          gender: this.state.userGender,\n          dateOfBirth: this.state.birthdayDate,\n          placeOfBirth: this.state.birthdayPlace,\n          address: this.state.userAdress,\n          nationality: this.state.userNationnality,\n          phone: this.state.userPhoneNumber,\n          status: true,\n          cin: this.state.userCIN,\n          userIdentifier: this.state.userIdentifier,\n          zipCode: this.state.userZipCode,\n          userCountry: this.state.userCountry,\n          userPhoto: this.state.userPhoto,\n          userPapiersFiles: this.state.userPapiersFiles,\n          name_ar: \"string\",\n          surname_ar: \"string\",\n          email: this.state.userMail,\n          roleId: this.state.roleId,\n          establishmentId: this.state.establishmentId,\n          assignClassSubject: AssignementIdProf,\n          studentClass: this.state.studentClass,\n          schoolyearId: this.state.schoolyearId,\n          functionName: this.state.functionName,\n          password: \"123456\",\n          login: \"login1\",\n          levelId: this.state.levelId,\n          sectionId: this.state.sectionId,\n          usefulInformation: this.state.usefulInformation,\n          parentId: this.state.parentId,\n          studentId: this.state.studentId,\n          groupId: this.state.groupId\n        };\n        console.log(data, \"data avant action\");\n        this.props.addUsers(data);\n        this.setState({\n          roleId: \"\",\n          roleName: \"\",\n          schoolyearId: \"\",\n          classRoomId: \"\",\n          subjectId: \"\",\n          parentId: null,\n          studentId: null,\n          userName: \"\",\n          userLastName: \"\",\n          userNationnality: \"\",\n          userCIN: \"\",\n          userIdentifier: \"\",\n          userMail: \"\",\n          userPhoneNumber: \"\",\n          userAdress: \"\",\n          userCountry: \"\",\n          userZipCode: \"\",\n          userPhoto: \"\",\n          userGender: \"\",\n          birthdayDate: moment().year() - 18 + \"-01-01\",\n          birthdayPlace: \"\",\n          usefulInformation: \"\",\n          userPapiersFiles: [],\n          nameUserPapiersFiles: [],\n          isOpen: false,\n          photoText: \"\",\n          nameFiles: [],\n          establishmentId: this.props.userProfile.establishment_id,\n          subjectsList: [],\n          studentClass: null,\n          functionName: \"\",\n          missingValue: false,\n          subjectItem: {},\n          listOfSubjects: [{\n            id: 0,\n            classId: 0,\n            subjectId: 0,\n            subjects: []\n          }],\n          levelId: null,\n          sectionId: null,\n          birthdayDateCheck: false,\n          groupId: null\n        });\n      }\n    }\n  }\n\n  handleArchive(event) {\n    event.preventDefault();\n    this.openAddModal();\n    this.setState({});\n  }\n\n  attachFile(e) {\n    console.log(\"eeeeeee\");\n    var oldFiles = this.state.userPapiersFiles;\n    var nameFiles = this.state.nameUserPapiersFiles;\n\n    if (e.target.files !== undefined) {\n      var files = Object.values(e.target.files);\n\n      if (this.state.nameUserPapiersFiles.length + files.length < 6) {\n        files.map(element => {\n          nameFiles.push(element.name);\n          oldFiles.push(element);\n        });\n        this.setState({\n          userPapiersfiles: oldFiles,\n          nameFiles\n        });\n      }\n    } else {\n      this.setState({\n        messageAlerte: \"vous avez dépasser 5 fichiers\",\n        alerteStatus: true\n      });\n      setTimeout(() => {\n        this.setState({\n          messageAlerte: \"\",\n          alerteStatus: false\n        });\n      }, 4000);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.ClassSettings !== this.props.ClassSettings) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.sectionId = element.fk_id_section_v4;\n        object.levelId = element.fk_id_level_v4;\n        object.groups = element.group;\n        return object;\n      });\n      this.setState({\n        classForStudent\n      });\n    }\n\n    if (prevProps.subjectModules !== this.props.subjectModules) {\n      let subjectModulesList = [];\n      subjectModulesList = this.props.subjectModules.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        subjectModulesList\n      });\n    }\n\n    if (prevProps.levels !== this.props.levels) {\n      let levelListParticipant = [];\n      levelListParticipant = this.props.levels.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        levelListParticipant\n      });\n    }\n\n    if (prevProps.courseAssignment !== this.props.courseAssignment) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map(element => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, \"id\");\n\n      this.setState({\n        classRoomList: classRoomListFiltredByID\n      });\n    }\n\n    if (prevProps.usersReducer.roles !== this.props.usersReducer.roles || prevProps.userPermission !== this.props.userPermission) {\n      let listRoles = [];\n      this.props.usersReducer.roles.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n\n        if (this.props.userProfile.role_id == roleIdSuperAdmin) {\n          listRoles.push(object);\n        } else {\n          let permitted = false;\n          permitted = addUserPermitted(object.label, this.props.userPermission);\n\n          if (permitted) {\n            listRoles.push(object);\n          }\n        }\n      });\n      this.setState({\n        listRoles: listRoles\n      });\n    }\n\n    if (prevProps.userProfile.establishment_id !== this.props.userProfile.establishment_id) {\n      this.setState({\n        establishmentId: this.props.userProfile.establishment_id\n      });\n    }\n\n    if (prevProps.establishments !== this.props.establishments) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        establishmentsList\n      });\n    }\n\n    if (prevProps.schoolYearEtabs !== this.props.schoolYearEtabs) {\n      let listSchoolYears = [];\n      listSchoolYears = this.props.schoolYearEtabs.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.startDate = element.start_date;\n        object.endtDate = element.end_date;\n        return object;\n      });\n      let countriesListUser = [];\n      countriesListUser = countriesList.countriesList.map(element => {\n        var object = {};\n        object.label = element.name_fr;\n        object.id = element.code;\n        object.value = element.code;\n        return object;\n      });\n      this.setState({\n        listSchoolYears: listSchoolYears,\n        countriesList: countriesListUser\n      });\n    }\n\n    if (prevProps.usersReducer !== this.props.usersReducer) {\n      let parentsList = [];\n      parentsList = this.props.usersReducer.parents.map(element => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.parentId[0];\n        object.value = element.parentId[0];\n        return object;\n      });\n      let studentsList = [];\n      studentsList = this.props.usersReducer.students.map(element => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.studentId[0];\n        object.value = element.studentId[0];\n        return object;\n      });\n      this.setState({\n        parentsList,\n        studentsList\n      });\n    }\n\n    if (prevProps.usersReducer.users !== this.props.usersReducer.users) {\n      this.setState({\n        userList: this.props.usersReducer\n      });\n    }\n\n    if (prevProps.userPermission !== this.props.userPermission) {\n      this.setState({\n        permissionList: this.props.userPermission\n      });\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    this.props.getAllRole();\n    this.props.getSchoolYearEtabs();\n    this.props.getAllUsersForAdmin(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id); // this.props.getAllUsersForSuperAdministrator();\n\n    this.props.getAssignementCourse(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id);\n  }\n\n  componentDidMount() {\n    if (this.props.subjectModules != undefined) {\n      let subjectModulesList = [];\n      subjectModulesList = this.props.subjectModules.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        subjectModulesList\n      });\n    }\n\n    if (this.props.levels != undefined) {\n      let levelListParticipant = [];\n      levelListParticipant = this.props.levels.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        levelListParticipant\n      });\n    }\n\n    if (this.props.userPermission != undefined) {\n      this.setState({\n        permissionList: this.props.userPermission\n      });\n    }\n\n    if (this.props.establishments != undefined) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        establishmentsList,\n        establishmentId: this.props.userProfile.establishment_id\n      });\n    }\n\n    if (this.props.ClassSettings != undefined) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.sectionId = element.fk_id_section_v4;\n        object.levelId = element.fk_id_level_v4;\n        object.groups = element.group;\n        return object;\n      });\n      this.setState({\n        classForStudent\n      });\n    }\n\n    if (this.props.courseAssignment != undefined) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map(element => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, \"id\");\n\n      this.setState({\n        classRoomList: classRoomListFiltredByID\n      });\n    }\n\n    if (typeof this.props.usersReducer.parents != \"undefined\") {\n      let parentsList = [];\n      parentsList = this.props.usersReducer.parents.map(element => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        parentsList\n      });\n    }\n\n    if (this.props.usersReducer.students != undefined) {\n      let studentsList = [];\n      studentsList = this.props.usersReducer.students.map(element => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.studentId[0];\n        object.value = element.studentId[0];\n        return object;\n      });\n      this.setState({\n        studentsList\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state, \"staaaate\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      style: {\n        marginLeft: \"5%\",\n        marginRight: \"10%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"  d-flex flex-column mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 812,\n        columnNumber: 9\n      }\n    }, this.state.missingValue ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-danger text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 814,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 15\n      }\n    }, \" \", this.state.alertMessage, \" \")) : \"\", this.props.errorStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-danger text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 827,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 831,\n        columnNumber: 15\n      }\n    }, this.props.message, \" \")) : \"\", this.props.successStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 841,\n        columnNumber: 15\n      }\n    }, \" \", this.props.message, \" \")) : \"\", this.state.listRoles.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: \"90%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 847,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 col-sm-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AddUsers, {\n      openAddModal: this.openAddModal,\n      handleCancel: this.handleCancel,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      handleArchive: this.handleArchive,\n      handleChangeRole: this.handleChangeRole,\n      handleChangeSchoolYear: this.handleChangeSchoolYear,\n      handleChangeClassRoom: this.handleChangeClassRoom,\n      handleChangeBirthdayDate: this.handleChangeBirthdayDate,\n      handleChangeSubject: this.handleChangeSubject,\n      handleChangeParent: this.handleChangeParent,\n      handleChangeStudent: this.handleChangeStudent,\n      handleChangeCountries: this.handleChangeCountries,\n      handleChangeStudentClass: this.handleChangeStudentClass,\n      attachFile: this.attachFile,\n      uploadPhoto: this.uploadPhoto,\n      openArchive: this.openArchive,\n      handleChangeEstablishments: this.handleChangeEstablishments,\n      handleChangeFunctions: this.handleChangeFunctions,\n      handleChangePhone: this.handleChangePhone,\n      addNewSubject: this.addNewSubject,\n      deleteChoice: this.deleteChoice,\n      parentsList: this.state.parentsList,\n      studentsList: this.state.studentsList,\n      handleChangeGroupClassRoom: this.handleChangeGroupClassRoom,\n      values: this.state,\n      handleChangeLevelParticipant: this.handleChangeLevelParticipant,\n      handleChangeSubjectModules: this.handleChangeSubjectModules,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 849,\n        columnNumber: 17\n      }\n    }))) : \"\", !this.state.openArchive ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: \"90%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 col-sm-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 909,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(UsersList, {\n      usersList: this.state.userList,\n      permissionList: this.state.permissionList,\n      listClassFilter: this.state.classForStudent,\n      usefulData: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 17\n      }\n    }))) : \"\"), this.props.userLoading ? /*#__PURE__*/React.createElement(LoaderModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 931,\n        columnNumber: 35\n      }\n    }) : \"\");\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    usersReducer: state.usersReducer,\n    userProfile: state.auth.userProfile,\n    establishments: state.establishment.remoteEstablishments,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n    courseAssignment: state.AssignementReducer.courseAssignment,\n    ClassSettings: state.ClassSettingsReducer.classSettings,\n    userPermission: state.PermissionReducer.userPermission,\n    userLoading: state.usersReducer.userLoading,\n    groupsList: state.GroupsReducer.groupsList,\n    levels: state.levelsReducer.levels,\n    subjectModules: state.subjectModuleReducer.subjectModules\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAllRole,\n  getSchoolYearEtabs,\n  addUsers,\n  getAllUsersForAdmin,\n  getAssignementCourse // getAllUsersForSuperAdministrator,\n\n})(Users);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/UsersManagement/Users.js"],"names":["React","CardBox","connect","ArchiveUsers","UsersList","UncontrolledAlert","AddUsers","getAllRole","getSchoolYearEtabs","countriesList","addUsers","getAllUsersForAdmin","Can","RoleContext","_","moment","roleIdSuperAdmin","roleIdAdmin","roleIdProfessor","roleIdStudent","roleIdDirector","roleIdParent","roleIdSupervisor","toUpperCaseFirst","toLowerCaseFirst","addUserPermitted","LoaderModal","getAssignementCourse","Users","Component","constructor","props","handleChangeSubjectModules","selectedOption","classForStudentFiltred","state","classForStudent","filter","element","levelId","id","setState","handleChangeLevelParticipant","handleChangeStudentClass","listGroupClass","groups","map","status","object","label","name","value","push","studentClass","sectionId","handleChangeAlerte","sessionExist","messageAlerte","setTimeout","handleChangeEducationType","event","obj","JSON","parse","target","educationItem","educationTypeId","handleChangePhone","userPhoneNumber","handleChange","handleChangeBirthdayDate","date","birthdayDate","birthdayDateCheck","handleChangeRole","year","roleId","roleName","handleChangeGroupClassRoom","groupId","handleChangeSchoolYear","schoolyearId","handleChangeClassRoom","index","newListSubjects","listOfSubjects","objSubject","i","classId","subjectsList","courseAssignment","fk_id_class_v4","subject","fk_id_subjects_module_v4","subjects","addNewSubject","subjectId","isAdded","deleteChoice","listOfSubjectsClasses","handleChangeSubject","subjectItem","handleChangeParent","parentId","handleChangeStudent","studentId","handleChangeCountries","userCountry","handleChangeEstablishments","establishmentId","handleChangeFunctions","functionName","uploadPhoto","e","files","undefined","file","userPhoto","photoText","alerteFiltre","openArchive","previousState","handleChangeFilterLevel","filterLevel","userProfile","role_id","usersReducer","users","listRoles","listSchoolYears","classRoomId","userName","userLastName","userNationnality","userCIN","userIdentifier","userMail","userAdress","userZipCode","userGender","birthdayPlace","usefulInformation","userPapiersFiles","nameUserPapiersFiles","isOpen","isOpenArchive","nameFiles","establishmentsList","classRoomList","missingValue","alertMessage","parentsList","studentsList","userList","students","parents","professors","admins","directors","supervisors","permissionList","levelListParticipant","subjectModulesList","openAddModal","bind","handleCancel","handleSubmit","handleArchive","openArchiveModal","attachFile","preventDefault","AssignementIdProf","length","data","toUpperCase","surname","gender","dateOfBirth","placeOfBirth","address","nationality","phone","cin","zipCode","name_ar","surname_ar","email","assignClassSubject","password","login","console","log","establishment_id","oldFiles","Object","values","userPapiersfiles","alerteStatus","componentDidUpdate","prevProps","ClassSettings","fk_id_section_v4","fk_id_level_v4","group","subjectModules","levels","class","classRoomListFiltredByID","uniqBy","roles","userPermission","permitted","establishments","schoolYearEtabs","startDate","start_date","endtDate","end_date","countriesListUser","name_fr","code","UNSAFE_componentWillMount","school_year_id","componentDidMount","render","marginLeft","marginRight","errorStatus","message","successStatus","width","userLoading","mapStateToProps","auth","establishment","remoteEstablishments","alert","success","error","schoolYearEtab","remoteSchoolYearEtab","AssignementReducer","ClassSettingsReducer","classSettings","PermissionReducer","groupsList","GroupsReducer","levelsReducer","subjectModuleReducer"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport { connect } from \"react-redux\";\nimport ArchiveUsers from \"./ArchiveUsers\";\nimport UsersList from \"./UsersList\";\nimport { UncontrolledAlert } from \"reactstrap\";\nimport AddUsers from \"./AddUsers\";\nimport { getAllRole } from \"../../../../../actions/usersAction\";\nimport { getSchoolYearEtabs } from \"../../../../../actions/SchoolYearEtabAction\";\nimport countriesList from \"../../../../../constants/const\";\nimport {\n  addUsers,\n  getAllUsersForAdmin,\n  // getAllUsersForSuperAdministrator,\n} from \"../../../../../actions/usersAction\";\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport {\n  roleIdSuperAdmin,\n  roleIdAdmin,\n  roleIdProfessor,\n  roleIdStudent,\n  roleIdDirector,\n  roleIdParent,\n  roleIdSupervisor,\n} from \"../../../../../config/config\";\nimport {\n  toUpperCaseFirst,\n  toLowerCaseFirst,\n} from \"../../../../../constants/ReactConst\";\nimport { addUserPermitted } from \"../../../../../constants/validationFunctions\";\nimport LoaderModal from \"./LoaderModal\";\nimport { getAssignementCourse } from \"../../../../../actions/AssignementAction\";\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listRoles: [],\n      listSchoolYears: [],\n      roleId: \"\",\n      roleName: \"\",\n      schoolyearId: null,\n      classRoomId: null,\n      subjectId: null,\n      parentId: null,\n      studentId: null,\n      userName: \"\",\n      userLastName: \"\",\n      userNationnality: \"\",\n      userCIN: \"\",\n      userIdentifier: \"\",\n      userMail: \"\",\n      userPhoneNumber: \"\",\n      userAdress: \"\",\n      userCountry: \"\",\n      userZipCode: \"\",\n      userPhoto: \"\",\n      userGender: \"\",\n      birthdayDate: moment().year() - 18 + \"-01-01\",\n      birthdayPlace: \"\",\n      countriesList: [],\n      usefulInformation: \"\",\n      userPapiersFiles: [],\n      nameUserPapiersFiles: [],\n      isOpen: true,\n      openArchive: false,\n      isOpenArchive: false,\n      messageAlerte: \"\",\n      photoText: \"\",\n      nameFiles: [],\n      establishmentsList: [],\n      establishmentId: \"\",\n      classRoomList: [],\n      subjectsList: [],\n      classForStudent: [],\n      studentClass: null,\n      functionName: \"\",\n      missingValue: false,\n      alertMessage: \"\",\n      subjectItem: {},\n      listOfSubjects: [\n        {\n          id: 0,\n          classId: 0,\n          subjectId: 0,\n          subjects: [],\n        },\n      ],\n      parentsList: [],\n      studentsList: [],\n      levelId: null,\n      sectionId: null,\n      userList: {\n        users: [],\n        students: [],\n        parents: [],\n        professors: [],\n        admins: [],\n        directors: [],\n        supervisors: [],\n      },\n      permissionList: [],\n      birthdayDateCheck: false,\n      listGroupClass: [],\n      groupId: null,\n      levelListParticipant: [],\n      classForStudentFiltred: [],\n      subjectModulesList: [],\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n    this.handleChangeBirthdayDate = this.handleChangeBirthdayDate.bind(this);\n    this.openArchiveModal = this.openArchiveModal.bind(this);\n    this.handleChangeAlerte = this.handleChangeAlerte.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeSchoolYear = this.handleChangeSchoolYear.bind(this);\n    this.handleChangeClassRoom = this.handleChangeClassRoom.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.handleChangeParent = this.handleChangeParent.bind(this);\n    this.handleChangeStudent = this.handleChangeStudent.bind(this);\n    this.handleChangeCountries = this.handleChangeCountries.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.uploadPhoto = this.uploadPhoto.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n    this.handleChangeEstablishments = this.handleChangeEstablishments.bind(\n      this\n    );\n    this.handleChangeStudentClass = this.handleChangeStudentClass.bind(this);\n    this.handleChangeFunctions = this.handleChangeFunctions.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n    this.handleChangeFilterLevel = this.handleChangeFilterLevel.bind(this);\n    this.addNewSubject = this.addNewSubject.bind(this);\n    this.deleteChoice = this.deleteChoice.bind(this);\n    this.handleChangeGroupClassRoom = this.handleChangeGroupClassRoom.bind(\n      this\n    );\n    this.handleChangeLevelParticipant = this.handleChangeLevelParticipant.bind(\n      this\n    );\n\n    this.handleChangeSubjectModules = this.handleChangeSubjectModules.bind(\n      this\n    );\n  }\n  handleChangeSubjectModules = (selectedOption) => {\n    let classForStudentFiltred = [];\n\n    classForStudentFiltred = this.state.classForStudent.filter(\n      (element) => element.levelId == selectedOption.id\n    );\n    this.setState({\n      classForStudentFiltred,\n    });\n  };\n  handleChangeLevelParticipant = (selectedOption) => {\n    let classForStudentFiltred = [];\n\n    classForStudentFiltred = this.state.classForStudent.filter(\n      (element) => element.levelId == selectedOption.id\n    );\n    this.setState({\n      classForStudentFiltred,\n    });\n  };\n  handleChangeStudentClass = (selectedOption) => {\n    let listGroupClass = [];\n    selectedOption.groups.map((element) => {\n      if (element.status) {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        listGroupClass.push(object);\n      }\n    });\n    this.setState({\n      studentClass: selectedOption.id,\n      levelId: selectedOption.levelId,\n      sectionId: selectedOption.sectionId,\n      listGroupClass,\n    });\n  };\n  handleChangeAlerte = (name) => {\n    this.setState({\n      sessionExist: true,\n      messageAlerte: \"Il existe déja une licence pour cet etablissement\",\n    });\n    setTimeout(() => {\n      this.setState({ sessionExist: false, messageAlerte: \"\" });\n    }, 4000);\n  };\n  handleChangeEducationType = (name) => (event) => {\n    let obj = JSON.parse(event.target.value);\n\n    this.setState({ educationItem: obj, educationTypeId: obj.id });\n  };\n  openArchiveModal() {\n    this.setState((previousState) => ({\n      isOpenArchive: !previousState.isOpenArchive,\n    }));\n  }\n  handleCancel() {\n    this.setState({ isOpen: false });\n  }\n  // openAddModal() {\n  //   this.setState({ isOpen: true });\n  // }\n  openAddModal() {\n    this.setState((previousState) => ({\n      isOpen: !previousState.isOpen,\n    }));\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    let AssignementIdProf = [];\n    this.state.listOfSubjects.map((element) => {\n      if (element.subjectId != 0) {\n        AssignementIdProf.push(element.subjectId);\n      }\n    });\n    if (\n      this.state.roleId === \"\" ||\n      this.state.schoolyearId === \"\" ||\n      (this.state.birthdayDateCheck === false &&\n        this.state.roleId === roleIdStudent)\n    ) {\n      this.setState({\n        missingValue: true,\n        alertMessage: \"Il faut remplir les champs obligatoires \",\n      });\n      setTimeout(() => {\n        this.setState({ alertMessage: \"\", missingValue: false });\n      }, 4000);\n    } else {\n      if (\n        this.state.roleId === roleIdProfessor &&\n        AssignementIdProf.length === 0\n      ) {\n        this.setState({\n          missingValue: true,\n          alertMessage:\n            \"Il faut affecter une classe et une matiére pour le professeur \",\n        });\n        setTimeout(() => {\n          this.setState({ alertMessage: \"\", missingValue: false });\n        }, 4000);\n      } else {\n        this.openAddModal();\n        let data = {\n          name: this.state.userName.toUpperCase(),\n          surname: toUpperCaseFirst(this.state.userLastName),\n          gender: this.state.userGender,\n          dateOfBirth: this.state.birthdayDate,\n          placeOfBirth: this.state.birthdayPlace,\n          address: this.state.userAdress,\n          nationality: this.state.userNationnality,\n          phone: this.state.userPhoneNumber,\n          status: true,\n          cin: this.state.userCIN,\n          userIdentifier: this.state.userIdentifier,\n          zipCode: this.state.userZipCode,\n          userCountry: this.state.userCountry,\n          userPhoto: this.state.userPhoto,\n          userPapiersFiles: this.state.userPapiersFiles,\n          name_ar: \"string\",\n          surname_ar: \"string\",\n          email: this.state.userMail,\n          roleId: this.state.roleId,\n          establishmentId: this.state.establishmentId,\n          assignClassSubject: AssignementIdProf,\n          studentClass: this.state.studentClass,\n          schoolyearId: this.state.schoolyearId,\n          functionName: this.state.functionName,\n          password: \"123456\",\n          login: \"login1\",\n          levelId: this.state.levelId,\n          sectionId: this.state.sectionId,\n          usefulInformation: this.state.usefulInformation,\n          parentId: this.state.parentId,\n          studentId: this.state.studentId,\n          groupId: this.state.groupId,\n        };\n        console.log(data, \"data avant action\");\n        this.props.addUsers(data);\n        this.setState({\n          roleId: \"\",\n          roleName: \"\",\n          schoolyearId: \"\",\n          classRoomId: \"\",\n          subjectId: \"\",\n          parentId: null,\n          studentId: null,\n          userName: \"\",\n          userLastName: \"\",\n          userNationnality: \"\",\n          userCIN: \"\",\n          userIdentifier: \"\",\n          userMail: \"\",\n          userPhoneNumber: \"\",\n          userAdress: \"\",\n          userCountry: \"\",\n          userZipCode: \"\",\n          userPhoto: \"\",\n          userGender: \"\",\n          birthdayDate: moment().year() - 18 + \"-01-01\",\n          birthdayPlace: \"\",\n          usefulInformation: \"\",\n          userPapiersFiles: [],\n          nameUserPapiersFiles: [],\n          isOpen: false,\n          photoText: \"\",\n          nameFiles: [],\n          establishmentId: this.props.userProfile.establishment_id,\n          subjectsList: [],\n          studentClass: null,\n          functionName: \"\",\n          missingValue: false,\n          subjectItem: {},\n          listOfSubjects: [\n            {\n              id: 0,\n              classId: 0,\n              subjectId: 0,\n              subjects: [],\n            },\n          ],\n          levelId: null,\n          sectionId: null,\n          birthdayDateCheck: false,\n          groupId: null,\n        });\n      }\n    }\n  }\n  handleChangePhone = (value) => {\n    this.setState({ userPhoneNumber: value });\n  };\n  handleArchive(event) {\n    event.preventDefault();\n    this.openAddModal();\n    this.setState({});\n  }\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n  };\n  handleChangeBirthdayDate = (date) => {\n    this.setState({ birthdayDate: date, birthdayDateCheck: true });\n  };\n  handleChangeRole = (selectedOption) => {\n    if (selectedOption.id == roleIdStudent) {\n      this.setState({\n        birthdayDate: moment().year() - 6 + \"-01-01\",\n      });\n    }\n    this.setState({\n      roleId: selectedOption.id,\n      roleName: selectedOption.label,\n    });\n  };\n  handleChangeGroupClassRoom = (selectedOption) => {\n    this.setState({ groupId: selectedOption.id });\n  };\n  handleChangeSchoolYear = (selectedOption) => {\n    this.setState({ schoolyearId: selectedOption.id });\n  };\n  handleChangeClassRoom = (selectedOption, name, index) => {\n    if (name === \"classId\") {\n      // let subjectsList = [];\n      // this.props.courseAssignment.map((element) => {\n      //   if (element.fk_id_class_v4 === selectedOption.id) {\n      //     var object = {};\n      //     object.label = element.subject.name;\n      //     object.id = element.id;\n      //     object.value = element.id;\n      //     object.fk_id_subjects_module_v4 =\n      //       element.subject.fk_id_subjects_module_v4;\n\n      //     subjectsList.push(object);\n      //   }\n      // });\n      // let newListSubjects = this.state.listOfSubjects.map((objSubject, i) =>\n      //   i === index\n      //     ? {\n      //         ...objSubject,\n      //         [name]: selectedOption.value,\n      //         subjects: subjectsList,\n      //       }\n      //     : objSubject\n      // );\n      // this.setState({ listOfSubjects: newListSubjects });\n      let newListSubjects = this.state.listOfSubjects.map((objSubject, i) =>\n        i === index\n          ? { ...objSubject, [name]: selectedOption.value }\n          : objSubject\n      );\n      this.setState({ listOfSubjects: newListSubjects });\n    } else if (name === \"subjectId\") {\n      let newListSubjects = this.state.listOfSubjects.map((objSubject, i) =>\n        i === index\n          ? { ...objSubject, [name]: selectedOption.value }\n          : objSubject\n      );\n      this.setState({ listOfSubjects: newListSubjects });\n    } else if (name === \"subjectModuleId\") {\n      let classId = this.state.listOfSubjects[index].classId;\n      let subjectsList = [];\n      this.props.courseAssignment.map((element) => {\n        if (\n          element.fk_id_class_v4 === classId &&\n          element.subject.fk_id_subjects_module_v4 == selectedOption.value\n        ) {\n          var object = {};\n          object.label = element.subject.name;\n          object.id = element.id;\n          object.value = element.id;\n          object.fk_id_subjects_module_v4 =\n            element.subject.fk_id_subjects_module_v4;\n\n          subjectsList.push(object);\n        }\n      });\n      let newListSubjects = this.state.listOfSubjects.map((objSubject, i) =>\n        i === index\n          ? {\n              ...objSubject,\n               subjects: subjectsList,\n            }\n          : objSubject\n      );\n      this.setState({ listOfSubjects: newListSubjects });\n    }\n  };\n  addNewSubject = (index) => {\n    let listOfSubjects = [];\n    this.state.listOfSubjects.map((element) => {\n      listOfSubjects.push({\n        id: element.id,\n        classId: element.classId,\n        subjectId: element.subjectId,\n        subjects: element.subjects,\n        isAdded: true,\n      });\n    });\n    listOfSubjects.push({\n      id: index,\n      classId: 0,\n      subjectId: 0,\n      subjects: [],\n      isAdded: false,\n    });\n\n    this.setState({ listOfSubjects });\n  };\n  deleteChoice = (index) => {\n    let listOfSubjectsClasses = this.state.listOfSubjects.filter(\n      (element) => element.id !== index\n    );\n    this.setState({ listOfSubjects: listOfSubjectsClasses });\n  };\n\n  handleChangeSubject = (selectedOption) => {\n    this.setState({\n      subjectId: selectedOption.id,\n      subjectItem: selectedOption,\n    });\n  };\n  handleChangeParent = (selectedOption) => {\n    this.setState({ parentId: selectedOption.id });\n  };\n  handleChangeStudent = (selectedOption) => {\n    this.setState({ studentId: selectedOption.id });\n  };\n  handleChangeCountries = (selectedOption) => {\n    this.setState({ userCountry: selectedOption.label });\n  };\n  handleChangeEstablishments = (selectedOption) => {\n    this.setState({ establishmentId: selectedOption.id });\n  };\n  handleChangeFunctions = (selectedOption) => {\n    this.setState({ functionName: selectedOption.label });\n  };\n  attachFile(e) {\n    console.log(\"eeeeeee\");\n    var oldFiles = this.state.userPapiersFiles;\n\n    var nameFiles = this.state.nameUserPapiersFiles;\n    if (e.target.files !== undefined) {\n      var files = Object.values(e.target.files);\n      if (this.state.nameUserPapiersFiles.length + files.length < 6) {\n        files.map((element) => {\n          nameFiles.push(element.name);\n          oldFiles.push(element);\n        });\n        this.setState({ userPapiersfiles: oldFiles, nameFiles });\n      }\n    } else {\n      this.setState({\n        messageAlerte: \"vous avez dépasser 5 fichiers\",\n        alerteStatus: true,\n      });\n      setTimeout(() => {\n        this.setState({ messageAlerte: \"\", alerteStatus: false });\n      }, 4000);\n    }\n  }\n  uploadPhoto = (e) => {\n    if (e.target.files[0] !== undefined) {\n      let file = e.target.files[0];\n      this.setState({ userPhoto: file, photoText: file.name });\n    } else {\n      this.setState({\n        messageAlerte: \"Vous n'avez pas choisir une photo\",\n        alerteFiltre: true,\n      });\n      setTimeout(() => {\n        this.setState({ messageAlerte: \"\", alerteFiltre: false });\n      }, 4000);\n    }\n  };\n  openArchive = () => {\n    this.setState((previousState) => ({\n      openArchive: !previousState.openArchive,\n    }));\n  };\n\n  handleChangeFilterLevel = (name) => (event) => {\n    if (name === \"filterLevelId\") {\n      let filterLevel = [];\n      if (this.props.userProfile.role_id === roleIdSuperAdmin) {\n        filterLevel = this.props.usersReducer.users.filter(\n          (element) => element.roleId == event.target.value\n        );\n      }\n      //  else {\n      //   filterClasses = this.props.ClassSettings.filter(\n      //     (element) => element.fk_id_level_v4 == event.target.value\n      //   );\n      // }\n\n      this.setState({\n        [name]: event.target.value,\n        filterLevel,\n      });\n    }\n  };\n  componentDidUpdate(prevProps) {\n    if (prevProps.ClassSettings !== this.props.ClassSettings) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.sectionId = element.fk_id_section_v4;\n        object.levelId = element.fk_id_level_v4;\n        object.groups = element.group;\n        return object;\n      });\n      this.setState({ classForStudent });\n    }\n    if (prevProps.subjectModules !== this.props.subjectModules) {\n      let subjectModulesList = [];\n      subjectModulesList = this.props.subjectModules.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({ subjectModulesList });\n    }\n    if (prevProps.levels !== this.props.levels) {\n      let levelListParticipant = [];\n      levelListParticipant = this.props.levels.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n\n        return object;\n      });\n      this.setState({ levelListParticipant });\n    }\n    if (prevProps.courseAssignment !== this.props.courseAssignment) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map((element) => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, \"id\");\n      this.setState({ classRoomList: classRoomListFiltredByID });\n    }\n\n    if (\n      prevProps.usersReducer.roles !== this.props.usersReducer.roles ||\n      prevProps.userPermission !== this.props.userPermission\n    ) {\n      let listRoles = [];\n\n      this.props.usersReducer.roles.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        if (this.props.userProfile.role_id == roleIdSuperAdmin) {\n          listRoles.push(object);\n        } else {\n          let permitted = false;\n          permitted = addUserPermitted(object.label, this.props.userPermission);\n          if (permitted) {\n            listRoles.push(object);\n          }\n        }\n      });\n      this.setState({ listRoles: listRoles });\n    }\n\n    if (\n      prevProps.userProfile.establishment_id !==\n      this.props.userProfile.establishment_id\n    ) {\n      this.setState({\n        establishmentId: this.props.userProfile.establishment_id,\n      });\n    }\n\n    if (prevProps.establishments !== this.props.establishments) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({ establishmentsList });\n    }\n\n    if (prevProps.schoolYearEtabs !== this.props.schoolYearEtabs) {\n      let listSchoolYears = [];\n      listSchoolYears = this.props.schoolYearEtabs.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.startDate = element.start_date;\n        object.endtDate = element.end_date;\n        return object;\n      });\n      let countriesListUser = [];\n      countriesListUser = countriesList.countriesList.map((element) => {\n        var object = {};\n        object.label = element.name_fr;\n        object.id = element.code;\n        object.value = element.code;\n        return object;\n      });\n      this.setState({\n        listSchoolYears: listSchoolYears,\n        countriesList: countriesListUser,\n      });\n    }\n    if (prevProps.usersReducer !== this.props.usersReducer) {\n      let parentsList = [];\n      parentsList = this.props.usersReducer.parents.map((element) => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.parentId[0];\n        object.value = element.parentId[0];\n        return object;\n      });\n      let studentsList = [];\n      studentsList = this.props.usersReducer.students.map((element) => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.studentId[0];\n        object.value = element.studentId[0];\n        return object;\n      });\n      this.setState({ parentsList, studentsList });\n    }\n    if (prevProps.usersReducer.users !== this.props.usersReducer.users) {\n      this.setState({ userList: this.props.usersReducer });\n    }\n    if (prevProps.userPermission !== this.props.userPermission) {\n      this.setState({ permissionList: this.props.userPermission });\n    }\n  }\n  UNSAFE_componentWillMount() {\n    this.props.getAllRole();\n    this.props.getSchoolYearEtabs();\n    this.props.getAllUsersForAdmin(\n      this.props.userProfile.establishment_id,\n      this.props.userProfile.school_year_id\n    );\n    // this.props.getAllUsersForSuperAdministrator();\n    this.props.getAssignementCourse(\n      this.props.userProfile.establishment_id,\n      this.props.userProfile.school_year_id\n    );\n  }\n  componentDidMount() {\n    if (this.props.subjectModules != undefined) {\n      let subjectModulesList = [];\n      subjectModulesList = this.props.subjectModules.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({ subjectModulesList });\n    }\n    if (this.props.levels != undefined) {\n      let levelListParticipant = [];\n      levelListParticipant = this.props.levels.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n\n        return object;\n      });\n      this.setState({ levelListParticipant });\n    }\n    if (this.props.userPermission != undefined) {\n      this.setState({ permissionList: this.props.userPermission });\n    }\n    if (this.props.establishments != undefined) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        establishmentsList,\n        establishmentId: this.props.userProfile.establishment_id,\n      });\n    }\n    if (this.props.ClassSettings != undefined) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.sectionId = element.fk_id_section_v4;\n        object.levelId = element.fk_id_level_v4;\n        object.groups = element.group;\n        return object;\n      });\n      this.setState({ classForStudent });\n    }\n    if (this.props.courseAssignment != undefined) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map((element) => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, \"id\");\n      this.setState({ classRoomList: classRoomListFiltredByID });\n    }\n    if (typeof this.props.usersReducer.parents != \"undefined\") {\n      let parentsList = [];\n      parentsList = this.props.usersReducer.parents.map((element) => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({ parentsList });\n    }\n    if (this.props.usersReducer.students != undefined) {\n      let studentsList = [];\n      studentsList = this.props.usersReducer.students.map((element) => {\n        var object = {};\n        object.label = element.name + \" \" + element.surname;\n        object.id = element.studentId[0];\n        object.value = element.studentId[0];\n        return object;\n      });\n      this.setState({ studentsList });\n    }\n  }\n\n  render() {\n    console.log(this.state, \"staaaate\");\n    return (\n      <div\n        className=\"app-wrapper\"\n        style={{\n          marginLeft: \"5%\",\n          marginRight: \"10%\",\n        }}\n      >\n        <div className=\"  d-flex flex-column mb-3\">\n          {this.state.missingValue ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-danger text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\">\n                {\" \"}\n                {this.state.alertMessage}{\" \"}\n              </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n          {this.props.errorStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-danger text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\">{this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n          {this.props.successStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n          {this.state.listRoles.length > 0 ? (\n            <div className=\" bd-highlight\" style={{ width: \"90%\" }}>\n              <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n                <AddUsers\n                  openAddModal={this.openAddModal}\n                  handleCancel={this.handleCancel}\n                  handleChange={this.handleChange}\n                  handleSubmit={this.handleSubmit}\n                  handleArchive={this.handleArchive}\n                  handleChangeRole={this.handleChangeRole}\n                  handleChangeSchoolYear={this.handleChangeSchoolYear}\n                  handleChangeClassRoom={this.handleChangeClassRoom}\n                  handleChangeBirthdayDate={this.handleChangeBirthdayDate}\n                  handleChangeSubject={this.handleChangeSubject}\n                  handleChangeParent={this.handleChangeParent}\n                  handleChangeStudent={this.handleChangeStudent}\n                  handleChangeCountries={this.handleChangeCountries}\n                  handleChangeStudentClass={this.handleChangeStudentClass}\n                  attachFile={this.attachFile}\n                  uploadPhoto={this.uploadPhoto}\n                  openArchive={this.openArchive}\n                  handleChangeEstablishments={this.handleChangeEstablishments}\n                  handleChangeFunctions={this.handleChangeFunctions}\n                  handleChangePhone={this.handleChangePhone}\n                  addNewSubject={this.addNewSubject}\n                  deleteChoice={this.deleteChoice}\n                  parentsList={this.state.parentsList}\n                  studentsList={this.state.studentsList}\n                  handleChangeGroupClassRoom={this.handleChangeGroupClassRoom}\n                  values={this.state}\n                  handleChangeLevelParticipant={\n                    this.handleChangeLevelParticipant\n                  }\n                  handleChangeSubjectModules={this.handleChangeSubjectModules}\n                />\n              </CardBox>\n            </div>\n          ) : (\n            \"\"\n          )}\n\n          {/* <RoleContext.Consumer>\n            {({ role }) => (\n              <Can\n                role={role}\n                perform=\"add-service\"\n                yes={() => (\n                  <>\n                    {this.state.openArchive ? (\n                      <div>\n                        <ArchiveUsers openArchive={this.openArchive} />\n                      </div>\n                    ) : (\n                      ''\n                    )}\n                  </>\n                )}\n                establishements\n              />\n            )}\n          </RoleContext.Consumer> */}\n          {!this.state.openArchive ? (\n            <div className=\" bd-highlight\" style={{ width: \"90%\" }}>\n              <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n                {/* <UsersList usersList={this.props.usersReducer} /> */}\n                <UsersList\n                  usersList={this.state.userList}\n                  permissionList={this.state.permissionList}\n                  listClassFilter={this.state.classForStudent}\n                  usefulData={this.state}\n                />\n              </CardBox>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n        {/* <div className=\" bd-highlight\" style={{ width: '90%' }}>\n          <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n            <ArchiveUsers\n              isOpenArchive={this.state.isOpenArchive}\n              openArchiveModal={this.openArchiveModal}\n            />\n          </CardBox>\n        </div> */}\n        {this.props.userLoading ? <LoaderModal /> : \"\"}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    usersReducer: state.usersReducer,\n    userProfile: state.auth.userProfile,\n    establishments: state.establishment.remoteEstablishments,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n    courseAssignment: state.AssignementReducer.courseAssignment,\n    ClassSettings: state.ClassSettingsReducer.classSettings,\n    userPermission: state.PermissionReducer.userPermission,\n    userLoading: state.usersReducer.userLoading,\n    groupsList: state.GroupsReducer.groupsList,\n    levels: state.levelsReducer.levels,\n    subjectModules: state.subjectModuleReducer.subjectModules,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAllRole,\n  getSchoolYearEtabs,\n  addUsers,\n  getAllUsersForAdmin,\n  getAssignementCourse,\n  // getAllUsersForSuperAdministrator,\n})(Users);\n"]},"metadata":{},"sourceType":"module"}