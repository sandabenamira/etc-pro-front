{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/UsersManagement/Users.js\";\nimport React from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport { connect } from 'react-redux';\nimport ArchiveUsers from './ArchiveUsers';\nimport UsersList from './UsersList';\nimport { UncontrolledAlert } from 'reactstrap';\nimport AddUsers from './AddUsers';\nimport { getAllRole } from '../../../../../actions/usersAction';\nimport { getSchoolYearEtabs } from '../../../../../actions/SchoolYearEtabAction';\nimport countriesList from '../../../../../constants/const';\nimport { addUsers } from '../../../../../actions/usersAction';\nimport Can from '../../../../../can';\nimport { RoleContext } from '../../../../../Context';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { roleIdSuperAdmin, roleIdAdmin, roleIdProfessor, roleIdStudent, roleIdDirector, roleIdParent, roleIdSupervisor } from '../../../../../config/config';\nlet userList = [{\n  name: \"admin1\",\n  surname: \"admin1\",\n  gender: \"male\",\n  dateOfBirth: \"2021/01/05\",\n  address: \"cité el woroud\",\n  phone: \"+21698745632\",\n  cin: \"12345678\",\n  zipCode: \"3214\",\n  country: \"Sidi bouzid\",\n  urlPhoto: \"aaaaa\",\n  name_ar: \"\",\n  surname_ar: \"\",\n  nationality: \"Tunisien\",\n  placeOfBirth: \"Sidi buouzid\",\n  email: \"admin@gmail.com\",\n  roleId: 1,\n  establishmentId: 8,\n  inforamtionsParent: [],\n  inforamtionsStudent: [],\n  inforamtionsProf: [],\n  schoolYearId: \"2020/2021\",\n  paperFiles: [],\n  functionName: \"\",\n  id: 1\n}, {\n  name: \"parent1\",\n  surname: \"parent1\",\n  gender: \"male\",\n  dateOfBirth: \"2002/01/05\",\n  address: \"cité el kawafel\",\n  phone: \"+21698745632\",\n  cin: \"12345678\",\n  zipCode: \"3214\",\n  country: \"Sidi bouzid\",\n  urlPhoto: \"aaaaa\",\n  name_ar: \"\",\n  surname_ar: \"\",\n  nationality: \"Tunisien\",\n  placeOfBirth: \"Sidi buouzid\",\n  email: \"admin@gmail.com\",\n  roleId: 1,\n  establishmentId: 8,\n  inforamtionsParent: [{\n    studentName: \"marco\",\n    studentLastName: \"ouni\",\n    studentClassRomm: \"Bac math\",\n    studentId: 5,\n    parentId: 8\n  }],\n  inforamtionsStudent: [],\n  inforamtionsProf: [],\n  schoolYearId: \"2020/2021\",\n  paperFiles: [],\n  functionName: \"\",\n  id: 2\n}, {\n  name: \"student1\",\n  surname: \"student1\",\n  gender: \"male\",\n  dateOfBirth: \"2014/01/05\",\n  address: \"cité el woroud\",\n  phone: \"+21698745632\",\n  cin: \"12345678\",\n  zipCode: \"3214\",\n  country: \"Sidi bouzid\",\n  urlPhoto: \"aaaaa\",\n  name_ar: \"\",\n  surname_ar: \"\",\n  nationality: \"Tunisien\",\n  placeOfBirth: \"Sidi buouzid\",\n  email: \"student@gmail.com\",\n  roleId: 1,\n  establishmentId: 8,\n  inforamtionsParent: [],\n  inforamtionsStudent: [{\n    parentName: \"mounir\",\n    parentLastName: \"ouni\",\n    parenttId: 3,\n    studentId: 5\n  }],\n  inforamtionsProf: [],\n  schoolYearId: \"2020/2021\",\n  paperFiles: [],\n  functionName: \"\",\n  id: 3\n}, {\n  name: \"vie scolaire 1\",\n  surname: \"vie scolaire 1\",\n  gender: \"male\",\n  dateOfBirth: \"1997/01/07\",\n  address: \"cité el rawabi\",\n  phone: \"+21698745022\",\n  cin: \"12345678\",\n  zipCode: \"3214\",\n  country: \"Sidi bouzid\",\n  urlPhoto: \"aaaaa\",\n  name_ar: \"\",\n  surname_ar: \"\",\n  nationality: \"Tunisien\",\n  placeOfBirth: \"Sidi buouzid\",\n  email: \"vie scolaire@gmail.com\",\n  roleId: 1,\n  establishmentId: 8,\n  inforamtionsParent: [],\n  inforamtionsStudent: [],\n  inforamtionsProf: [],\n  schoolYearId: \"2020/2021\",\n  paperFiles: [],\n  functionName: \"Serviallant\",\n  id: 4\n}, {\n  name: \"prof1\",\n  surname: \"prof1\",\n  gender: \"male\",\n  dateOfBirth: \"1997/01/07\",\n  address: \"cité el rawabi\",\n  phone: \"+21698745022\",\n  cin: \"12345678\",\n  zipCode: \"3214\",\n  country: \"Sidi bouzid\",\n  urlPhoto: \"aaaaa\",\n  name_ar: \"\",\n  surname_ar: \"\",\n  nationality: \"Tunisien\",\n  placeOfBirth: \"Sidi buouzid\",\n  email: \"prof@gmail.com\",\n  roleId: 1,\n  establishmentId: 8,\n  inforamtionsParent: [],\n  inforamtionsStudent: [],\n  inforamtionsProf: [{\n    idAssignnement: [1, 2],\n    calssName: [\"Bac math\", \"3 ieme année\"],\n    ClassId: [20, 21],\n    subjectName: [\"arabe\", \"math\"],\n    subjectId: [8, 7]\n  }],\n  schoolYearId: \"2020/2021\",\n  paperFiles: [],\n  functionName: \"\",\n  id: 5\n}];\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeStudentClass = selectedOption => {\n      this.setState({\n        studentClass: selectedOption.id\n      });\n    };\n\n    this.handleChangeAlerte = name => {\n      this.setState({\n        sessionExist: true,\n        messageAlerte: 'Il existe déja une licence pour cet etablissement'\n      });\n      setTimeout(() => {\n        this.setState({\n          sessionExist: false,\n          messageAlerte: ''\n        });\n      }, 4000);\n    };\n\n    this.handleChangeEducationType = name => event => {\n      let obj = JSON.parse(event.target.value);\n      this.setState({\n        educationItem: obj,\n        educationTypeId: obj.id\n      });\n    };\n\n    this.handleChangePhone = value => {\n      this.setState({\n        userPhoneNumber: value\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleChangeBirthdayDate = date => {\n      this.setState({\n        birthdayDate: date\n      });\n    };\n\n    this.handleChangeRole = selectedOption => {\n      if (selectedOption.id == roleIdStudent) {\n        this.setState({\n          birthdayDate: moment().year() - 6 + '-01-01'\n        });\n      }\n\n      this.setState({\n        roleId: selectedOption.id,\n        roleName: selectedOption.label\n      });\n    };\n\n    this.handleChangeSchoolYear = selectedOption => {\n      this.setState({\n        schoolyearId: selectedOption.id\n      });\n    };\n\n    this.handleChangeClassRoom = selectedOption => {\n      this.setState({\n        classRoomId: selectedOption.id,\n        subjectId: '',\n        subjectItem: {}\n      });\n      let subjectsList = [];\n      this.props.courseAssignment.map(element => {\n        if (element.fk_id_class_v4 === selectedOption.id) {\n          var object = {};\n          object.label = element.subject.name;\n          object.id = element.id;\n          object.value = element.id;\n          subjectsList.push(object);\n        }\n      });\n      this.setState({\n        subjectsList\n      });\n    };\n\n    this.handleChangeSubject = selectedOption => {\n      this.setState({\n        subjectId: selectedOption.id,\n        subjectItem: selectedOption\n      });\n    };\n\n    this.handleChangeParent = selectedOption => {\n      this.setState({\n        parentId: selectedOption.id\n      });\n    };\n\n    this.handleChangeStudent = selectedOption => {\n      this.setState({\n        studentId: selectedOption.id\n      });\n    };\n\n    this.handleChangeCountries = selectedOption => {\n      this.setState({\n        userCountry: selectedOption.id\n      });\n    };\n\n    this.handleChangeEstablishments = selectedOption => {\n      this.setState({\n        establishmentId: selectedOption.id\n      });\n    };\n\n    this.handleChangeFunctions = selectedOption => {\n      this.setState({\n        functionName: selectedOption.label\n      });\n    };\n\n    this.uploadPhoto = e => {\n      if (e.target.files[0] !== undefined) {\n        let file = e.target.files[0];\n        this.setState({\n          userPhoto: file,\n          photoText: file.name\n        });\n      } else {\n        this.setState({\n          messageAlerte: \"Vous n'avez pas choisir une photo\",\n          alerteFiltre: true\n        });\n        setTimeout(() => {\n          this.setState({\n            messageAlerte: '',\n            alerteFiltre: false\n          });\n        }, 4000);\n      }\n    };\n\n    this.openArchive = () => {\n      this.setState(previousState => ({\n        openArchive: !previousState.openArchive\n      }));\n    };\n\n    this.state = {\n      listRoles: [],\n      listSchoolYears: [],\n      roleId: '',\n      roleName: '',\n      schoolyearId: '',\n      classRoomId: '',\n      subjectId: '',\n      parentId: '',\n      studentId: '',\n      userName: '',\n      userLastName: '',\n      userNationnality: '',\n      userCIN: '',\n      userID: '',\n      userMail: '',\n      userPhoneNumber: '',\n      userAdress: '',\n      userCountry: '',\n      userZipCode: '',\n      userPhoto: '',\n      userGender: '',\n      birthdayDate: moment().year() - 18 + '-01-01',\n      birthdayPlace: '',\n      countriesList: [],\n      UsefulInformation: '',\n      userPapiersFiles: [],\n      nameUserPapiersFiles: [],\n      isOpen: false,\n      openArchive: false,\n      start_date: new Date(),\n      end_date: new Date(),\n      isOpenArchive: false,\n      messageAlerte: '',\n      photoText: '',\n      nameFiles: [],\n      establishmentsList: [],\n      establishmentId: '',\n      classRoomList: [],\n      subjectsList: [],\n      classForStudent: [],\n      studentClass: '',\n      functionName: '',\n      missingValue: false,\n      alertMessage: '',\n      subjectItem: {}\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n    this.handleChangeBirthdayDate = this.handleChangeBirthdayDate.bind(this);\n    this.openArchiveModal = this.openArchiveModal.bind(this);\n    this.handleChangeAlerte = this.handleChangeAlerte.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeSchoolYear = this.handleChangeSchoolYear.bind(this);\n    this.handleChangeClassRoom = this.handleChangeClassRoom.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.handleChangeParent = this.handleChangeParent.bind(this);\n    this.handleChangeStudent = this.handleChangeStudent.bind(this);\n    this.handleChangeCountries = this.handleChangeCountries.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.uploadPhoto = this.uploadPhoto.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n    this.handleChangeEstablishments = this.handleChangeEstablishments.bind(this);\n    this.handleChangeStudentClass = this.handleChangeStudentClass.bind(this);\n    this.handleChangeFunctions = this.handleChangeFunctions.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n  }\n\n  openArchiveModal() {\n    this.setState(previousState => ({\n      isOpenArchive: !previousState.isOpenArchive\n    }));\n  }\n\n  handleCancel() {\n    this.setState({\n      isOpen: false\n    });\n  } // openAddModal() {\n  //   this.setState({ isOpen: true });\n  // }\n\n\n  openAddModal() {\n    this.setState(previousState => ({\n      isOpen: !previousState.isOpen\n    }));\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.state.roleId === '' || this.state.schoolyearId === '') {\n      this.setState({\n        missingValue: true,\n        alertMessage: 'Il faut remplir les champs obligatoires '\n      });\n      setTimeout(() => {\n        this.setState({\n          alertMessage: '',\n          missingValue: false\n        });\n      }, 4000);\n    } else {\n      if (this.state.roleId === roleIdProfessor && this.state.subjectId === '') {\n        this.setState({\n          missingValue: true,\n          alertMessage: 'Il faut affecter une classe et une matiére pour le professeur '\n        });\n        setTimeout(() => {\n          this.setState({\n            alertMessage: '',\n            missingValue: false\n          });\n        }, 4000);\n      } else {\n        this.openAddModal();\n        let data = {\n          name: this.state.userName,\n          surname: this.state.userLastName,\n          gender: this.state.userGender,\n          dateOfBirth: this.state.birthdayDate,\n          placeOfBirth: this.state.birthdayPlace,\n          address: this.state.userAdress,\n          nationality: this.state.userNationnality,\n          phone: this.state.userPhoneNumber,\n          status: true,\n          cin: this.state.userCIN,\n          zipCode: this.state.userZipCode,\n          userCountry: this.state.userCountry,\n          userPhoto: this.state.userPhoto,\n          userPapiersFiles: this.state.userPapiersFiles,\n          name_ar: 'string',\n          surname_ar: 'string',\n          email: this.state.userMail,\n          roleId: this.state.roleId,\n          establishmentId: this.state.establishmentId,\n          assignClassSubject: this.state.subjectId,\n          studentClass: this.state.studentClass,\n          schoolyearId: this.state.schoolyearId,\n          functionName: this.state.functionName\n        };\n        this.props.addUsers(data);\n        this.setState({\n          userName: \"\",\n          userLastName: \"\",\n          userGender: \"\",\n          birthdayDate: moment().year() - 18 + \"-01-01\",\n          birthdayPlace: \"\",\n          userAdress: \"\",\n          userNationnality: \"\",\n          userPhoneNumber: \"\",\n          status: true,\n          userCIN: \"\",\n          userZipCode: \"\",\n          userPhoto: \"\",\n          userPapiersfiles: [],\n          userCountry: \"\",\n          name_ar: \"\",\n          surname_ar: \"\",\n          userMail: \"\",\n          establishmentId: this.props.userProfile.establishment_id,\n          schoolyearId: null,\n          studentClass: null,\n          subjectId: null,\n          functionName: \"\"\n        });\n      }\n    }\n  }\n\n  handleArchive(event) {\n    event.preventDefault();\n    this.openAddModal();\n    this.setState({});\n  }\n\n  attachFile(e) {\n    var oldFiles = this.state.userPapiersFiles;\n    var files = Object.values(e.target.files);\n    var nameFiles = this.state.nameUserPapiersFiles;\n\n    if (files !== undefined && this.state.nameUserPapiersFiles.length + files.length < 6) {\n      files.map(element => {\n        nameFiles.push(element.name);\n        oldFiles.push(element);\n      });\n      this.setState({\n        userPapiersfiles: oldFiles,\n        nameFiles\n      });\n    } else {\n      this.setState({\n        messageAlerte: 'vous avez dépasser 5 fichiers',\n        alerteStatus: true\n      });\n      setTimeout(() => {\n        this.setState({\n          messageAlerte: '',\n          alerteStatus: false\n        });\n      }, 4000);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.ClassSettings !== this.props.ClassSettings) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        classForStudent\n      });\n    }\n\n    if (prevProps.courseAssignment !== this.props.courseAssignment) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map(element => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, 'id');\n\n      this.setState({\n        classRoomList: classRoomListFiltredByID\n      });\n    }\n\n    if (prevProps.usersReducer !== this.props.usersReducer) {\n      let listRoles = [];\n      listRoles = this.props.usersReducer.roles.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n\n      if (this.props.userProfile.role_id !== 1) {\n        let filtredRoles = [];\n        filtredRoles = listRoles.filter(element => element.id !== 1);\n        this.setState({\n          listRoles: filtredRoles\n        });\n      } else {\n        this.setState({\n          listRoles: listRoles\n        });\n      }\n    }\n\n    if (prevProps.userProfile.establishment_id !== this.props.userProfile.establishment_id) {\n      this.setState({\n        establishmentId: this.props.userProfile.establishment_id\n      });\n    }\n\n    if (prevProps.establishments !== this.props.establishments) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        establishmentsList\n      });\n    }\n\n    if (prevProps.schoolYearEtabs !== this.props.schoolYearEtabs) {\n      let listSchoolYears = [];\n      listSchoolYears = this.props.schoolYearEtabs.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.startDate = element.start_date;\n        object.endtDate = element.end_date;\n        return object;\n      });\n      let countriesListUser = [];\n      countriesListUser = countriesList.countriesList.map(element => {\n        var object = {};\n        object.label = element.name_fr;\n        object.id = element.code;\n        object.value = element.code;\n        return object;\n      });\n      this.setState({\n        listSchoolYears: listSchoolYears,\n        countriesList: countriesListUser\n      });\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    this.props.getAllRole();\n    this.props.getSchoolYearEtabs();\n  }\n\n  componentDidMount() {\n    if (this.props.establishments != undefined) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        establishmentsList,\n        establishmentId: this.props.userProfile.establishment_id\n      });\n    }\n\n    if (this.props.ClassSettings != undefined) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map(element => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        classForStudent\n      });\n    }\n\n    if (this.props.courseAssignment != undefined) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map(element => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, 'id');\n\n      this.setState({\n        classRoomList: classRoomListFiltredByID\n      });\n    }\n  }\n\n  render() {\n    console.log(\"userPhoto\", this.state.userPhoto);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      style: {\n        marginLeft: '5%',\n        marginRight: '10%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"  d-flex flex-column mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 9\n      }\n    }, this.state.missingValue ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-danger text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 15\n      }\n    }, \" \", this.state.alertMessage, \" \")) : '', this.props.successStatus ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 15\n      }\n    }, \" \", this.props.message, \" \")) : '', /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: '90%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 col-sm-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AddUsers, {\n      openAddModal: this.openAddModal,\n      handleCancel: this.handleCancel,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      handleArchive: this.handleArchive,\n      handleChangeRole: this.handleChangeRole,\n      handleChangeSchoolYear: this.handleChangeSchoolYear,\n      handleChangeClassRoom: this.handleChangeClassRoom,\n      handleChangeBirthdayDate: this.handleChangeBirthdayDate,\n      handleChangeSubject: this.handleChangeSubject,\n      handleChangeParent: this.handleChangeParent,\n      handleChangeStudent: this.handleChangeStudent,\n      handleChangeCountries: this.handleChangeCountries,\n      handleChangeStudentClass: this.handleChangeStudentClass,\n      attachFile: this.attachFile,\n      uploadPhoto: this.uploadPhoto,\n      openArchive: this.openArchive,\n      handleChangeEstablishments: this.handleChangeEstablishments,\n      handleChangeFunctions: this.handleChangeFunctions,\n      handleChangePhone: this.handleChangePhone,\n      values: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 11\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"add-service\",\n      yes: () => /*#__PURE__*/React.createElement(React.Fragment, null, this.state.openArchive ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(ArchiveUsers, {\n        openArchive: this.openArchive,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 25\n        }\n      })) : ''),\n      establishements: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 15\n      }\n    })), !this.state.openArchive ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight\",\n      style: {\n        width: '90%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 col-sm-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(UsersList, {\n      userList: userList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 17\n      }\n    }))) : ''));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    usersReducer: state.usersReducer,\n    userProfile: state.auth.userProfile,\n    establishments: state.establishment.remoteEstablishments,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n    courseAssignment: state.AssignementReducer.courseAssignment,\n    ClassSettings: state.ClassSettingsReducer.classSettings\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAllRole,\n  getSchoolYearEtabs,\n  addUsers\n})(Users);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/UsersManagement/Users.js"],"names":["React","CardBox","connect","ArchiveUsers","UsersList","UncontrolledAlert","AddUsers","getAllRole","getSchoolYearEtabs","countriesList","addUsers","Can","RoleContext","_","moment","roleIdSuperAdmin","roleIdAdmin","roleIdProfessor","roleIdStudent","roleIdDirector","roleIdParent","roleIdSupervisor","userList","name","surname","gender","dateOfBirth","address","phone","cin","zipCode","country","urlPhoto","name_ar","surname_ar","nationality","placeOfBirth","email","roleId","establishmentId","inforamtionsParent","inforamtionsStudent","inforamtionsProf","schoolYearId","paperFiles","functionName","id","studentName","studentLastName","studentClassRomm","studentId","parentId","parentName","parentLastName","parenttId","idAssignnement","calssName","ClassId","subjectName","subjectId","Users","Component","constructor","props","handleChangeStudentClass","selectedOption","setState","studentClass","handleChangeAlerte","sessionExist","messageAlerte","setTimeout","handleChangeEducationType","event","obj","JSON","parse","target","value","educationItem","educationTypeId","handleChangePhone","userPhoneNumber","handleChange","handleChangeBirthdayDate","date","birthdayDate","handleChangeRole","year","roleName","label","handleChangeSchoolYear","schoolyearId","handleChangeClassRoom","classRoomId","subjectItem","subjectsList","courseAssignment","map","element","fk_id_class_v4","object","subject","push","handleChangeSubject","handleChangeParent","handleChangeStudent","handleChangeCountries","userCountry","handleChangeEstablishments","handleChangeFunctions","uploadPhoto","e","files","undefined","file","userPhoto","photoText","alerteFiltre","openArchive","previousState","state","listRoles","listSchoolYears","userName","userLastName","userNationnality","userCIN","userID","userMail","userAdress","userZipCode","userGender","birthdayPlace","UsefulInformation","userPapiersFiles","nameUserPapiersFiles","isOpen","start_date","Date","end_date","isOpenArchive","nameFiles","establishmentsList","classRoomList","classForStudent","missingValue","alertMessage","openAddModal","bind","handleCancel","handleSubmit","handleArchive","openArchiveModal","attachFile","preventDefault","data","status","assignClassSubject","userPapiersfiles","userProfile","establishment_id","oldFiles","Object","values","length","alerteStatus","componentDidUpdate","prevProps","ClassSettings","class","classRoomListFiltredByID","uniqBy","usersReducer","roles","role_id","filtredRoles","filter","establishments","schoolYearEtabs","startDate","endtDate","countriesListUser","name_fr","code","UNSAFE_componentWillMount","componentDidMount","render","console","log","marginLeft","marginRight","successStatus","message","width","role","mapStateToProps","auth","establishment","remoteEstablishments","alert","success","errorStatus","error","schoolYearEtab","remoteSchoolYearEtab","AssignementReducer","ClassSettingsReducer","classSettings"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport { connect } from 'react-redux';\nimport ArchiveUsers from './ArchiveUsers';\nimport UsersList from './UsersList';\nimport { UncontrolledAlert } from 'reactstrap';\nimport AddUsers from './AddUsers';\nimport { getAllRole } from '../../../../../actions/usersAction';\nimport { getSchoolYearEtabs } from '../../../../../actions/SchoolYearEtabAction';\nimport countriesList from '../../../../../constants/const';\nimport { addUsers } from '../../../../../actions/usersAction';\nimport Can from '../../../../../can';\nimport { RoleContext } from '../../../../../Context';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport {\n  roleIdSuperAdmin,\n  roleIdAdmin,\n  roleIdProfessor,\n  roleIdStudent,\n  roleIdDirector,\n  roleIdParent,\n  roleIdSupervisor,\n} from '../../../../../config/config';\nlet userList=\n[\n{\n  name: \"admin1\" ,\n  surname: \"admin1\" ,\n  gender: \"male\" ,\n  dateOfBirth: \"2021/01/05\" ,\n  address: \"cité el woroud\",\n  phone: \"+21698745632\" ,\n  cin: \"12345678\",\n  zipCode: \"3214\" ,\n  country:\"Sidi bouzid\" ,\n  urlPhoto: \"aaaaa\",\n  name_ar: \"\",\n  surname_ar: \"\",\n  nationality: \"Tunisien\",\n  placeOfBirth: \"Sidi buouzid\",\n  email: \"admin@gmail.com\",\n  roleId: 1,\n  establishmentId: 8,\n  inforamtionsParent:[ ],\n  inforamtionsStudent:[ ],\n  inforamtionsProf:[ ],\n  schoolYearId: \"2020/2021\",\n  paperFiles: [],\n  functionName:\"\",\n  id:1\n  },\n  {\n    name: \"parent1\" ,\n    surname: \"parent1\" ,\n    gender: \"male\" ,\n    dateOfBirth: \"2002/01/05\" ,\n    address: \"cité el kawafel\",\n    phone: \"+21698745632\" ,\n    cin: \"12345678\",\n    zipCode: \"3214\" ,\n    country:\"Sidi bouzid\" ,\n    urlPhoto: \"aaaaa\",\n    name_ar: \"\",\n    surname_ar: \"\",\n    nationality: \"Tunisien\",\n    placeOfBirth: \"Sidi buouzid\",\n    email: \"admin@gmail.com\",\n    roleId: 1,\n    establishmentId: 8,\n    inforamtionsParent:[{studentName:\"marco\",studentLastName:\"ouni\",studentClassRomm:\"Bac math\",studentId:5,parentId:8}],\n    inforamtionsStudent:[],\n    inforamtionsProf:[],\n    schoolYearId: \"2020/2021\",\n    paperFiles: [],\n    functionName:\"\",\n    id:2\n\n    },\n    {\n      name: \"student1\" ,\n      surname: \"student1\" ,\n      gender: \"male\" ,\n      dateOfBirth: \"2014/01/05\" ,\n      address: \"cité el woroud\",\n      phone: \"+21698745632\" ,\n      cin: \"12345678\",\n      zipCode: \"3214\" ,\n      country:\"Sidi bouzid\" ,\n      urlPhoto: \"aaaaa\",\n      name_ar: \"\",\n      surname_ar: \"\",\n      nationality: \"Tunisien\",\n      placeOfBirth: \"Sidi buouzid\",\n      email: \"student@gmail.com\",\n      roleId: 1,\n      establishmentId: 8,\n      inforamtionsParent:[],\n      inforamtionsStudent:[{parentName:\"mounir\",parentLastName:\"ouni\",parenttId:3,studentId:5}],\n      inforamtionsProf:[ ],\n      schoolYearId: \"2020/2021\",\n      paperFiles: [],\n      functionName:\"\",\n      id:3\n\n      },\n      {\n        name: \"vie scolaire 1\" ,\n        surname: \"vie scolaire 1\" ,\n        gender: \"male\" ,\n        dateOfBirth: \"1997/01/07\" ,\n        address: \"cité el rawabi\",\n        phone: \"+21698745022\" ,\n        cin: \"12345678\",\n        zipCode: \"3214\" ,\n        country:\"Sidi bouzid\" ,\n        urlPhoto: \"aaaaa\",\n        name_ar: \"\",\n        surname_ar: \"\",\n        nationality: \"Tunisien\",\n        placeOfBirth: \"Sidi buouzid\",\n        email: \"vie scolaire@gmail.com\",\n        roleId: 1,\n        establishmentId: 8,\n        inforamtionsParent:[],\n        inforamtionsStudent:[ ],\n        inforamtionsProf:[],\n        schoolYearId: \"2020/2021\",\n        paperFiles: [],\n        functionName:\"Serviallant\",\n        id:4\n        },\n        {\n          name: \"prof1\" ,\n          surname: \"prof1\" ,\n          gender: \"male\" ,\n          dateOfBirth: \"1997/01/07\" ,\n          address: \"cité el rawabi\",\n          phone: \"+21698745022\" ,\n          cin: \"12345678\",\n          zipCode: \"3214\" ,\n          country:\"Sidi bouzid\" ,\n          urlPhoto: \"aaaaa\",\n          name_ar: \"\",\n          surname_ar: \"\",\n          nationality: \"Tunisien\",\n          placeOfBirth: \"Sidi buouzid\",\n          email: \"prof@gmail.com\",\n          roleId: 1,\n          establishmentId: 8,\n          inforamtionsParent:[],\n          inforamtionsStudent:[ ],\n          inforamtionsProf:[{idAssignnement:[1,2],calssName:[\"Bac math\",\"3 ieme année\"],ClassId:[20,21],subjectName:[\"arabe\",\"math\"],subjectId:[8,7]}],\n          schoolYearId: \"2020/2021\",\n          paperFiles: [],\n          functionName:\"\",\n          id:5\n          },\n]\n class Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listRoles: [],\n      listSchoolYears: [],\n      roleId: '',\n      roleName: '',\n      schoolyearId: '',\n      classRoomId: '',\n      subjectId: '',\n      parentId: '',\n      studentId: '',\n      userName: '',\n      userLastName: '',\n      userNationnality: '',\n      userCIN: '',\n      userID: '',\n      userMail: '',\n      userPhoneNumber: '',\n      userAdress: '',\n      userCountry: '',\n      userZipCode: '',\n      userPhoto: '',\n      userGender: '',\n      birthdayDate: moment().year() - 18 + '-01-01',\n      birthdayPlace: '',\n      countriesList: [],\n      UsefulInformation: '',\n      userPapiersFiles: [],\n      nameUserPapiersFiles: [],\n      isOpen: false,\n      openArchive: false,\n      start_date: new Date(),\n      end_date: new Date(),\n      isOpenArchive: false,\n      messageAlerte: '',\n      photoText: '',\n      nameFiles: [],\n      establishmentsList: [],\n      establishmentId: '',\n      classRoomList: [],\n      subjectsList: [],\n      classForStudent: [],\n      studentClass: '',\n      functionName: '',\n      missingValue: false,\n      alertMessage: '',\n      subjectItem: {},\n    };\n    this.openAddModal = this.openAddModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleArchive = this.handleArchive.bind(this);\n    this.handleChangeBirthdayDate = this.handleChangeBirthdayDate.bind(this);\n    this.openArchiveModal = this.openArchiveModal.bind(this);\n    this.handleChangeAlerte = this.handleChangeAlerte.bind(this);\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeSchoolYear = this.handleChangeSchoolYear.bind(this);\n    this.handleChangeClassRoom = this.handleChangeClassRoom.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.handleChangeParent = this.handleChangeParent.bind(this);\n    this.handleChangeStudent = this.handleChangeStudent.bind(this);\n    this.handleChangeCountries = this.handleChangeCountries.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.uploadPhoto = this.uploadPhoto.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n    this.handleChangeEstablishments = this.handleChangeEstablishments.bind(this);\n    this.handleChangeStudentClass = this.handleChangeStudentClass.bind(this);\n    this.handleChangeFunctions = this.handleChangeFunctions.bind(this);\n    this.handleChangePhone = this.handleChangePhone.bind(this);\n  }\n  handleChangeStudentClass = (selectedOption) => {\n    this.setState({\n      studentClass: selectedOption.id,\n    });\n  };\n  handleChangeAlerte = (name) => {\n    this.setState({\n      sessionExist: true,\n      messageAlerte: 'Il existe déja une licence pour cet etablissement',\n    });\n    setTimeout(() => {\n      this.setState({ sessionExist: false, messageAlerte: '' });\n    }, 4000);\n  };\n  handleChangeEducationType = (name) => (event) => {\n    let obj = JSON.parse(event.target.value);\n\n    this.setState({ educationItem: obj, educationTypeId: obj.id });\n  };\n  openArchiveModal() {\n    this.setState((previousState) => ({\n      isOpenArchive: !previousState.isOpenArchive,\n    }));\n  }\n  handleCancel() {\n    this.setState({ isOpen: false });\n  }\n  // openAddModal() {\n  //   this.setState({ isOpen: true });\n  // }\n  openAddModal() {\n    this.setState((previousState) => ({\n      isOpen: !previousState.isOpen,\n    }));\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    if (this.state.roleId === '' || this.state.schoolyearId === '') {\n      this.setState({\n        missingValue: true,\n        alertMessage: 'Il faut remplir les champs obligatoires ',\n      });\n      setTimeout(() => {\n        this.setState({ alertMessage: '', missingValue: false });\n      }, 4000);\n    } else {\n      if (this.state.roleId === roleIdProfessor && this.state.subjectId === '') {\n        this.setState({\n          missingValue: true,\n          alertMessage: 'Il faut affecter une classe et une matiére pour le professeur ',\n        });\n        setTimeout(() => {\n          this.setState({ alertMessage: '', missingValue: false });\n        }, 4000);\n      } else {\n        this.openAddModal();\n        let data = {\n          name: this.state.userName,\n          surname: this.state.userLastName,\n          gender: this.state.userGender,\n          dateOfBirth: this.state.birthdayDate,\n          placeOfBirth: this.state.birthdayPlace,\n          address: this.state.userAdress,\n          nationality: this.state.userNationnality,\n          phone: this.state.userPhoneNumber,\n          status: true,\n          cin: this.state.userCIN,\n          zipCode: this.state.userZipCode,\n          userCountry: this.state.userCountry,\n          userPhoto: this.state.userPhoto,\n          userPapiersFiles: this.state.userPapiersFiles,\n          name_ar: 'string',\n          surname_ar: 'string',\n          email: this.state.userMail,\n          roleId: this.state.roleId,\n          establishmentId: this.state.establishmentId,\n          assignClassSubject: this.state.subjectId,\n          studentClass: this.state.studentClass,\n          schoolyearId: this.state.schoolyearId,\n          functionName: this.state.functionName,\n        };\n        this.props.addUsers(data);\n         this.setState({\n          userName: \"\",\n          userLastName: \"\",\n          userGender: \"\",\n          birthdayDate: moment().year() - 18 + \"-01-01\",\n          birthdayPlace: \"\",\n          userAdress: \"\",\n          userNationnality: \"\",\n          userPhoneNumber: \"\",\n          status: true,\n          userCIN: \"\",\n          userZipCode: \"\",\n          userPhoto: \"\",\n          userPapiersfiles: [],\n          userCountry: \"\",\n          name_ar: \"\",\n          surname_ar: \"\",\n          userMail: \"\",\n          establishmentId: this.props.userProfile.establishment_id,\n          schoolyearId:null,\n          studentClass:null,\n          subjectId:null,\n          functionName:\"\"\n        }); \n      }\n    }\n  }\n  handleChangePhone = (value) => {\n    this.setState({ userPhoneNumber: value });\n  };\n  handleArchive(event) {\n    event.preventDefault();\n    this.openAddModal();\n    this.setState({});\n  }\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n  };\n  handleChangeBirthdayDate = (date) => {\n    this.setState({ birthdayDate: date });\n  };\n  handleChangeRole = (selectedOption) => {\n    if (selectedOption.id == roleIdStudent) {\n      this.setState({\n        birthdayDate: moment().year() - 6 + '-01-01',\n      });\n    }\n    this.setState({\n      roleId: selectedOption.id,\n      roleName: selectedOption.label,\n    });\n  };\n  handleChangeSchoolYear = (selectedOption) => {\n    this.setState({ schoolyearId: selectedOption.id });\n  };\n  handleChangeClassRoom = (selectedOption) => {\n    this.setState({ classRoomId: selectedOption.id, subjectId: '', subjectItem: {} });\n    let subjectsList = [];\n    this.props.courseAssignment.map((element) => {\n      if (element.fk_id_class_v4 === selectedOption.id) {\n        var object = {};\n        object.label = element.subject.name;\n        object.id = element.id;\n        object.value = element.id;\n        subjectsList.push(object);\n      }\n    });\n    this.setState({ subjectsList });\n  };\n  handleChangeSubject = (selectedOption) => {\n    this.setState({ subjectId: selectedOption.id, subjectItem: selectedOption });\n  };\n  handleChangeParent = (selectedOption) => {\n    this.setState({ parentId: selectedOption.id });\n  };\n  handleChangeStudent = (selectedOption) => {\n    this.setState({ studentId: selectedOption.id });\n  };\n  handleChangeCountries = (selectedOption) => {\n    this.setState({ userCountry: selectedOption.id });\n  };\n  handleChangeEstablishments = (selectedOption) => {\n    this.setState({ establishmentId: selectedOption.id });\n  };\n  handleChangeFunctions = (selectedOption) => {\n    this.setState({ functionName: selectedOption.label });\n  };\n  attachFile(e) {\n    var oldFiles = this.state.userPapiersFiles;\n    var files = Object.values(e.target.files);\n    var nameFiles = this.state.nameUserPapiersFiles;\n    if (files !== undefined && this.state.nameUserPapiersFiles.length + files.length < 6) {\n      files.map((element) => {\n        nameFiles.push(element.name);\n        oldFiles.push(element);\n      });\n      this.setState({ userPapiersfiles: oldFiles, nameFiles });\n    } else {\n      this.setState({\n        messageAlerte: 'vous avez dépasser 5 fichiers',\n        alerteStatus: true,\n      });\n      setTimeout(() => {\n        this.setState({ messageAlerte: '', alerteStatus: false });\n      }, 4000);\n    }\n  }\n  uploadPhoto = (e) => {\n    if (e.target.files[0] !== undefined) {\n      let file = e.target.files[0];\n      this.setState({ userPhoto: file, photoText: file.name });\n    } else {\n      this.setState({\n        messageAlerte: \"Vous n'avez pas choisir une photo\",\n        alerteFiltre: true,\n      });\n      setTimeout(() => {\n        this.setState({ messageAlerte: '', alerteFiltre: false });\n      }, 4000);\n    }\n  };\n  openArchive = () => {\n    this.setState((previousState) => ({\n      openArchive: !previousState.openArchive,\n    }));\n  };\n  componentDidUpdate(prevProps) {\n    if (prevProps.ClassSettings !== this.props.ClassSettings) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({ classForStudent });\n    }\n    if (prevProps.courseAssignment !== this.props.courseAssignment) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map((element) => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, 'id');\n      this.setState({ classRoomList: classRoomListFiltredByID });\n    }\n\n    if (prevProps.usersReducer !== this.props.usersReducer) {\n      let listRoles = [];\n      listRoles = this.props.usersReducer.roles.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      if (this.props.userProfile.role_id !== 1) {\n        let filtredRoles = [];\n        filtredRoles = listRoles.filter((element) => element.id !== 1);\n        this.setState({ listRoles: filtredRoles });\n      } else {\n        this.setState({ listRoles: listRoles });\n      }\n    }\n\n    if (prevProps.userProfile.establishment_id !== this.props.userProfile.establishment_id) {\n      this.setState({\n        establishmentId: this.props.userProfile.establishment_id,\n      });\n    }\n\n    if (prevProps.establishments !== this.props.establishments) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({ establishmentsList });\n    }\n\n    if (prevProps.schoolYearEtabs !== this.props.schoolYearEtabs) {\n      let listSchoolYears = [];\n      listSchoolYears = this.props.schoolYearEtabs.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        object.startDate = element.start_date;\n        object.endtDate = element.end_date;\n        return object;\n      });\n      let countriesListUser = [];\n      countriesListUser = countriesList.countriesList.map((element) => {\n        var object = {};\n        object.label = element.name_fr;\n        object.id = element.code;\n        object.value = element.code;\n        return object;\n      });\n      this.setState({\n        listSchoolYears: listSchoolYears,\n        countriesList: countriesListUser,\n      });\n    }\n  }\n  UNSAFE_componentWillMount() {\n    this.props.getAllRole();\n    this.props.getSchoolYearEtabs();\n  }\n  componentDidMount() {\n    if (this.props.establishments != undefined) {\n      let establishmentsList = [];\n      establishmentsList = this.props.establishments.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({\n        establishmentsList,\n        establishmentId: this.props.userProfile.establishment_id,\n      });\n    }\n    if (this.props.ClassSettings != undefined) {\n      let classForStudent = [];\n      classForStudent = this.props.ClassSettings.map((element) => {\n        var object = {};\n        object.label = element.name;\n        object.id = element.id;\n        object.value = element.id;\n        return object;\n      });\n      this.setState({ classForStudent });\n    }\n    if (this.props.courseAssignment != undefined) {\n      let classRoomList = [];\n      classRoomList = this.props.courseAssignment.map((element) => {\n        var object = {};\n        object.label = element.class.name;\n        object.id = element.class.id;\n        object.value = element.class.id;\n        return object;\n      });\n      let classRoomListFiltredByID = _.uniqBy(classRoomList, 'id');\n      this.setState({ classRoomList: classRoomListFiltredByID });\n    }\n  }\n\n  render() {\n    console.log(\"userPhoto\",this.state.userPhoto)\n    return (\n      <div\n        className=\"app-wrapper\"\n        style={{\n          marginLeft: '5%',\n          marginRight: '10%',\n        }}\n      >\n        <div className=\"  d-flex flex-column mb-3\">\n          {this.state.missingValue ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-danger text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.state.alertMessage} </span>\n            </UncontrolledAlert>\n          ) : (\n            ''\n          )}\n          {this.props.successStatus ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\"> {this.props.message} </span>\n            </UncontrolledAlert>\n          ) : (\n            ''\n          )}\n          <div className=\" bd-highlight\" style={{ width: '90%' }}>\n            <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n              <AddUsers\n                openAddModal={this.openAddModal}\n                handleCancel={this.handleCancel}\n                handleChange={this.handleChange}\n                handleSubmit={this.handleSubmit}\n                handleArchive={this.handleArchive}\n                handleChangeRole={this.handleChangeRole}\n                handleChangeSchoolYear={this.handleChangeSchoolYear}\n                handleChangeClassRoom={this.handleChangeClassRoom}\n                handleChangeBirthdayDate={this.handleChangeBirthdayDate}\n                handleChangeSubject={this.handleChangeSubject}\n                handleChangeParent={this.handleChangeParent}\n                handleChangeStudent={this.handleChangeStudent}\n                handleChangeCountries={this.handleChangeCountries}\n                handleChangeStudentClass={this.handleChangeStudentClass}\n                attachFile={this.attachFile}\n                uploadPhoto={this.uploadPhoto}\n                openArchive={this.openArchive}\n                handleChangeEstablishments={this.handleChangeEstablishments}\n                handleChangeFunctions={this.handleChangeFunctions}\n                handleChangePhone={this.handleChangePhone}\n                values={this.state}\n              />\n            </CardBox>\n          </div>\n\n          <RoleContext.Consumer>\n            {({ role }) => (\n              <Can\n                role={role}\n                perform=\"add-service\"\n                yes={() => (\n                  <>\n                    {this.state.openArchive ? (\n                      <div>\n                        <ArchiveUsers openArchive={this.openArchive} />\n                      </div>\n                    ) : (\n                      ''\n                    )}\n                  </>\n                )}\n                establishements\n              />\n            )}\n          </RoleContext.Consumer>\n          {!this.state.openArchive ? (\n            <div className=\" bd-highlight\" style={{ width: '90%' }}>\n              <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n                <UsersList\n                userList={userList}\n                />\n              </CardBox>\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n        {/* <div className=\" bd-highlight\" style={{ width: '90%' }}>\n          <CardBox styleName=\"col-lg-12 col-sm-12 col-md-12\">\n            <ArchiveUsers\n              isOpenArchive={this.state.isOpenArchive}\n              openArchiveModal={this.openArchiveModal}\n            />\n          </CardBox>\n        </div> */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    usersReducer: state.usersReducer,\n    userProfile: state.auth.userProfile,\n    establishments: state.establishment.remoteEstablishments,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    schoolYearEtabs: state.schoolYearEtab.remoteSchoolYearEtab,\n    courseAssignment: state.AssignementReducer.courseAssignment,\n    ClassSettings: state.ClassSettingsReducer.classSettings,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAllRole,\n  getSchoolYearEtabs,\n  addUsers,\n})(Users);\n"]},"metadata":{},"sourceType":"module"}