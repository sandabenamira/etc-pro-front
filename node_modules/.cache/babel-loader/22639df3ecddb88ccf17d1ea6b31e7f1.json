{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/Class/CircularFab.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport green from '@material-ui/core/colors/green';\nimport grey from '@material-ui/core/colors/grey';\nimport Button from '@material-ui/core/Button';\nimport Fab from '@material-ui/core/Fab';\nimport CheckIcon from '@material-ui/icons/Check';\nimport SaveIcon from '@material-ui/icons/Save';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport axios from 'axios';\nimport baseUrl from '../../../../../config/config';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  wrapper: {\n    margin: theme.spacing.unit,\n    position: 'relative'\n  },\n  buttonSuccess: {\n    backgroundColor: green[500],\n    color: grey[50],\n    '&:hover': {\n      backgroundColor: green[700]\n    }\n  },\n  fabProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: -6,\n    left: -6,\n    zIndex: 1\n  },\n  buttonProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n});\n\nclass CircularFab extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      success: false\n    };\n\n    this.handleButtonClick = () => {\n      if (!this.state.loading) {\n        axios.put(`${baseUrl.baseUrl}/classes/autoAssignToClass/${this.props.classItem.id}?access_token=${localStorage.token}`).then(res => {\n          this.setState({\n            success: false,\n            loading: true\n          }, () => {\n            this.timer = setTimeout(() => {\n              this.setState({\n                loading: false,\n                success: res.data.classAssigned.affectationResult\n              });\n            }, 2000);\n          });\n        });\n      }\n    };\n\n    this.timer = undefined;\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer);\n  }\n\n  render() {\n    const {\n      loading,\n      success\n    } = this.state;\n    const {\n      classes\n    } = this.props;\n    const buttonClassname = classNames({\n      [classes.buttonSuccess]: success\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      color: \"primary\",\n      className: buttonClassname,\n      onClick: this.handleButtonClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, success ? /*#__PURE__*/React.createElement(CheckIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 36\n      }\n    }) : /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 52\n      }\n    })), loading && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 68,\n      className: classes.fabProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      className: buttonClassname,\n      disabled: loading,\n      onClick: this.handleButtonClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"class.affectation.auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 26\n      }\n    }), \"          \"), loading && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 24,\n      className: classes.buttonProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    })));\n  }\n\n}\n\nCircularFab.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(CircularFab);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/Class/CircularFab.js"],"names":["React","PropTypes","classNames","withStyles","CircularProgress","green","grey","Button","Fab","CheckIcon","SaveIcon","IntlMessages","axios","baseUrl","styles","theme","root","display","alignItems","wrapper","margin","spacing","unit","position","buttonSuccess","backgroundColor","color","fabProgress","top","left","zIndex","buttonProgress","marginTop","marginLeft","CircularFab","Component","state","loading","success","handleButtonClick","put","props","classItem","id","localStorage","token","then","res","setState","timer","setTimeout","data","classAssigned","affectationResult","undefined","componentWillUnmount","clearTimeout","render","classes","buttonClassname","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport green from '@material-ui/core/colors/green';\nimport grey from '@material-ui/core/colors/grey';\nimport Button from '@material-ui/core/Button';\nimport Fab from '@material-ui/core/Fab';\nimport CheckIcon from '@material-ui/icons/Check';\nimport SaveIcon from '@material-ui/icons/Save';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport axios from 'axios';\nimport baseUrl from '../../../../../config/config';\n\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    wrapper: {\n        margin: theme.spacing.unit,\n        position: 'relative',\n    },\n    buttonSuccess: {\n        backgroundColor: green[500],\n        color: grey[50],\n        '&:hover': {\n            backgroundColor: green[700],\n        },\n    },\n    fabProgress: {\n        color: green[500],\n        position: 'absolute',\n        top: -6,\n        left: -6,\n        zIndex: 1,\n    },\n    buttonProgress: {\n        color: green[500],\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    },\n});\n\nclass CircularFab extends React.Component {\n    state = {\n        loading: false,\n        success: false,\n    };\n    handleButtonClick = () => {\n        if (!this.state.loading) {\n            axios.put(`${baseUrl.baseUrl}/classes/autoAssignToClass/${this.props.classItem.id}?access_token=${localStorage.token}`).then((res) => {\n                this.setState(\n                    {\n                        success: false,\n                        loading: true,\n                    },\n                    () => {\n                        this.timer = setTimeout(() => {\n                            this.setState({\n                                loading: false,\n                                success: res.data.classAssigned.affectationResult\n                            });\n                        }, 2000);\n                    },\n                );\n            })\n\n        }\n    };\n    timer = undefined;\n\n    componentWillUnmount() {\n        clearTimeout(this.timer);\n    }\n\n    render() {\n        const { loading, success } = this.state;\n        const { classes } = this.props;\n        const buttonClassname = classNames({\n            [classes.buttonSuccess]: success,\n        });\n\n        return (\n            <div className={classes.root}>\n                <div className={classes.wrapper}>\n                    <Fab color=\"primary\" className={buttonClassname} onClick={this.handleButtonClick}>\n                        {success ? <CheckIcon /> : <SaveIcon />}\n                    </Fab>\n                    {loading && <CircularProgress size={68} className={classes.fabProgress} />}\n                </div>\n                <div className={classes.wrapper}>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={buttonClassname}\n                        disabled={loading}\n                        onClick={this.handleButtonClick}\n                    >\n                        {<IntlMessages id=\"class.affectation.auto\" />}          </Button>\n                    {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n                </div>\n            </div>\n        );\n    }\n}\n\nCircularFab.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CircularFab);"]},"metadata":{},"sourceType":"module"}