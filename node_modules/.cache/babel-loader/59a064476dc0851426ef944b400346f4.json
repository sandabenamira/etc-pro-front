{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Profile/Signature.js\";\nimport React, { Component } from 'react';\nimport { Badge } from 'reactstrap';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport IntlMessages from '../../../util/IntlMessages';\nimport { addSignature } from '../../../actions/stuppUserAction';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport baseUrl from '../../../config/config';\nimport IconButton from '@material-ui/core/IconButton';\n\nclass Signature extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDrop = e => {\n      let file = e.target.files[0];\n      this.setState({\n        userPhotos: file,\n        inputText: file.name\n      });\n      var data = {};\n      data.file = file;\n      data.idItem = this.props.userProfile.user_id;\n      data.establishmentID = this.props.userProfile.establishment_id;\n\n      if (this.props.userProfile.user_id !== 0) {\n        this.props.addSignature(data);\n      } else {\n        this.forceUpdate();\n      }\n    };\n\n    this.state = {\n      userPhotos: null,\n      inputText: '',\n      userId: 0,\n      establishmentID: 0,\n      uri: null\n    };\n    this.onDrop = this.onDrop.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.userProfile !== this.props.userProfile || prevProps.download !== this.props.download) {\n      this.setState({\n        userId: this.props.userProfile.user_id,\n        establishmentID: this.props.userProfile.establishment_id\n      });\n      axios.get(`${baseUrl.baseUrl}/users/` + this.props.userProfile.user_id + `?access_token=${localStorage.token}`).then(res => {\n        var signature = res.data.user_signature;\n\n        if (res.data.user_signature !== null) {\n          axios.get(`${baseUrl.baseUrl}/establishments/` + this.props.userProfile.establishment_id + `?access_token=${localStorage.token}`).then(res => {\n            this.setState({\n              uri: res.data.user_signature\n            });\n            this.setState({\n              uri: `${baseUrl.baseUrl}/containers/` + res.data.name + '/download/' + signature + `?access_token=${localStorage.token}`\n            });\n          });\n        }\n      });\n    }\n\n    if (prevState.uri !== this.state.uri) {\n      this.setState({\n        uri: this.state.uri\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      userId: this.props.userProfile.user_id,\n      establishmentID: this.props.userProfile.establishment_id\n    });\n    axios.get(`${baseUrl.baseUrl}/users/` + localStorage.user_id + `?access_token=${localStorage.token}`).then(res => {\n      var signature = res.data.user_signature;\n\n      if (res.data.user_signature !== null) {\n        axios.get(`${baseUrl.baseUrl}/establishments/` + localStorage.establishment_id + `?access_token=${localStorage.token}`).then(res => {\n          this.setState({\n            uri: res.data.user_signature\n          });\n          this.setState({\n            uri: `${baseUrl.baseUrl}/containers/` + res.data.name + '/download/' + signature + `?access_token=${localStorage.token}`\n          });\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title mb-0 ml-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.selectImageSignature\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"media jr-featured-item ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, this.state.uri ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jr-featured-thumb \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"icon-btn\",\n      href: this.state.uri,\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"icon-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-eye\",\n      style: {\n        color: '#3F51B5'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    })), ' ')) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jr-featured-thumb \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"icon-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      className: \"icon-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-eye\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"media-body jr-featured-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jr-featured-content-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"files\",\n      className: \"btn\",\n      style: {\n        cursor: 'pointer',\n        color: 'white',\n        fontWeight: 'bold',\n        backgroundColor: '#4C19A9',\n        borderRadius: '4rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.selectImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"files\",\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"files\",\n      type: \"file\",\n      style: {\n        visibility: 'hidden'\n      },\n      onChange: e => this.onDrop(e),\n      accept: \".jpg, .jpeg, .png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 23\n      }\n    })))))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    download: state.stuppUsers.download\n  };\n}\n\nexport default connect(mapStateToProps, {\n  addSignature\n})(Signature);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Profile/Signature.js"],"names":["React","Component","Badge","InputLabel","IntlMessages","addSignature","connect","axios","baseUrl","IconButton","Signature","constructor","props","onDrop","e","file","target","files","setState","userPhotos","inputText","name","data","idItem","userProfile","user_id","establishmentID","establishment_id","forceUpdate","state","userId","uri","bind","componentDidUpdate","prevProps","prevState","download","get","localStorage","token","then","res","signature","user_signature","componentDidMount","render","color","cursor","fontWeight","backgroundColor","borderRadius","visibility","mapStateToProps","auth","stuppUsers"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Badge } from 'reactstrap';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport IntlMessages from '../../../util/IntlMessages';\nimport { addSignature } from '../../../actions/stuppUserAction';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport baseUrl from '../../../config/config';\nimport IconButton from '@material-ui/core/IconButton';\n\nclass Signature extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userPhotos: null,\n      inputText: '',\n      userId: 0,\n      establishmentID: 0,\n      uri: null\n    };\n    this.onDrop = this.onDrop.bind(this);\n  }\n  onDrop = e => {\n    let file = e.target.files[0];\n    this.setState({ userPhotos: file, inputText: file.name });\n    var data = {};\n    data.file = file;\n    data.idItem = this.props.userProfile.user_id;\n    data.establishmentID = this.props.userProfile.establishment_id;\n    if (this.props.userProfile.user_id !== 0) {\n      this.props.addSignature(data);\n    } else {\n      this.forceUpdate();\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.userProfile !== this.props.userProfile ||\n      prevProps.download !== this.props.download\n    ) {\n      this.setState({\n        userId: this.props.userProfile.user_id,\n        establishmentID: this.props.userProfile.establishment_id\n      });\n      axios\n        .get(\n          `${baseUrl.baseUrl}/users/` +\n            this.props.userProfile.user_id +\n            `?access_token=${localStorage.token}`\n        )\n        .then(res => {\n          var signature = res.data.user_signature;\n          if (res.data.user_signature !== null) {\n            axios\n              .get(\n                `${baseUrl.baseUrl}/establishments/` +\n                  this.props.userProfile.establishment_id +\n                  `?access_token=${localStorage.token}`\n              )\n              .then(res => {\n                this.setState({ uri: res.data.user_signature });\n                this.setState({\n                  uri:\n                    `${baseUrl.baseUrl}/containers/` +\n                    res.data.name +\n                    '/download/' +\n                    signature +\n                    `?access_token=${localStorage.token}`\n                });\n              });\n          }\n        });\n    }\n    if (prevState.uri !== this.state.uri) {\n      this.setState({\n        uri: this.state.uri\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      userId: this.props.userProfile.user_id,\n      establishmentID: this.props.userProfile.establishment_id\n    });\n    axios\n      .get(\n        `${baseUrl.baseUrl}/users/` +\n          localStorage.user_id +\n          `?access_token=${localStorage.token}`\n      )\n      .then(res => {\n        var signature = res.data.user_signature;\n        if (res.data.user_signature !== null) {\n          axios\n            .get(\n              `${baseUrl.baseUrl}/establishments/` +\n                localStorage.establishment_id +\n                `?access_token=${localStorage.token}`\n            )\n            .then(res => {\n              this.setState({ uri: res.data.user_signature });\n              this.setState({\n                uri:\n                  `${baseUrl.baseUrl}/containers/` +\n                  res.data.name +\n                  '/download/' +\n                  signature +\n                  `?access_token=${localStorage.token}`\n              });\n            });\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <h4 className=\"card-title mb-0 ml-4 mb-2\">\n          {' '}\n          <IntlMessages id=\"components.establishments.formadd.selectImageSignature\" />\n        </h4>\n        <div className=\"media jr-featured-item ml-4\">\n          {this.state.uri ? (\n            <div className=\"jr-featured-thumb \">\n              <a className=\"icon-btn\" href={this.state.uri} target=\"_blank\">\n                <IconButton className=\"icon-btn\">\n                  <i className=\"zmdi zmdi-eye\" style={{ color: '#3F51B5' }} />\n                </IconButton>{' '}\n              </a>\n            </div>\n          ) : (\n            <div className=\"jr-featured-thumb \">\n              <a className=\"icon-btn\">\n                <IconButton className=\"icon-btn\">\n                  <i className=\"zmdi zmdi-eye\" />\n                </IconButton>\n              </a>\n            </div>\n          )}\n\n          <div className=\"media-body jr-featured-content\">\n            <div className=\"jr-featured-content-left\">\n              <br></br>\n              <div className=\"row-flex\">\n                <div className=\"col-md-6\">\n                  <div className=\"form-group\">\n                    <div>\n                      <label\n                        htmlFor=\"files\"\n                        className=\"btn\"\n                        style={{\n                          cursor: 'pointer',\n                          color: 'white',\n                          fontWeight: 'bold',\n                          backgroundColor: '#4C19A9',\n                          borderRadius: '4rem'\n                        }}\n                      >\n                        <strong>\n                          {\n                            <IntlMessages id=\"components.establishments.formadd.selectImage\" />\n                          }\n                        </strong>\n                      </label>\n                      <label htmlFor=\"files\" className=\"btn\">\n                        {/* {values.inputText} */}\n                      </label>\n                      <input\n                        id=\"files\"\n                        type=\"file\"\n                        style={{ visibility: 'hidden' }}\n                        onChange={e => this.onDrop(e)}\n                        accept=\".jpg, .jpeg, .png\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    download: state.stuppUsers.download\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { addSignature }\n)(Signature);\n"]},"metadata":{},"sourceType":"module"}