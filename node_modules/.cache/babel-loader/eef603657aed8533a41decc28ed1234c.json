{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Superadmin/EstablishmentManagement/newDisplay/EstablishmentItemCard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getNameFromID } from '../../../../../actions/countriesAction';\nimport { getEstabTypeByID } from '../../../../../actions/estabTypeAction';\nimport moment from 'moment';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport _ from 'lodash';\nimport baseUrl from '../../../../../config/config';\nimport { classService } from \"../../../../../_services\";\nimport imageSchool from \"../image/school.jpeg\"; //TODO ajouter countries to edit Modal .\n//TODO Ajouter type_Ã©tablissement a l'affichage de liste ?\n\nfunction EstablishmentItemCard({\n  data,\n  editEstablishment,\n  moduleList,\n  countries,\n  estabTypes\n}) {\n  const {\n    id,\n    name,\n    contract_start_date,\n    phone,\n    website,\n    number_students,\n    number_sms,\n    mode_payment,\n    name_director,\n    surname_director,\n    module_id,\n    countries_id,\n    estab_type_id\n  } = data;\n  ;\n  console.log(data, \"dataa estabbbb\");\n  const [uri, setUri] = useState(\"\");\n  useEffect(() => {// if (name) {\n    //   let apiEndpoint = `/containers/checkFileExist/${name}?access_token=${localStorage.token}`;\n    //   classService.get(apiEndpoint)\n    //     .then((response) => {\n    //       let itemList = _.isEmpty(response.data.checkFile) ? null :\n    //         response.data.checkFile.find(item => item.name === data.logo);\n    //       _.isEmpty(itemList) ? setUri(null) : setUri(`${baseUrl.baseUrl}/containers/` + name + '/download/' + data.logo + `?access_token=${localStorage.token}`);\n    //     }).catch(error => { });\n    // }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"media jr-featured-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jr-featured-thumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, data.logo ? /*#__PURE__*/React.createElement(\"img\", {\n    src: data.logo,\n    alt: \"example\",\n    onError: e => {\n      e.target.src = {\n        imageSchool\n      };\n      e.target.style = 'padding: 8px; margin: 16px';\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: imageSchool,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jr-tag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, getEstabTypeByID(estabTypes, estab_type_id))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"media-body jr-featured-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jr-featured-content-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, moduleList.map(element => {\n    let moduleArray = Array.from(module_id);\n    return moduleArray.includes(element.id) ? /*#__PURE__*/React.createElement(\"span\", {\n      key: element.id,\n      className: \"jr-tag text-uppercase bg-info d-inline-block\",\n      color: \"#06BB8A\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 55\n      }\n    }, element.name) : \"\";\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-grey mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, getNameFromID(countries, countries_id)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-grey mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: `zmdi zmdi-account jr-fs-lg mr-2 d-inline-block align-middle`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), \"Directeur: \" + name_director + \" \" + surname_director))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jr-featured-content-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"mb-0 jr-font-weight-medium\",\n    href: `http://${website}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, website)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-grey jr-fs-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"T\\xE9l :\", phone)), /*#__PURE__*/React.createElement(\"p\", {\n    onClick: () => editEstablishment(id),\n    className: \"text-primary mt-auto mb-0 pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 100\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"dashboard.viewPlus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 108\n    }\n  })), /*#__PURE__*/React.createElement(\"i\", {\n    className: `zmdi zmdi-long-arrow-right jr-fs-xxl ml-2 d-inline-block align-middle`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default EstablishmentItemCard;","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Superadmin/EstablishmentManagement/newDisplay/EstablishmentItemCard.js"],"names":["React","useState","useEffect","getNameFromID","getEstabTypeByID","moment","IntlMessages","_","baseUrl","classService","imageSchool","EstablishmentItemCard","data","editEstablishment","moduleList","countries","estabTypes","id","name","contract_start_date","phone","website","number_students","number_sms","mode_payment","name_director","surname_director","module_id","countries_id","estab_type_id","console","log","uri","setUri","logo","e","target","src","style","map","element","moduleArray","Array","from","includes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getNameFromID } from '../../../../../actions/countriesAction';\r\nimport { getEstabTypeByID } from '../../../../../actions/estabTypeAction';\r\nimport moment from 'moment';\r\nimport IntlMessages from '../../../../../util/IntlMessages';\r\nimport _ from 'lodash';\r\nimport baseUrl from '../../../../../config/config';\r\nimport { classService } from \"../../../../../_services\";\r\nimport imageSchool from \"../image/school.jpeg\"\r\n//TODO ajouter countries to edit Modal .\r\n//TODO Ajouter type_Ã©tablissement a l'affichage de liste ?\r\n\r\nfunction EstablishmentItemCard(\r\n  { data, editEstablishment,\r\n    moduleList, countries, estabTypes }) {\r\n  const { id, name, contract_start_date,\r\n    phone, website, number_students, number_sms, mode_payment,\r\n    name_director, surname_director, module_id, countries_id, estab_type_id } = data;\r\n  ;\r\n  console.log(data,\"dataa estabbbb\");\r\n  const [uri, setUri] = useState(\"\");\r\n  useEffect(() => {\r\n    // if (name) {\r\n    //   let apiEndpoint = `/containers/checkFileExist/${name}?access_token=${localStorage.token}`;\r\n    //   classService.get(apiEndpoint)\r\n    //     .then((response) => {\r\n    //       let itemList = _.isEmpty(response.data.checkFile) ? null :\r\n    //         response.data.checkFile.find(item => item.name === data.logo);\r\n    //       _.isEmpty(itemList) ? setUri(null) : setUri(`${baseUrl.baseUrl}/containers/` + name + '/download/' + data.logo + `?access_token=${localStorage.token}`);\r\n    //     }).catch(error => { });\r\n    // }\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"media jr-featured-item\">\r\n      <div className=\"jr-featured-thumb\">\r\n        {\r\n          data.logo ? (\r\n            <img src={data.logo} alt=\"example\" onError={(e) => {\r\n              e.target.src = { imageSchool }\r\n              e.target.style = 'padding: 8px; margin: 16px'\r\n            }} />\r\n          ) : (<img src={imageSchool} alt=\"\" />\r\n            )\r\n        }\r\n\r\n        <span className=\"jr-tag\">{getEstabTypeByID(estabTypes, estab_type_id)}</span>\r\n      </div>\r\n      <div className=\"media-body jr-featured-content\">\r\n        <div className=\"jr-featured-content-left\">\r\n          {moduleList.map(element => {\r\n            let moduleArray = Array.from(module_id)\r\n            return moduleArray.includes(element.id) ? <span key={element.id} className=\"jr-tag text-uppercase bg-info d-inline-block\" color=\"#06BB8A\">{element.name}</span>\r\n              : \"\";\r\n          })}\r\n          <h3 className=\"mb-1\">{name}</h3>\r\n\r\n          <p className=\"text-grey mb-1\">{getNameFromID(countries, countries_id)}</p>\r\n          <div className=\"d-flex flex-row\">\r\n            <p className=\"text-grey mb-1\">\r\n              <i className={`zmdi zmdi-account jr-fs-lg mr-2 d-inline-block align-middle`} />{\"Directeur: \" + name_director + \" \" + surname_director}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"jr-featured-content-right\">\r\n          <div>\r\n            <h2><a className=\"mb-0 jr-font-weight-medium\" href={`http://${website}`}>{website}</a></h2>\r\n            <p className=\"text-grey jr-fs-sm\">TÃ©l :{phone}</p>\r\n          </div>\r\n          <p onClick={() => (editEstablishment(id))} className=\"text-primary mt-auto mb-0 pointer\"><span >{<IntlMessages id=\"dashboard.viewPlus\" />}</span>\r\n            <i\r\n              className={`zmdi zmdi-long-arrow-right jr-fs-xxl ml-2 d-inline-block align-middle`} /></p>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EstablishmentItemCard;\r\n"]},"metadata":{},"sourceType":"module"}