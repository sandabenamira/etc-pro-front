{"ast":null,"code":"import { FETCH_ALL_TODO, FETCH_ALL_TODO_CONVERSATION, FETCH_ALL_TODO_CONVERSATION_SUCCESS, FETCH_ALL_TODO_SUCCESS, GET_IMPORTANT_TODO, GET_MARK_AS_START, GET_NAV_FILTERS, GET_NAV_LABELS, GET_STARRED_TODO, GET_UNIMPORTANT_TODO, GET_UNSELECTED_ALL_TODO, GET_UNSTARRED_TODO, HANDLE_REQUEST_CLOSE, ON_DELETE_TODO, ON_HIDE_LOADER, ON_LABEL_MENU_ITEM_SELECT, ON_LABEL_SELECT, ON_LABEL_UPDATE, ON_OPTION_MENU_SELECT, ON_SORTEND, ON_TODO_ADD, ON_TODO_CHECKED, ON_TODO_SELECT, ON_TODO_UPDATE, ON_TOGGLE_DRAWER, SEARCH_TODO, SELECT_ALL_TODO, SET_CURRENT_TODO_NULL, SHOW_MESSAGE, UPDATE_SEARCH, GET_LABELS_FOR_HOMRWORK, GET_NAV_LABELS_FOR_ADMIN, SHOW_ERROR_MESSAGE, HIDE_ERROR_MESSAGE, HIDE_SUCCESS_MESSAGE, SHOW_SUCCESS_MESSAGE, ADD_TODO_CONVERSATION, FETCH_SUBJECTS_PROFESSORS } from '../constants/ActionTypes';\nimport _ from 'lodash';\nimport { roleIdProfessor } from '../config/config';\nimport { classService } from \"../_services/class.service\";\nconst colors = ['purple lighten-2', 'amber darken-1', 'green darken-3', 'light-blue darken-4', 'purple lighten-3', 'amber darken-2', 'green darken-1', 'light-blue darken-2'];\nexport const fetchTodo = () => {\n  return {\n    type: FETCH_ALL_TODO\n  };\n};\nexport const fetchTodoConversation = () => {\n  return {\n    type: FETCH_ALL_TODO_CONVERSATION\n  };\n};\nexport const fetchTodosSuccess = mails => {\n  return {\n    type: FETCH_ALL_TODO_SUCCESS,\n    payload: mails\n  };\n};\nexport const fetchTodosConversationSuccess = mails => {\n  return {\n    type: FETCH_ALL_TODO_CONVERSATION_SUCCESS,\n    payload: mails\n  };\n};\nexport const showTodoMessage = message => {\n  return {\n    type: SHOW_MESSAGE,\n    payload: message\n  };\n};\nexport const onSortEnd = data => {\n  return {\n    type: ON_SORTEND,\n    payload: data\n  };\n};\nexport const onOptionMenuSelect = () => {\n  return {\n    type: ON_OPTION_MENU_SELECT\n  };\n};\nexport const onLabelSelect = () => {\n  return {\n    type: ON_LABEL_SELECT\n  };\n};\nexport const selectAllTodo = () => {\n  return {\n    type: SELECT_ALL_TODO\n  };\n}; // export const getAllTodo = () => {\n//   return {\n//     type: GET_ALL_TODO,\n//   };\n// };\n\nexport const getUnselectedAllTodo = () => {\n  return {\n    type: GET_UNSELECTED_ALL_TODO\n  };\n};\nexport const getStarredToDo = () => {\n  return {\n    type: GET_STARRED_TODO\n  };\n};\nexport const getUnStarredTodo = () => {\n  return {\n    type: GET_UNSTARRED_TODO\n  };\n};\nexport const getImportantToDo = () => {\n  return {\n    type: GET_IMPORTANT_TODO\n  };\n};\nexport const getUnimportantToDo = () => {\n  return {\n    type: GET_UNIMPORTANT_TODO\n  };\n};\nexport const onLabelMenuItemSelect = label => {\n  return {\n    type: ON_LABEL_MENU_ITEM_SELECT,\n    payload: label\n  };\n};\nexport const onLabelUpdate = data => {\n  return {\n    type: ON_LABEL_UPDATE,\n    payload: data\n  };\n};\nexport const onMarkAsStart = data => {\n  return {\n    type: GET_MARK_AS_START,\n    payload: data\n  };\n};\nexport const onToDoUpdate = data => {\n  return {\n    type: ON_TODO_UPDATE,\n    payload: data\n  };\n};\nexport const onDeleteToDo = data => {\n  return {\n    type: ON_DELETE_TODO,\n    payload: data\n  };\n};\nexport const getNavFilters = data => {\n  return {\n    type: GET_NAV_FILTERS,\n    payload: data\n  };\n};\nexport const getNavLabels = (dataLabel, id) => {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/fetchHomeworkByProfileId/` + id + `?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      let dataFiltred = [];\n      response.data.homeworks.forEach(element => {\n        _.forEach(element.homeworkClass, function (value, key) {\n          if (value.class_id === dataLabel.class_id) {\n            dataFiltred.push(element);\n          }\n        });\n      });\n      dispatch({\n        type: GET_NAV_LABELS,\n        payload: dataFiltred\n      });\n    }).catch(error => {});\n  };\n};\nexport const getNavLabelsForAdmin = (dataLabel, data) => {\n  return function (dispatch) {\n    let dataFiltred = [];\n    data.forEach(element => {\n      _.forEach(element.homeworkClass, function (value, key) {\n        if (value.class_id === dataLabel.class_id) {\n          dataFiltred.push(element);\n        }\n      });\n    });\n    dispatch({\n      type: GET_NAV_LABELS_FOR_ADMIN,\n      payload: dataFiltred\n    });\n  };\n};\nexport const onSearchTodo = searchText => {\n  return {\n    type: SEARCH_TODO,\n    payload: searchText\n  };\n};\nexport const onTodoChecked = data => {\n  return {\n    type: ON_TODO_CHECKED,\n    payload: data\n  };\n};\nexport const onTodoAdd = data => {\n  return {\n    type: ON_TODO_ADD,\n    payload: data\n  };\n};\nexport const onTodoSelect = todo => {\n  return {\n    type: ON_TODO_SELECT,\n    payload: todo\n  };\n};\nexport const setCurrentToDoNull = () => {\n  return {\n    type: SET_CURRENT_TODO_NULL\n  };\n};\nexport const toDoToggleDrawer = () => {\n  return {\n    type: ON_TOGGLE_DRAWER\n  };\n};\nexport const updateSearch = searchTodo => {\n  return {\n    type: UPDATE_SEARCH,\n    payload: searchTodo\n  };\n};\nexport const hideToDoLoader = () => {\n  return {\n    type: ON_HIDE_LOADER\n  };\n};\nexport const handleToDoMenuRequestClose = () => {\n  return {\n    type: HANDLE_REQUEST_CLOSE\n  };\n};\nexport function addAndAssignHomework(homework, file) {\n  if (file !== null) {\n    const fileExtension = file.name.replace(/^.*\\./, '');\n    const fileName = 'Devoir_' + Math.random().toString(36).slice(2) + '_Matiere_' + homework.subject_id + '_Professor_' + homework.professor_id + '.' + fileExtension;\n    const myNewFile = new File([file], fileName, {\n      type: file.type\n    });\n    const upload = {\n      file: myNewFile,\n      establishment_id: homework.establishment_id\n    };\n    let DataWithFile = {\n      files: fileName,\n      title: homework.title,\n      description: homework.description,\n      date_creation: homework.date_creation,\n      status: true,\n      professor_id: homework.professor_id,\n      subject_id: homework.subject_id,\n      files_name: homework.files_name,\n      classId: homework.classId,\n      correctionDate: homework.correctionDate\n    };\n    return dispatch => {\n      let apiEndpoint = `/homeworks/addAndAssignHomework?access_token=${localStorage.token}`;\n      classService.post(apiEndpoint, DataWithFile).then(response => {\n        if (response) {\n          dispatch(uploadFile(upload));\n          dispatch({\n            type: ON_TODO_ADD,\n            payload: response.data.homework\n          });\n          dispatch({\n            type: SHOW_SUCCESS_MESSAGE,\n            payload: 'message.add.success'\n          });\n          setTimeout(() => {\n            dispatch({\n              type: HIDE_SUCCESS_MESSAGE\n            });\n          }, 4000);\n        } else {\n          dispatch({\n            type: SHOW_ERROR_MESSAGE,\n            payload: \"message.add.failed\"\n          });\n          setTimeout(() => {\n            dispatch({\n              type: HIDE_ERROR_MESSAGE\n            });\n          }, 4000);\n        }\n      });\n    };\n  } else {\n    return dispatch => {\n      let apiEndpoint = `/homeworks/addAndAssignHomework?access_token=${localStorage.token}`;\n      classService.post(apiEndpoint, homework).then(response => {\n        if (response) {\n          dispatch({\n            type: ON_TODO_ADD,\n            payload: response.data.homework\n          });\n          dispatch({\n            type: SHOW_SUCCESS_MESSAGE,\n            payload: 'message.add.success'\n          });\n          setTimeout(() => {\n            dispatch({\n              type: HIDE_SUCCESS_MESSAGE\n            });\n          }, 4000);\n        } else {\n          dispatch({\n            type: SHOW_ERROR_MESSAGE,\n            payload: \"message.add.failed\"\n          });\n          setTimeout(() => {\n            dispatch({\n              type: HIDE_ERROR_MESSAGE\n            });\n          }, 4000);\n        }\n      });\n    };\n  }\n}\n;\nexport function uploadFile(payload) {\n  console.log('rrrrrrrrrr');\n\n  if (payload.file !== null) {\n    return dispatch => {\n      let apiEndpoint = `/establishments/` + payload.establishment_id + `?access_token=${localStorage.token}`;\n      classService.get(apiEndpoint).then(response => {\n        let formadata = new FormData();\n        formadata.append('image', payload.file);\n        let apiEndpoint2 = `/containers/` + \"classebook.data.storage\" + `/upload?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint2, formadata).then(response => {}).catch(error => {});\n      }).catch(error => {});\n    };\n  } else {\n    return function (dispatch) {};\n  }\n}\nexport function assignHomework(homework, profileId) {\n  return dispatch => {\n    let data = {\n      correction_date: homework.correction_date,\n      status: true,\n      homework_id: homework.homework_id,\n      class_id: homework.class_id\n    };\n    let apiEndpoint = `/homeworks_classes?access_token=${localStorage.token}`;\n    classService.post(apiEndpoint, data).then(response => {\n      let apiEndpoint2 = `/homeworks/fetchHomeworkByProfileId/` + profileId + `?access_token=${localStorage.token}`;\n      classService.get(apiEndpoint2).then(response => {\n        const tableTododos = response.data.homeworks.filter(item => item.status === true);\n        dispatch({\n          type: FETCH_ALL_TODO_SUCCESS,\n          payload: tableTododos\n        });\n      }).catch(error => {});\n    }).catch(error => {});\n  };\n}\n;\nexport const getAllTodo = (id, webService) => {\n  return dispatch => {\n    let apiEndpoint = `/students/${webService}/${id}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {\n        const homeworks = response.data.homeworks.filter(item => item.status === true && item.active === true);\n        dispatch({\n          type: FETCH_ALL_TODO_SUCCESS,\n          payload: homeworks\n        });\n      }\n    });\n  };\n};\nexport const cleanState = () => {\n  return dispatch => {\n    dispatch({\n      type: 'CLEAN_TODO_STATE',\n      payload: []\n    });\n  };\n};\nexport const getAllTodoForProfessor = id => {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/fetchHomeworkByProfileId/` + id + `?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      const tableTododos = response.data.homeworks.filter(item => item.status === true);\n      dispatch({\n        type: FETCH_ALL_TODO_SUCCESS,\n        payload: tableTododos\n      });\n    }).catch(error => {});\n  };\n};\nexport function getAllTodoForAdmin(id, schoolYearId) {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/fetchHomeworkByEstablishmentId/${id}/${schoolYearId}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      const tableTododos = response.data.homeworks.filter(item => item.status === true);\n      dispatch({\n        type: FETCH_ALL_TODO_SUCCESS,\n        payload: tableTododos\n      });\n    }).catch(error => {});\n  };\n}\nexport const getLabelsForHomework = id => {\n  const roleId = parseInt(localStorage.roles_id);\n\n  if (roleId === roleIdProfessor) {\n    return dispatch => {\n      let apiEndpoint = `/professors/?access_token=${localStorage.token}&filter={\"where\":{\"profile_id\":` + id + `}}`;\n      classService.get(apiEndpoint).then(response => {\n        let apiEndpoint2 = `/classes_professors/?access_token=${localStorage.token}&filter[include][class]&filter[where][professor_id]=` + response.data[0].id;\n        classService.get(apiEndpoint2).then(res => {\n          let labels = [];\n\n          for (let i = 0; i < res.data.length; i++) {\n            if (_.some(labels, ['class_id', res.data[i].class_id])) {} else {\n              let obj = {\n                \"class_id\": res.data[i].class_id,\n                \"className\": res.data[i].class.name,\n                \"color\": colors[i]\n              };\n              labels.push(obj);\n            }\n          }\n\n          dispatch({\n            type: GET_LABELS_FOR_HOMRWORK,\n            payload: labels\n          });\n        }).catch(error => {});\n      }).catch(error => {});\n    };\n  } else {\n    return dispatch => {\n      let apiEndpoint = `/classes?access_token=${localStorage.token}&filter={\"where\":{\"establishment_id\":` + id + `}}`;\n      classService.get(apiEndpoint).then(res => {\n        let labels = [];\n\n        for (let i = 0; i < res.data.length; i++) {\n          let obj = {\n            \"class_id\": res.data[i].id,\n            \"className\": res.data[i].name,\n            \"color\": colors[i]\n          };\n          labels.push(obj);\n        }\n\n        ;\n        dispatch({\n          type: GET_LABELS_FOR_HOMRWORK,\n          payload: labels\n        });\n      }).catch(error => {});\n    };\n  }\n};\nexport function deleteHomework(idItem) {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/` + idItem + `?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      const datahomework = response.data;\n      let homeworkData = {\n        title: datahomework.title,\n        description: datahomework.description,\n        date_creation: datahomework.date_creation,\n        status: false,\n        files: datahomework.files,\n        id: datahomework.id,\n        professor_id: datahomework.professor_id,\n        subject_id: datahomework.subject_id\n      };\n      let apiEndpoint2 = `/homeworks/` + datahomework.id + `?access_token=${localStorage.token}`;\n      classService.put(apiEndpoint2, homeworkData).then(response => {\n        if (response) {\n          dispatch({\n            type: ON_DELETE_TODO,\n            payload: response.data\n          });\n          dispatch({\n            type: SHOW_SUCCESS_MESSAGE,\n            payload: 'message.delete.success'\n          });\n          setTimeout(() => {\n            dispatch({\n              type: HIDE_SUCCESS_MESSAGE\n            });\n          }, 4000);\n        } else {\n          dispatch({\n            type: SHOW_ERROR_MESSAGE,\n            payload: \"message.delete.failed\"\n          });\n          setTimeout(() => {\n            dispatch({\n              type: HIDE_ERROR_MESSAGE\n            });\n          }, 4000);\n        }\n      });\n    }).catch(error => {});\n  };\n}\nexport function editHomework(homework, file) {\n  if (homework.newFile !== null) {\n    if (file !== null) {\n      return dispatch => {\n        let apiEndpoint = `/establishments/` + homework.establishment_id + `?access_token=${localStorage.token}`;\n        classService.get(apiEndpoint).then(response => {\n          if (response) {\n            const establishmentName = response.data.name;\n            let formadata = new FormData();\n            formadata.append('image', file);\n            let apiEndpoint2 = `/containers/checkFileExist/${establishmentName}?access_token=${localStorage.token}`;\n            classService.get(apiEndpoint2).then(response => {\n              if (response) {\n                let fileList = null;\n\n                if (response.data.checkFile.length === 0) {\n                  fileList = null;\n                } else {\n                  fileList = response.data.checkFile.find(item => item.name === file);\n                }\n\n                const fileExtension = homework.newFile.name.replace(/^.*\\./, '');\n                const fileName = 'Devoir_' + homework.id + '_Matiere_' + homework.subject_id + '_Professor_' + homework.professor_id + '.' + fileExtension;\n                const myNewFile = new File([homework.newFile], fileName, {\n                  type: homework.newFile.type\n                });\n                const upload = {\n                  file: myNewFile,\n                  establishment_id: homework.establishment_id\n                };\n                let data = {\n                  \"id\": homework.id,\n                  \"title\": homework.title,\n                  \"description\": homework.description,\n                  \"date_creation\": homework.date_creation,\n                  \"files\": fileName,\n                  \"status\": true,\n                  \"professor_id\": homework.professor_id,\n                  \"subject_id\": homework.subject_id,\n                  \"assignHomeworkList\": homework.assignHomeworkList,\n                  \"files_name\": homework.files_name,\n                  \"active\": homework.active\n                };\n\n                if (fileList !== null && fileList !== undefined) {\n                  const establishLogoUrl = `/containers/` + establishmentName + `/files/` + file + `?access_token=${localStorage.token}`;\n                  classService.deleteDetail(establishLogoUrl, formadata).then(response => {\n                    if (response) {\n                      let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`;\n                      classService.post(apiEndpoint, data).then(response => {\n                        if (response) {\n                          dispatch(uploadFile(upload));\n                          dispatch({\n                            type: ON_TODO_UPDATE,\n                            payload: response.data.homework\n                          });\n                        }\n                      });\n                    }\n                  });\n                } else {\n                  let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`;\n                  classService.post(apiEndpoint, data).then(response => {\n                    if (response) {\n                      dispatch(uploadFile(upload));\n                      dispatch({\n                        type: ON_TODO_UPDATE,\n                        payload: response.data.homework\n                      });\n                    }\n                  });\n                }\n              }\n            });\n          }\n        });\n      };\n    } else {\n      const fileExtension = homework.newFile.name.replace(/^.*\\./, '');\n      const fileName = 'Devoir_' + homework.id + '_Matiere_' + homework.subject_id + '_Professor_' + homework.professor_id + '.' + fileExtension;\n      const myNewFile = new File([homework.newFile], fileName, {\n        type: homework.newFile.type\n      });\n      const upload = {\n        file: myNewFile,\n        establishment_id: homework.establishment_id\n      };\n      let newdata = {\n        \"id\": homework.id,\n        \"title\": homework.title,\n        \"description\": homework.description,\n        \"date_creation\": homework.date_creation,\n        \"status\": true,\n        \"files\": fileName,\n        \"professor_id\": homework.professor_id,\n        \"subject_id\": homework.subject_id,\n        \"assignHomeworkList\": homework.assignHomeworkList,\n        \"files_name\": homework.files_name,\n        \"active\": homework.active\n      };\n      return dispatch => {\n        let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint, newdata).then(response => {\n          if (response) {\n            dispatch(uploadFile(upload));\n            dispatch({\n              type: ON_TODO_UPDATE,\n              payload: response.data.homework\n            });\n          }\n        });\n      };\n    }\n  } else {\n    return function (dispatch) {\n      let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`;\n      classService.post(apiEndpoint, homework).then(response => {\n        if (response) {\n          dispatch({\n            type: ON_TODO_UPDATE,\n            payload: response.data.homework\n          });\n        }\n      });\n    };\n  }\n}\nexport function addComment(data, file, establishmentId) {\n  let upload = {};\n\n  if (file !== null) {\n    const myNewFile = new File([file], data.file, {\n      type: file.type\n    });\n    upload = {\n      file: myNewFile,\n      establishment_id: establishmentId\n    };\n  }\n\n  return dispatch => {\n    let apiEndpoint = `/homeworks_discussions/addComment/?access_token=${localStorage.token}`;\n    classService.post(apiEndpoint, data).then(response => {\n      if (response) {\n        if (file !== null) {\n          dispatch(uploadFile(upload));\n        }\n\n        dispatch({\n          type: ADD_TODO_CONVERSATION,\n          payload: response.data.comment\n        });\n      }\n    });\n  };\n}\nexport function getConversation(homework_id, profile_professor_id, profile_student_id) {\n  return dispatch => {\n    let apiEndpoint = `/homeworks_discussions/getConversation/${homework_id}/${profile_professor_id}/${profile_student_id}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {\n        if (!_.isEmpty(response.data)) {\n          dispatch({\n            type: FETCH_ALL_TODO_CONVERSATION_SUCCESS,\n            payload: response.data.comments\n          });\n        } else {\n          dispatch({\n            type: FETCH_ALL_TODO_CONVERSATION_SUCCESS,\n            payload: response.data\n          });\n        }\n      }\n    });\n  };\n}\nexport function initListConversation() {\n  return dispatch => {\n    dispatch({\n      type: FETCH_ALL_TODO_CONVERSATION_SUCCESS,\n      payload: []\n    });\n  };\n}\nexport function getNumberOfHomeworkStudents(homeworkId) {\n  return dispatch => {\n    let apiEndpoint = `/homeworks_discussions/getNumberOfHomeworkStudents/${homeworkId}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {// dispatch({ type: FETCH_ALL_TODO_CONVERSATION_SUCCESS, payload: [] });\n      }\n    });\n  };\n}\nexport function getAllDiscussionHomework(homeworkId, senderId) {\n  return dispatch => {\n    let apiEndpoint = `/homeworks_discussions/getAllDiscussionHomework/${homeworkId}/${senderId}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {\n        dispatch({\n          type: FETCH_ALL_TODO_CONVERSATION_SUCCESS,\n          payload: response.data.comments\n        });\n      }\n    });\n  };\n}\nexport function fetchProfessorBySubject(establishmentId) {\n  return dispatch => {\n    let apiEndpoint = `/prof_subjects/fetchProfessorBySubject/${establishmentId}/?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {\n        dispatch({\n          type: FETCH_SUBJECTS_PROFESSORS,\n          payload: response.data.professors\n        });\n      }\n    });\n  };\n}\nexport function initHomework(data) {\n  return dispatch => {\n    dispatch({\n      type: ON_TODO_UPDATE,\n      payload: data\n    });\n  };\n}","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/actions/ToDo.js"],"names":["FETCH_ALL_TODO","FETCH_ALL_TODO_CONVERSATION","FETCH_ALL_TODO_CONVERSATION_SUCCESS","FETCH_ALL_TODO_SUCCESS","GET_IMPORTANT_TODO","GET_MARK_AS_START","GET_NAV_FILTERS","GET_NAV_LABELS","GET_STARRED_TODO","GET_UNIMPORTANT_TODO","GET_UNSELECTED_ALL_TODO","GET_UNSTARRED_TODO","HANDLE_REQUEST_CLOSE","ON_DELETE_TODO","ON_HIDE_LOADER","ON_LABEL_MENU_ITEM_SELECT","ON_LABEL_SELECT","ON_LABEL_UPDATE","ON_OPTION_MENU_SELECT","ON_SORTEND","ON_TODO_ADD","ON_TODO_CHECKED","ON_TODO_SELECT","ON_TODO_UPDATE","ON_TOGGLE_DRAWER","SEARCH_TODO","SELECT_ALL_TODO","SET_CURRENT_TODO_NULL","SHOW_MESSAGE","UPDATE_SEARCH","GET_LABELS_FOR_HOMRWORK","GET_NAV_LABELS_FOR_ADMIN","SHOW_ERROR_MESSAGE","HIDE_ERROR_MESSAGE","HIDE_SUCCESS_MESSAGE","SHOW_SUCCESS_MESSAGE","ADD_TODO_CONVERSATION","FETCH_SUBJECTS_PROFESSORS","_","roleIdProfessor","classService","colors","fetchTodo","type","fetchTodoConversation","fetchTodosSuccess","mails","payload","fetchTodosConversationSuccess","showTodoMessage","message","onSortEnd","data","onOptionMenuSelect","onLabelSelect","selectAllTodo","getUnselectedAllTodo","getStarredToDo","getUnStarredTodo","getImportantToDo","getUnimportantToDo","onLabelMenuItemSelect","label","onLabelUpdate","onMarkAsStart","onToDoUpdate","onDeleteToDo","getNavFilters","getNavLabels","dataLabel","id","dispatch","apiEndpoint","localStorage","token","get","then","response","dataFiltred","homeworks","forEach","element","homeworkClass","value","key","class_id","push","catch","error","getNavLabelsForAdmin","onSearchTodo","searchText","onTodoChecked","onTodoAdd","onTodoSelect","todo","setCurrentToDoNull","toDoToggleDrawer","updateSearch","searchTodo","hideToDoLoader","handleToDoMenuRequestClose","addAndAssignHomework","homework","file","fileExtension","name","replace","fileName","Math","random","toString","slice","subject_id","professor_id","myNewFile","File","upload","establishment_id","DataWithFile","files","title","description","date_creation","status","files_name","classId","correctionDate","post","uploadFile","setTimeout","console","log","formadata","FormData","append","apiEndpoint2","assignHomework","profileId","correction_date","homework_id","tableTododos","filter","item","getAllTodo","webService","active","cleanState","getAllTodoForProfessor","getAllTodoForAdmin","schoolYearId","getLabelsForHomework","roleId","parseInt","roles_id","res","labels","i","length","some","obj","class","deleteHomework","idItem","datahomework","homeworkData","put","editHomework","newFile","establishmentName","fileList","checkFile","find","assignHomeworkList","undefined","establishLogoUrl","deleteDetail","newdata","addComment","establishmentId","comment","getConversation","profile_professor_id","profile_student_id","isEmpty","comments","initListConversation","getNumberOfHomeworkStudents","homeworkId","getAllDiscussionHomework","senderId","fetchProfessorBySubject","professors","initHomework"],"mappings":"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","sourcesContent":["import {\n  FETCH_ALL_TODO,\n  FETCH_ALL_TODO_CONVERSATION,\n  FETCH_ALL_TODO_CONVERSATION_SUCCESS,\n  FETCH_ALL_TODO_SUCCESS,\n  GET_IMPORTANT_TODO,\n  GET_MARK_AS_START,\n  GET_NAV_FILTERS,\n  GET_NAV_LABELS,\n  GET_STARRED_TODO,\n  GET_UNIMPORTANT_TODO,\n  GET_UNSELECTED_ALL_TODO,\n  GET_UNSTARRED_TODO,\n  HANDLE_REQUEST_CLOSE,\n  ON_DELETE_TODO,\n  ON_HIDE_LOADER,\n  ON_LABEL_MENU_ITEM_SELECT,\n  ON_LABEL_SELECT,\n  ON_LABEL_UPDATE,\n  ON_OPTION_MENU_SELECT,\n  ON_SORTEND,\n  ON_TODO_ADD,\n  ON_TODO_CHECKED,\n  ON_TODO_SELECT,\n  ON_TODO_UPDATE,\n  ON_TOGGLE_DRAWER,\n  SEARCH_TODO,\n  SELECT_ALL_TODO,\n  SET_CURRENT_TODO_NULL,\n  SHOW_MESSAGE,\n  UPDATE_SEARCH,\n  GET_LABELS_FOR_HOMRWORK,\n  GET_NAV_LABELS_FOR_ADMIN,\n  SHOW_ERROR_MESSAGE,\n  HIDE_ERROR_MESSAGE,\n  HIDE_SUCCESS_MESSAGE,\n  SHOW_SUCCESS_MESSAGE,\n  ADD_TODO_CONVERSATION,\n  FETCH_SUBJECTS_PROFESSORS\n} from '../constants/ActionTypes'\nimport _ from 'lodash';\nimport { roleIdProfessor } from '../config/config';\nimport { classService } from \"../_services/class.service\";\nconst colors = ['purple lighten-2', 'amber darken-1', 'green darken-3', 'light-blue darken-4', 'purple lighten-3', 'amber darken-2', 'green darken-1', 'light-blue darken-2']\n\nexport const fetchTodo = () => {\n  return {\n    type: FETCH_ALL_TODO\n  };\n};\nexport const fetchTodoConversation = () => {\n  return {\n    type: FETCH_ALL_TODO_CONVERSATION\n  };\n};\n\nexport const fetchTodosSuccess = (mails) => {\n  return {\n    type: FETCH_ALL_TODO_SUCCESS,\n    payload: mails\n  }\n};\nexport const fetchTodosConversationSuccess = (mails) => {\n  return {\n    type: FETCH_ALL_TODO_CONVERSATION_SUCCESS,\n    payload: mails\n  }\n};\n\nexport const showTodoMessage = (message) => {\n  return {\n    type: SHOW_MESSAGE,\n    payload: message\n  };\n};\nexport const onSortEnd = (data) => {\n  return {\n    type: ON_SORTEND,\n    payload: data\n  };\n};\n\nexport const onOptionMenuSelect = () => {\n  return {\n    type: ON_OPTION_MENU_SELECT,\n  };\n};\nexport const onLabelSelect = () => {\n  return {\n    type: ON_LABEL_SELECT,\n  };\n};\n\nexport const selectAllTodo = () => {\n  return {\n    type: SELECT_ALL_TODO,\n  };\n};\n\n// export const getAllTodo = () => {\n//   return {\n//     type: GET_ALL_TODO,\n//   };\n// };\n\n\nexport const getUnselectedAllTodo = () => {\n  return {\n    type: GET_UNSELECTED_ALL_TODO,\n  };\n};\n\nexport const getStarredToDo = () => {\n  return {\n    type: GET_STARRED_TODO,\n  };\n};\n\nexport const getUnStarredTodo = () => {\n  return {\n    type: GET_UNSTARRED_TODO,\n  };\n};\nexport const getImportantToDo = () => {\n  return {\n    type: GET_IMPORTANT_TODO,\n  };\n};\nexport const getUnimportantToDo = () => {\n  return {\n    type: GET_UNIMPORTANT_TODO,\n  };\n};\nexport const onLabelMenuItemSelect = (label) => {\n  return {\n    type: ON_LABEL_MENU_ITEM_SELECT,\n    payload: label\n  };\n};\nexport const onLabelUpdate = (data) => {\n  return {\n    type: ON_LABEL_UPDATE,\n    payload: data\n  };\n};\nexport const onMarkAsStart = (data) => {\n  return {\n    type: GET_MARK_AS_START,\n    payload: data\n  };\n};\n\nexport const onToDoUpdate = (data) => {\n  return {\n    type: ON_TODO_UPDATE,\n    payload: data\n  };\n};\n\nexport const onDeleteToDo = (data) => {\n  return {\n    type: ON_DELETE_TODO,\n    payload: data\n  };\n};\nexport const getNavFilters = (data) => {\n  return {\n    type: GET_NAV_FILTERS,\n    payload: data\n  };\n};\n\nexport const getNavLabels = (dataLabel, id) => {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/fetchHomeworkByProfileId/` + id + `?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint)\n      .then(response => {\n        let dataFiltred = []\n        response.data.homeworks.forEach(element => {\n          _.forEach(element.homeworkClass, function (value, key) {\n            if (value.class_id === dataLabel.class_id) {\n              dataFiltred.push(element)\n            }\n\n          });\n        });\n        dispatch({ type: GET_NAV_LABELS, payload: dataFiltred });\n      }).catch(error => {\n      });\n  }\n};\n\nexport const getNavLabelsForAdmin = (dataLabel, data) => {\n  return function (dispatch) {\n    let dataFiltred = []\n    data.forEach(element => {\n      _.forEach(element.homeworkClass, function (value, key) {\n        if (value.class_id === dataLabel.class_id) {\n          dataFiltred.push(element)\n        }\n      });\n    });\n    dispatch({ type: GET_NAV_LABELS_FOR_ADMIN, payload: dataFiltred });\n  }\n}\n\nexport const onSearchTodo = (searchText) => {\n  return {\n    type: SEARCH_TODO,\n    payload: searchText\n  };\n};\nexport const onTodoChecked = (data) => {\n  return {\n    type: ON_TODO_CHECKED,\n    payload: data\n  };\n};\nexport const onTodoAdd = (data) => {\n  return {\n    type: ON_TODO_ADD,\n    payload: data\n  };\n};\nexport const onTodoSelect = (todo) => {\n  return {\n    type: ON_TODO_SELECT,\n    payload: todo\n  };\n};\nexport const setCurrentToDoNull = () => {\n  return {\n    type: SET_CURRENT_TODO_NULL,\n  };\n};\n\nexport const toDoToggleDrawer = () => {\n  return {\n    type: ON_TOGGLE_DRAWER,\n  };\n};\n\nexport const updateSearch = (searchTodo) => {\n  return {\n    type: UPDATE_SEARCH,\n    payload: searchTodo\n  };\n};\n\nexport const hideToDoLoader = () => {\n  return {\n    type: ON_HIDE_LOADER,\n  };\n};\nexport const handleToDoMenuRequestClose = () => {\n  return {\n    type: HANDLE_REQUEST_CLOSE,\n  };\n};\n\nexport function addAndAssignHomework(homework, file) {\n  if (file !== null) {\n    const fileExtension = file.name.replace(/^.*\\./, '');\n    const fileName = 'Devoir_' + Math.random().toString(36).slice(2) + '_Matiere_' + homework.subject_id + '_Professor_' + homework.professor_id + '.' + fileExtension\n    const myNewFile = new File([file], fileName, { type: file.type });\n    const upload = {\n      file: myNewFile,\n      establishment_id: homework.establishment_id\n    }\n    let DataWithFile = {\n      files: fileName,\n      title: homework.title,\n      description: homework.description,\n      date_creation: homework.date_creation,\n      status: true,\n      professor_id: homework.professor_id,\n      subject_id: homework.subject_id,\n      files_name:homework.files_name,\n      classId: homework.classId,\n      correctionDate : homework.correctionDate\n\n    }\n\n    return dispatch => {\n      let apiEndpoint = `/homeworks/addAndAssignHomework?access_token=${localStorage.token}`;\n      classService.post(apiEndpoint, DataWithFile)\n        .then(response => {\n          if (response) {\n            dispatch(uploadFile(upload));\n            dispatch({ type: ON_TODO_ADD, payload: response.data.homework });\n            dispatch({\n              type: SHOW_SUCCESS_MESSAGE,\n              payload: 'message.add.success',\n            });\n            setTimeout(() => {\n              dispatch({ type: HIDE_SUCCESS_MESSAGE });\n            }, 4000);\n          } else {\n            dispatch({\n              type: SHOW_ERROR_MESSAGE,\n              payload: \"message.add.failed\",\n            });\n            setTimeout(() => {\n              dispatch({ type: HIDE_ERROR_MESSAGE });\n            }, 4000);\n          }\n        })\n\n\n\n    };\n  }\n  else {\n    return dispatch => {\n\n      let apiEndpoint = `/homeworks/addAndAssignHomework?access_token=${localStorage.token}`;\n      classService.post(apiEndpoint, homework)\n        .then(response => {\n          if (response) {\n            dispatch({ type: ON_TODO_ADD, payload: response.data.homework });\n            dispatch({\n              type: SHOW_SUCCESS_MESSAGE,\n              payload: 'message.add.success',\n            });\n            setTimeout(() => {\n              dispatch({ type: HIDE_SUCCESS_MESSAGE });\n            }, 4000);\n          } else {\n            dispatch({\n              type: SHOW_ERROR_MESSAGE,\n              payload: \"message.add.failed\",\n            });\n            setTimeout(() => {\n              dispatch({ type: HIDE_ERROR_MESSAGE });\n            }, 4000);\n          }\n\n        })\n    };\n  }\n\n};\n\n\nexport function uploadFile(payload) {\n  console.log('rrrrrrrrrr')\n  if (payload.file !== null) {\n    return dispatch => {\n      let apiEndpoint = `/establishments/` + payload.establishment_id + `?access_token=${localStorage.token}`;\n      classService.get(apiEndpoint)\n        .then(response => {\n          let formadata = new FormData()\n          formadata.append('image', payload.file)\n          let apiEndpoint2 = `/containers/` +\n          \"classebook.data.storage\" +\n          `/upload?access_token=${localStorage.token}`;\n          classService.post(apiEndpoint2, formadata)\n            .then(response => {\n            })\n            .catch(error => {\n            });\n        }).catch(error => {\n        });\n    }\n  }\n  else {\n    return function (dispatch) {\n    }\n  }\n}\nexport function assignHomework(homework, profileId) {\n\n  return dispatch => {\n    let data = {\n      correction_date: homework.correction_date,\n      status: true,\n      homework_id: homework.homework_id,\n      class_id: homework.class_id\n    }\n    let apiEndpoint = `/homeworks_classes?access_token=${localStorage.token}`;\n    classService.post(apiEndpoint, data)\n      .then(response => {\n        let apiEndpoint2 = `/homeworks/fetchHomeworkByProfileId/` + profileId + `?access_token=${localStorage.token}`;\n        classService.get(apiEndpoint2)\n          .then(response => {\n            const tableTododos = response.data.homeworks.filter(item => item.status === true)\n            dispatch({ type: FETCH_ALL_TODO_SUCCESS, payload: tableTododos });\n          })\n          .catch(error => {\n          });\n      }).catch(error => {\n      });\n  };\n};\n\nexport const getAllTodo = (id, webService) => {\n  return dispatch => {\n    let apiEndpoint = `/students/${webService}/${id}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint)\n      .then(response => {\n        if (response) {\n          const homeworks = response.data.homeworks.filter(item => item.status === true && item.active === true)\n          dispatch({ type: FETCH_ALL_TODO_SUCCESS, payload: homeworks });\n        }\n      })\n  }\n};\n\nexport const cleanState = () => {\n  return dispatch => {\n          dispatch({ type: 'CLEAN_TODO_STATE', payload: [] });\n        }\n};\nexport const getAllTodoForProfessor = (id) => {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/fetchHomeworkByProfileId/` + id + `?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint)\n      .then(response => {\n        const tableTododos = response.data.homeworks.filter(item => item.status === true)\n        dispatch({ type: FETCH_ALL_TODO_SUCCESS, payload: tableTododos });\n      }).catch(error => {\n      });\n  };\n}\n\nexport function getAllTodoForAdmin (id, schoolYearId)  {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/fetchHomeworkByEstablishmentId/${id}/${schoolYearId}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint)\n      .then(response => {\n        const tableTododos = response.data.homeworks.filter(item => item.status === true)\n        dispatch({ type: FETCH_ALL_TODO_SUCCESS, payload: tableTododos });\n      }).catch(error => {\n      });\n  };\n}\n\nexport const getLabelsForHomework = (id) => {\n  const roleId = parseInt(localStorage.roles_id);\n  if (roleId === roleIdProfessor) {\n    return dispatch => {\n      let apiEndpoint = `/professors/?access_token=${localStorage.token}&filter={\"where\":{\"profile_id\":` + id + `}}`;\n      classService.get(apiEndpoint)\n        .then(response => {\n          let apiEndpoint2 = `/classes_professors/?access_token=${localStorage.token}&filter[include][class]&filter[where][professor_id]=` + response.data[0].id;\n          classService.get(apiEndpoint2)\n            .then(res => {\n              let labels = [];\n              for (let i = 0; i < res.data.length; i++) {\n                if (_.some(labels, ['class_id', res.data[i].class_id])) { } else {\n                  let obj = {\n                    \"class_id\": res.data[i].class_id,\n                    \"className\": res.data[i].class.name,\n                    \"color\": colors[i]\n                  }\n                  labels.push(obj)\n                }\n              }\n              dispatch({ type: GET_LABELS_FOR_HOMRWORK, payload: labels });\n            })\n            .catch(error => {\n            });\n        }).catch(error => {\n        });\n    }\n  } else {\n    return dispatch => {\n      let apiEndpoint = `/classes?access_token=${localStorage.token}&filter={\"where\":{\"establishment_id\":` + id + `}}`;\n      classService.get(apiEndpoint)\n        .then(res => {\n          let labels = [];\n          for (let i = 0; i < res.data.length; i++) {\n            let obj = {\n              \"class_id\": res.data[i].id,\n              \"className\": res.data[i].name,\n              \"color\": colors[i]\n            }\n            labels.push(obj)\n          };\n          dispatch({ type: GET_LABELS_FOR_HOMRWORK, payload: labels });\n        }).catch(error => {\n        });\n\n    }\n  }\n};\n\n\n\nexport function deleteHomework(idItem) {\n  return dispatch => {\n    let apiEndpoint = `/homeworks/` + idItem + `?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint)\n      .then(response => {\n        const datahomework = response.data;\n        let homeworkData = {\n          title: datahomework.title,\n          description: datahomework.description,\n          date_creation: datahomework.date_creation,\n          status: false,\n          files: datahomework.files,\n          id: datahomework.id,\n          professor_id: datahomework.professor_id,\n          subject_id: datahomework.subject_id\n        }\n        let apiEndpoint2 = `/homeworks/` + datahomework.id + `?access_token=${localStorage.token}`;\n        classService.put(apiEndpoint2, homeworkData)\n          .then(response => {\n\n            if (response) {\n              dispatch({ type: ON_DELETE_TODO, payload: response.data });\n              dispatch({\n                type: SHOW_SUCCESS_MESSAGE,\n                payload: 'message.delete.success',\n              });\n              setTimeout(() => {\n                dispatch({ type: HIDE_SUCCESS_MESSAGE });\n              }, 4000);\n            } else {\n              dispatch({\n                type: SHOW_ERROR_MESSAGE,\n                payload:\n                  \"message.delete.failed\",\n              });\n              setTimeout(() => {\n                dispatch({ type: HIDE_ERROR_MESSAGE });\n              }, 4000);\n            }\n          })\n\n      }).catch(error => {\n      });\n  };\n}\n\n\n\n\nexport function editHomework(homework, file) {\n  if (homework.newFile !== null) {\n    if (file !== null) {\n      return dispatch => {\n        let apiEndpoint = `/establishments/` + homework.establishment_id + `?access_token=${localStorage.token}`;\n        classService.get(apiEndpoint)\n          .then(response => {\n            if (response) {\n              const establishmentName = response.data.name\n              let formadata = new FormData()\n              formadata.append('image', file)\n              let apiEndpoint2 = `/containers/checkFileExist/${establishmentName}?access_token=${localStorage.token}`;\n              classService.get(apiEndpoint2)\n                .then((response) => {\n                  if (response) {\n                    let fileList = null;\n                    if (response.data.checkFile.length === 0) {\n                      fileList = null\n                    }\n                    else {\n                      fileList = response.data.checkFile.find(item => item.name === file)\n                    }\n                    const fileExtension = homework.newFile.name.replace(/^.*\\./, '');\n                    const fileName = 'Devoir_' + homework.id + '_Matiere_' + homework.subject_id + '_Professor_' + homework.professor_id + '.' + fileExtension\n                    const myNewFile = new File([homework.newFile], fileName, { type: homework.newFile.type });\n                    const upload = {\n                      file: myNewFile,\n                      establishment_id: homework.establishment_id\n                    }\n                    let data = {\n                      \"id\": homework.id,\n                      \"title\": homework.title,\n                      \"description\": homework.description,\n                      \"date_creation\": homework.date_creation,\n                      \"files\": fileName,\n                      \"status\": true,\n                      \"professor_id\": homework.professor_id,\n                      \"subject_id\": homework.subject_id,\n                      \"assignHomeworkList\": homework.assignHomeworkList,\n                      \"files_name\": homework.files_name,\n                      \"active\":homework.active\n                    }\n                    if (fileList !== null && fileList !== undefined) {\n\n                      const establishLogoUrl = `/containers/` + establishmentName + `/files/` + file + `?access_token=${localStorage.token}`\n                      classService.deleteDetail(establishLogoUrl, formadata)\n                        .then((response) => {\n                          if (response) {\n                            let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`\n                            classService.post(apiEndpoint, data)\n                              .then(response => {\n                                if (response) {\n                                  dispatch(uploadFile(upload));\n                                  dispatch({ type: ON_TODO_UPDATE, payload: response.data.homework });\n                                }\n                              })\n                          }\n                        })\n                    }\n                    else {\n                      let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`\n                      classService.post(apiEndpoint, data)\n                        .then(response => {\n                          if (response) {\n                            dispatch(uploadFile(upload));\n                            dispatch({ type: ON_TODO_UPDATE, payload: response.data.homework });\n                          }\n                        })\n                    }\n\n                  }\n                })\n\n            }\n          })\n      }\n    }\n\n    else {\n      const fileExtension = homework.newFile.name.replace(/^.*\\./, '');\n      const fileName = 'Devoir_' + homework.id + '_Matiere_' + homework.subject_id + '_Professor_' + homework.professor_id + '.' + fileExtension\n      const myNewFile = new File([homework.newFile], fileName, { type: homework.newFile.type });\n      const upload = {\n        file: myNewFile,\n        establishment_id: homework.establishment_id\n      }\n      let newdata = {\n        \"id\": homework.id,\n        \"title\": homework.title,\n        \"description\": homework.description,\n        \"date_creation\": homework.date_creation,\n        \"status\": true,\n        \"files\": fileName,\n        \"professor_id\": homework.professor_id,\n        \"subject_id\": homework.subject_id,\n        \"assignHomeworkList\": homework.assignHomeworkList,\n        \"files_name\": homework.files_name,\n        \"active\":homework.active\n      }\n      return dispatch => {\n        let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`;\n        classService.post(apiEndpoint, newdata)\n          .then(response => {\n            if (response) {\n              dispatch(uploadFile(upload));\n              dispatch({ type: ON_TODO_UPDATE, payload: response.data.homework });\n            }\n          })\n\n      };\n    }\n  }\n\n  else {\n    return function (dispatch) {\n      let apiEndpoint = `/homeworks/editHomework?access_token=${localStorage.token}`;\n      classService.post(apiEndpoint, homework)\n        .then(response => {\n          if (response) {\n            dispatch({ type: ON_TODO_UPDATE, payload: response.data.homework });\n          }\n        })\n\n    };\n  }\n}\n\nexport function addComment(data, file, establishmentId) {\n  let upload = {};\n  if (file !== null) {\n    const myNewFile = new File([file], data.file, { type: file.type });\n    upload = {\n      file: myNewFile,\n      establishment_id: establishmentId\n    }\n  }\n  return dispatch => {\n    let apiEndpoint = `/homeworks_discussions/addComment/?access_token=${localStorage.token}`;\n    classService.post(apiEndpoint, data)\n      .then(response => {\n        if (response) {\n          if (file !== null) {\n            dispatch(uploadFile(upload));\n          }\n          dispatch({ type: ADD_TODO_CONVERSATION, payload: response.data.comment });\n        }\n      })\n  }\n\n}\n\nexport function getConversation(homework_id, profile_professor_id, profile_student_id) {\n  return dispatch => {\n    let apiEndpoint = `/homeworks_discussions/getConversation/${homework_id}/${profile_professor_id}/${profile_student_id}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint)\n      .then(response => {        \n        if (response) {\n          if (!_.isEmpty(response.data)) {\n            dispatch({ type: FETCH_ALL_TODO_CONVERSATION_SUCCESS, payload: response.data.comments });\n          } else {\n            dispatch({ type: FETCH_ALL_TODO_CONVERSATION_SUCCESS, payload: response.data });\n          }\n        }\n      })\n  }\n\n}\n\nexport function initListConversation() {\n  return dispatch => {\n    dispatch({ type: FETCH_ALL_TODO_CONVERSATION_SUCCESS, payload: [] });\n  }\n\n}\n\nexport function getNumberOfHomeworkStudents(homeworkId) {\n  return dispatch => {\n   let apiEndpoint = `/homeworks_discussions/getNumberOfHomeworkStudents/${homeworkId}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {\n   // dispatch({ type: FETCH_ALL_TODO_CONVERSATION_SUCCESS, payload: [] });\n  }\n  })\n  }\n\n}\n\nexport function getAllDiscussionHomework(homeworkId, senderId) {\n  return dispatch => {\n   let apiEndpoint = `/homeworks_discussions/getAllDiscussionHomework/${homeworkId}/${senderId}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {        \n    dispatch({ type: FETCH_ALL_TODO_CONVERSATION_SUCCESS, payload: response.data.comments});\n  }\n  })\n  }\n\n}\nexport function fetchProfessorBySubject(establishmentId) {\n  return dispatch => {\n   let apiEndpoint = `/prof_subjects/fetchProfessorBySubject/${establishmentId}/?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {  \n     dispatch({ type: FETCH_SUBJECTS_PROFESSORS, payload: response.data.professors});\n  }\n  })\n  }\n\n}\n\nexport function initHomework(data) {\n  return dispatch => {\n    dispatch({ type: ON_TODO_UPDATE, payload: data });\n  }\n\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}