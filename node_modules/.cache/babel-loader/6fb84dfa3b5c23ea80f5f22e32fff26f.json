{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Home/index.js\";\nimport React from 'react';\nimport IntlMessages from '../../../util/IntlMessages';\nimport { RoleContext } from '../../../Context';\nimport Can from '../../../can';\nimport { connect } from 'react-redux';\nimport ResetPasswordModal from './ResetPasswordModal';\nimport axios from 'axios';\nimport { baseUrl } from '../../../config/config';\nimport UserDetailTable from '../../../components/dashboard/Common/UserDetailTable';\nimport CardHeader from '../../../components/dashboard/Common/CardHeader/index';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport CardMenu from '../../../components/dashboard/Common/CardMenu';\nimport DoughnutChart from '../../../components/dashboard/eCommerce/DoughnutChart';\nimport SalesGauge from '../../../components/dashboard/eCommerce/SalesGauge';\nimport IconWithTextCard from './IconWithTextCard';\nimport { Area, AreaChart, CartesianGrid, ResponsiveContainer, Tooltip, XAxis, YAxis, BarChart, Bar, Legend } from 'recharts';\nimport { roleIdProfessor, roleIdStudent, roleIdParent } from '../../../config/config';\nimport { classService } from '../../../_services/class.service';\nimport moment from 'moment';\nimport StudentDashborad from '../Home/DashboradStudent/StudentDashboard';\nimport ProfessorDashborad from '../Home/DashboradProfessor/ProfessorDashboard';\nimport { getAllUsersByEstablishmentId } from '../../../actions/stuppUserAction';\nlet currentDate = new Date();\nconst salesStatisticData = [{\n  name: 'Jan',\n  uv: 8\n}, {\n  name: 'Feb',\n  uv: 17\n}, {\n  name: 'Mar',\n  uv: 25\n}, {\n  name: 'Apr',\n  uv: 30\n}, {\n  name: 'May',\n  uv: 88\n}, {\n  name: 'Jun',\n  uv: 9\n}, {\n  name: 'Jul',\n  uv: 60\n}, {\n  name: 'Aug',\n  uv: 4\n}, {\n  name: 'Sep',\n  uv: 29\n}, {\n  name: 'Oct',\n  uv: 55\n}, {\n  name: 'Nov',\n  uv: 0\n}, {\n  name: 'Dec',\n  uv: 0\n}];\nconst data = [{\n  name: 'Page A',\n  uv: 4000,\n  pv: 2400,\n  amt: 2400\n}, {\n  name: 'Page B',\n  uv: 3000,\n  pv: 1398,\n  amt: 2210\n}, {\n  name: 'Page C',\n  uv: 2000,\n  pv: 9800,\n  amt: 2290\n}, {\n  name: 'Page D',\n  uv: 2780,\n  pv: 3908,\n  amt: 2000\n}, {\n  name: 'Page E',\n  uv: 1890,\n  pv: 4800,\n  amt: 2181\n}, {\n  name: 'Page F',\n  uv: 2390,\n  pv: 3800,\n  amt: 2500\n}, {\n  name: 'Page G',\n  uv: 3490,\n  pv: 4300,\n  amt: 2100\n}];\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.onOptionMenuSelect = event => {\n      this.setState({\n        menuState: true,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        menuState: false\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.state = {\n      anchorEl: undefined,\n      menuState: false,\n      resetPassword: '',\n      oldPassword: '',\n      confirmresetPassword: '',\n      errorAlert: false,\n      succedAlert: false,\n      isopen: true,\n      countesStudents: 0,\n      countesProfessors: 0,\n      countesParents: 0,\n      countesComplaints: 0,\n      nbreGirls: 0,\n      nbreBoys: 0,\n      listPayments: []\n    };\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.ResetPassword = this.ResetPassword.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.users !== this.props.users) {\n      let listParent = this.props.users.filter(element => element.role_id == roleIdParent);\n      let listStudent = this.props.users.filter(element => element.role_id == roleIdStudent);\n      let listProf = this.props.users.filter(element => element.role_id == roleIdProfessor);\n      this.setState({\n        countesProfessors: listProf.length\n      });\n      this.setState({\n        countesParents: listParent.length\n      });\n      this.setState({\n        countesStudents: listStudent.length\n      });\n      let nbreGirls = listStudent.filter(element => element.user.gender === 'Féminin');\n      let nbreBoys = listStudent.filter(element => element.user.gender === 'Masculin');\n      this.setState({\n        nbreGirls: nbreGirls.length,\n        nbreBoys: nbreBoys.length\n      });\n    }\n  }\n\n  componentWillMount() {\n    this.props.getAllUsersByEstablishmentId(localStorage.establishment_id);\n    var first_connexion = localStorage.getItem('first_connexion');\n\n    if (first_connexion === 'false') {\n      this.setState({\n        isopen: false\n      });\n    } else {\n      this.setState({\n        isopen: true\n      });\n    }\n  }\n\n  componentDidMount() {\n    const establishment_id = localStorage.getItem('establishment_id');\n    let apiEndpoint = ''; // apiEndpoint = `/profiles/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id},\"role_id\":${roleIdStudent}}`;\n    // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     this.setState({ countesStudents: response.data.count });\n    //   }\n    // });\n    // apiEndpoint = `/profiles/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id},\"role_id\":${roleIdProfessor}}`;\n    // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     this.setState({ countesProfessors: response.data.count });\n    //   }\n    // });\n    // apiEndpoint = `/profiles/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id},\"role_id\":${roleIdParent}}`;\n    // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     this.setState({ countesParents: response.data.count });\n    //   }\n    // });\n\n    apiEndpoint = `/complaints/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id}}`;\n    classService.get(apiEndpoint).then(response => {\n      if (response) {\n        this.setState({\n          countesComplaints: response.data.count\n        });\n      }\n    }); // card4\n\n    apiEndpoint = `/profiles?access_token=${localStorage.token}&filter[include]=user&filter[where][and][0][establishment_id]=${establishment_id}&filter[where][and][1][role_id]=${roleIdStudent}`; // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     let data = response.data;\n    //     let nbreGirls = data.filter((element) => element.user.gender === 'Féminin');\n    //     let nbreBoys = data.filter((element) => element.user.gender === 'Masculin');\n    //     this.setState({ nbreGirls: nbreGirls.length, nbreBoys: nbreBoys.length });\n    //   }\n    // });\n    //card7\n\n    let classId = 0;\n    const status = 'Non payé';\n    const month = moment(currentDate)._d.getMonth() + 1;\n    apiEndpoint = `/classes?access_token=${localStorage.token}&filter[where][establishment_id]=${establishment_id}`; // classService.get(apiEndpoint).then(response => {\n    //   if (response) {\n    //     let arr = response.data\n    //     if (arr.length > 0) {\n    //       classId = arr[0].id\n    //       apiEndpoint = `/lines_payments/getLinesPayments?classId=${classId}&status=${status}&month=${month}&access_token=${localStorage.token}`;\n    //       classService.get(apiEndpoint)\n    //         .then(response => {\n    //           let dataPayment = response.data.payments;\n    //           if (dataPayment.length >= 5) {\n    //             let newArray = []\n    //             let obj = {}\n    //             for (let i = 0; i < 5; i++) {\n    //               obj = {\n    //                 id: dataPayment[i].linesPayments[0].id,\n    //                 image: 'https://via.placeholder.com/150x150',\n    //                 name: dataPayment[i].name + ' ' + dataPayment[i].surname,\n    //                 about: dataPayment[i].service.name,\n    //                 detail: dataPayment[i].linesPayments[0].price + ' ' + dataPayment[i].service.currency,\n    //                 color: \"danger\"\n    //               }\n    //               newArray.push(obj)\n    //             }\n    //             this.setState({ listPayments: newArray })\n    //           }\n    //         })\n    //     }\n    //   }\n    // });\n  }\n\n  handleCancel() {\n    this.setState({\n      isopen: false\n    });\n  }\n\n  ResetPassword() {\n    var data = {};\n    data.password = this.state.resetPassword;\n    data.oldpassword = this.state.oldPassword;\n    data.userId = this.props.userProfile.user_id;\n    var token = localStorage.getItem('token');\n    axios.post(`${baseUrl}/users/change-password?access_token=` + token, {\n      oldPassword: data.oldpassword,\n      newPassword: data.password\n    }).then(response => {\n      axios.post(`${baseUrl}/users/reset-initial-password?access_token=${token}`, data, {\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(res => {\n        if (res.data.existe === true) {\n          localStorage.setItem('first_connexion', false);\n          this.setState({\n            succedAlert: true,\n            resetPassword: '',\n            confirmresetPassword: '',\n            oldPassword: ''\n          });\n          setTimeout(function () {\n            this.setState({\n              succedAlert: false,\n              isopen: false\n            });\n          }.bind(this), 2000);\n        } else {\n          this.setState({\n            errorAlert: true,\n            resetPassword: '',\n            confirmresetPassword: '',\n            oldPassword: ''\n          });\n          setTimeout(function () {\n            this.setState({\n              errorAlert: false\n            });\n          }.bind(this), 2000);\n        }\n      }).catch(error => {\n        if (error.response.status === 400) {\n          this.setState({\n            errorAlert: true,\n            resetPassword: '',\n            confirmresetPassword: '',\n            oldPassword: ''\n          });\n          setTimeout(function () {\n            this.setState({\n              errorAlert: false\n            });\n          }.bind(this), 2000);\n        }\n      });\n    }).catch(error => {\n      if (error.response.status === 400) {\n        this.setState({\n          errorAlert: true,\n          resetPassword: '',\n          confirmresetPassword: '',\n          oldPassword: ''\n        });\n        setTimeout(function () {\n          this.setState({\n            errorAlert: false\n          });\n        }.bind(this), 2000);\n      }\n    });\n  }\n\n  render() {\n    const first_connexion = localStorage.getItem('first_connexion');\n    const detailCards = [{\n      cardColor: 'primary',\n      imageIcon: require('../../../assets/images/dashboard/project-icon.png'),\n      title: this.state.countesStudents,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.new.student\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 19\n        }\n      })\n    }, {\n      cardColor: 'secondary',\n      imageIcon: require('../../../assets/images/dashboard/tasks-icon.png'),\n      title: this.state.countesProfessors,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"pages.professorPage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 19\n        }\n      })\n    }, {\n      cardColor: 'info',\n      imageIcon: require('../../../assets/images/dashboard/teams-icon.png'),\n      title: this.state.countesParents,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"sidebar.parent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 19\n        }\n      })\n    }, {\n      cardColor: 'warning',\n      imageIcon: require('../../../assets/images/dashboard/files-icon.png'),\n      title: this.state.countesComplaints,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.complaints\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 19\n        }\n      })\n    }];\n    const {\n      anchorEl,\n      menuState\n    } = this.state;\n    return /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 7\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"home-filter:visit\",\n      yes: () => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dashboard animated slideInUpTiny animation-duration-3 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }\n      }, detailCards.map((data, index) => /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"col-xl-3 col-lg-3 col-md-3 col-sm-7 col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IconWithTextCard, {\n        data: data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 27\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-12 mb-5 mb-lg-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 27\n        }\n      }, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.rate.presence.absences\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n        width: \"100%\",\n        height: 260,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(AreaChart, {\n        data: salesStatisticData,\n        margin: {\n          top: 10,\n          right: 20,\n          left: 0,\n          bottom: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(XAxis, {\n        dataKey: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(YAxis, {\n        type: \"number\",\n        domain: [0, 100],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(CartesianGrid, {\n        strokeDasharray: \"0\",\n        stroke: \"#DCDEDE\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(Tooltip, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"defs\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"linearGradient\", {\n        id: \"salesStatistic\",\n        x1: \"0\",\n        y1: \"0\",\n        x2: \"0\",\n        y2: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"5%\",\n        stopColor: \"#4258BC\",\n        stopOpacity: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 35\n        }\n      }), /*#__PURE__*/React.createElement(\"stop\", {\n        offset: \"95%\",\n        stopColor: \"#FFF\",\n        stopOpacity: 0.8,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 35\n        }\n      }))), /*#__PURE__*/React.createElement(Area, {\n        type: \"monotone\",\n        dataKey: \"uv\",\n        strokeWidth: 2,\n        stroke: \"#6F82E5\",\n        fill: \"url(#salesStatistic)\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 31\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-3 col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ResponsiveContainer, {\n        width: \"100%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(SalesGauge, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-3 col-12 jr-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"card-heading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.total.number.of.students\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 28\n        }\n      })), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n        width: \"100%\",\n        height: \"80%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DoughnutChart, {\n        nbreGirls: this.state.nbreGirls,\n        nbreBoys: this.state.nbreBoys,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          marginTop: '5%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-male zmdi-hc-fw mr-2 text-blue\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.male\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 55\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-female zmdi-hc-fw mr-2 text-pink\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.female\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 55\n        }\n      })))))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 27\n        }\n      }, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"dashboard.rate.success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n        width: \"100%\",\n        height: 425,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(BarChart, {\n        data: data,\n        margin: {\n          top: 10,\n          right: 0,\n          left: -20,\n          bottom: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(XAxis, {\n        dataKey: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(YAxis, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(CartesianGrid, {\n        strokeDasharray: \"3 3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(Tooltip, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(Legend, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(Bar, {\n        dataKey: \"pv\",\n        fill: \"#3367d6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(Bar, {\n        dataKey: \"uv\",\n        fill: \"#ffc658\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 31\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-3 col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `jr-card-header-color text-center bg-gradient-primary`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card-header-top mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        className: \"jr-menu-icon mr-auto\",\n        \"aria-label\": \"Menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"menu-icon bg-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(IconButton, {\n        className: \"icon-btn p-2\",\n        onClick: this.onOptionMenuSelect.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-more-vert text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Avatar, {\n        className: \"bg-grey lighten-2 avatar-shadow size-90 mx-auto mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"m-1 text-primary font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 31\n        }\n      }, \"24\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card-hd-content text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"text-white jr-font-weight-medium mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 31\n        }\n      }, \"Monday\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 31\n        }\n      }, \"July 2017\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card-body mb-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `list-line-badge bg-primary`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: `mb-2 text-primary`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 35\n        }\n      }, \"Learning React\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"jr-fs-sm text-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 35\n        }\n      }, \"6:30 pm\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-badge bg-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-danger mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 35\n        }\n      }, \"Logo Design\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"jr-fs-sm text-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 35\n        }\n      }, \"7:15 pm\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-badge bg-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-success mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 35\n        }\n      }, \"Timesheet Setup\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"jr-fs-sm text-light mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 35\n        }\n      }, \"8:45 pm\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-badge bg-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-line-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-warning mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 35\n        }\n      }, \"Timesheet Setup\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"jr-fs-sm text-light mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 35\n        }\n      }, \"8:45 pm\"))))), /*#__PURE__*/React.createElement(CardMenu, {\n        menuState: menuState,\n        anchorEl: anchorEl,\n        handleRequestClose: this.handleRequestClose.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 27\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-3 col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card jr-full-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        heading: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"dashboard.list.of.paiement\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 48\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(UserDetailTable, {\n        data: this.state.listPayments,\n        tableStyle: \"full-table-last-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 27\n        }\n      }))))), first_connexion === 'true' ? /*#__PURE__*/React.createElement(ResetPasswordModal, {\n        isopen: this.state.isopen,\n        handleCancel: this.handleCancel,\n        handleChange: this.handleChange,\n        ResetPassword: this.ResetPassword,\n        values: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 21\n        }\n      }) : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"Student.Dashborad:visit\",\n      yes: () => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(StudentDashborad, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 19\n        }\n      }), first_connexion === 'true' ? /*#__PURE__*/React.createElement(ResetPasswordModal, {\n        isopen: this.state.isopen,\n        handleCancel: this.handleCancel,\n        handleChange: this.handleChange,\n        ResetPassword: this.ResetPassword,\n        values: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 21\n        }\n      }) : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"Professor.Dashborad:visit\",\n      yes: () => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ProfessorDashborad, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 19\n        }\n      }), first_connexion === 'true' ? /*#__PURE__*/React.createElement(ResetPasswordModal, {\n        isopen: this.state.isopen,\n        handleCancel: this.handleCancel,\n        handleChange: this.handleChange,\n        ResetPassword: this.ResetPassword,\n        values: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 21\n        }\n      }) : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.auth.userProfile,\n    users: state.stuppUsers.remoteStuppUsers\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAllUsersByEstablishmentId\n})(Home);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/Home/index.js"],"names":["React","IntlMessages","RoleContext","Can","connect","ResetPasswordModal","axios","baseUrl","UserDetailTable","CardHeader","IconButton","Avatar","CardMenu","DoughnutChart","SalesGauge","IconWithTextCard","Area","AreaChart","CartesianGrid","ResponsiveContainer","Tooltip","XAxis","YAxis","BarChart","Bar","Legend","roleIdProfessor","roleIdStudent","roleIdParent","classService","moment","StudentDashborad","ProfessorDashborad","getAllUsersByEstablishmentId","currentDate","Date","salesStatisticData","name","uv","data","pv","amt","Home","Component","constructor","onOptionMenuSelect","event","setState","menuState","anchorEl","currentTarget","handleRequestClose","handleChange","target","value","state","undefined","resetPassword","oldPassword","confirmresetPassword","errorAlert","succedAlert","isopen","countesStudents","countesProfessors","countesParents","countesComplaints","nbreGirls","nbreBoys","listPayments","handleCancel","bind","ResetPassword","componentDidUpdate","prevProps","users","props","listParent","filter","element","role_id","listStudent","listProf","length","user","gender","componentWillMount","localStorage","establishment_id","first_connexion","getItem","componentDidMount","apiEndpoint","token","get","then","response","count","classId","status","month","_d","getMonth","password","oldpassword","userId","userProfile","user_id","post","newPassword","headers","res","existe","setItem","setTimeout","catch","error","render","detailCards","cardColor","imageIcon","require","title","subTitle","role","map","index","top","right","left","bottom","marginTop","mapStateToProps","auth","stuppUsers","remoteStuppUsers"],"mappings":"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","sourcesContent":["import React from 'react';\nimport IntlMessages from '../../../util/IntlMessages';\nimport { RoleContext } from '../../../Context';\nimport Can from '../../../can';\nimport { connect } from 'react-redux';\nimport ResetPasswordModal from './ResetPasswordModal';\nimport axios from 'axios';\nimport { baseUrl } from '../../../config/config';\nimport UserDetailTable from '../../../components/dashboard/Common/UserDetailTable';\nimport CardHeader from '../../../components/dashboard/Common/CardHeader/index';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport CardMenu from '../../../components/dashboard/Common/CardMenu';\nimport DoughnutChart from '../../../components/dashboard/eCommerce/DoughnutChart';\nimport SalesGauge from '../../../components/dashboard/eCommerce/SalesGauge';\nimport IconWithTextCard from './IconWithTextCard';\nimport {\n  Area,\n  AreaChart,\n  CartesianGrid,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n  BarChart,\n  Bar,\n  Legend,\n} from 'recharts';\nimport { roleIdProfessor, roleIdStudent, roleIdParent } from '../../../config/config';\nimport { classService } from '../../../_services/class.service';\nimport moment from 'moment';\nimport StudentDashborad from '../Home/DashboradStudent/StudentDashboard';\nimport ProfessorDashborad from '../Home/DashboradProfessor/ProfessorDashboard';\nimport { getAllUsersByEstablishmentId } from '../../../actions/stuppUserAction';\n\nlet currentDate = new Date();\nconst salesStatisticData = [\n  { name: 'Jan', uv: 8 },\n  { name: 'Feb', uv: 17 },\n  { name: 'Mar', uv: 25 },\n  { name: 'Apr', uv: 30 },\n  { name: 'May', uv: 88 },\n  { name: 'Jun', uv: 9 },\n  { name: 'Jul', uv: 60 },\n  { name: 'Aug', uv: 4 },\n  { name: 'Sep', uv: 29 },\n  { name: 'Oct', uv: 55 },\n  { name: 'Nov', uv: 0 },\n  { name: 'Dec', uv: 0 },\n];\n\nconst data = [\n  { name: 'Page A', uv: 4000, pv: 2400, amt: 2400 },\n  { name: 'Page B', uv: 3000, pv: 1398, amt: 2210 },\n  { name: 'Page C', uv: 2000, pv: 9800, amt: 2290 },\n  { name: 'Page D', uv: 2780, pv: 3908, amt: 2000 },\n  { name: 'Page E', uv: 1890, pv: 4800, amt: 2181 },\n  { name: 'Page F', uv: 2390, pv: 3800, amt: 2500 },\n  { name: 'Page G', uv: 3490, pv: 4300, amt: 2100 },\n];\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      anchorEl: undefined,\n      menuState: false,\n      resetPassword: '',\n      oldPassword: '',\n      confirmresetPassword: '',\n      errorAlert: false,\n      succedAlert: false,\n      isopen: true,\n      countesStudents: 0,\n      countesProfessors: 0,\n      countesParents: 0,\n      countesComplaints: 0,\n      nbreGirls: 0,\n      nbreBoys: 0,\n      listPayments: [],\n    };\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.ResetPassword = this.ResetPassword.bind(this);\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.users !== this.props.users) {\n      let listParent = this.props.users.filter((element) => element.role_id == roleIdParent);\n      let listStudent = this.props.users.filter((element) => element.role_id == roleIdStudent);\n      let listProf = this.props.users.filter((element) => element.role_id == roleIdProfessor);\n\n      this.setState({ countesProfessors: listProf.length });\n      this.setState({ countesParents: listParent.length });\n      this.setState({ countesStudents: listStudent.length });\n      let nbreGirls = listStudent.filter((element) => element.user.gender === 'Féminin');\n      let nbreBoys = listStudent.filter((element) => element.user.gender === 'Masculin');\n      this.setState({ nbreGirls: nbreGirls.length, nbreBoys: nbreBoys.length });\n    }\n  }\n  componentWillMount() {\n    this.props.getAllUsersByEstablishmentId(localStorage.establishment_id);\n    var first_connexion = localStorage.getItem('first_connexion');\n    if (first_connexion === 'false') {\n      this.setState({\n        isopen: false,\n      });\n    } else {\n      this.setState({\n        isopen: true,\n      });\n    }\n  }\n\n  componentDidMount() {\n    const establishment_id = localStorage.getItem('establishment_id');\n\n    let apiEndpoint = '';\n    // apiEndpoint = `/profiles/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id},\"role_id\":${roleIdStudent}}`;\n    // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     this.setState({ countesStudents: response.data.count });\n    //   }\n    // });\n    // apiEndpoint = `/profiles/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id},\"role_id\":${roleIdProfessor}}`;\n    // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     this.setState({ countesProfessors: response.data.count });\n    //   }\n    // });\n    // apiEndpoint = `/profiles/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id},\"role_id\":${roleIdParent}}`;\n    // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     this.setState({ countesParents: response.data.count });\n    //   }\n    // });\n    apiEndpoint = `/complaints/count?access_token=${localStorage.token}&where={\"establishment_id\":${establishment_id}}`;\n    classService.get(apiEndpoint).then((response) => {\n      if (response) {\n        this.setState({ countesComplaints: response.data.count });\n      }\n    });\n    // card4\n    apiEndpoint = `/profiles?access_token=${localStorage.token}&filter[include]=user&filter[where][and][0][establishment_id]=${establishment_id}&filter[where][and][1][role_id]=${roleIdStudent}`;\n\n    // classService.get(apiEndpoint).then((response) => {\n    //   if (response) {\n    //     let data = response.data;\n    //     let nbreGirls = data.filter((element) => element.user.gender === 'Féminin');\n    //     let nbreBoys = data.filter((element) => element.user.gender === 'Masculin');\n    //     this.setState({ nbreGirls: nbreGirls.length, nbreBoys: nbreBoys.length });\n    //   }\n    // });\n    //card7\n    let classId = 0;\n    const status = 'Non payé';\n    const month = moment(currentDate)._d.getMonth() + 1;\n    apiEndpoint = `/classes?access_token=${localStorage.token}&filter[where][establishment_id]=${establishment_id}`;\n    // classService.get(apiEndpoint).then(response => {\n    //   if (response) {\n    //     let arr = response.data\n    //     if (arr.length > 0) {\n    //       classId = arr[0].id\n    //       apiEndpoint = `/lines_payments/getLinesPayments?classId=${classId}&status=${status}&month=${month}&access_token=${localStorage.token}`;\n    //       classService.get(apiEndpoint)\n    //         .then(response => {\n    //           let dataPayment = response.data.payments;\n    //           if (dataPayment.length >= 5) {\n    //             let newArray = []\n    //             let obj = {}\n\n    //             for (let i = 0; i < 5; i++) {\n\n    //               obj = {\n    //                 id: dataPayment[i].linesPayments[0].id,\n    //                 image: 'https://via.placeholder.com/150x150',\n    //                 name: dataPayment[i].name + ' ' + dataPayment[i].surname,\n    //                 about: dataPayment[i].service.name,\n    //                 detail: dataPayment[i].linesPayments[0].price + ' ' + dataPayment[i].service.currency,\n    //                 color: \"danger\"\n    //               }\n    //               newArray.push(obj)\n    //             }\n    //             this.setState({ listPayments: newArray })\n    //           }\n    //         })\n\n    //     }\n    //   }\n    // });\n  }\n\n  onOptionMenuSelect = (event) => {\n    this.setState({ menuState: true, anchorEl: event.currentTarget });\n  };\n  handleRequestClose = () => {\n    this.setState({ menuState: false });\n  };\n\n  handleCancel() {\n    this.setState({\n      isopen: false,\n    });\n  }\n\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  ResetPassword() {\n    var data = {};\n    data.password = this.state.resetPassword;\n    data.oldpassword = this.state.oldPassword;\n    data.userId = this.props.userProfile.user_id;\n    var token = localStorage.getItem('token');\n    axios\n      .post(`${baseUrl}/users/change-password?access_token=` + token, {\n        oldPassword: data.oldpassword,\n        newPassword: data.password,\n      })\n      .then((response) => {\n        axios\n          .post(`${baseUrl}/users/reset-initial-password?access_token=${token}`, data, {\n            headers: { 'content-type': 'application/json' },\n          })\n          .then((res) => {\n            if (res.data.existe === true) {\n              localStorage.setItem('first_connexion', false);\n\n              this.setState({\n                succedAlert: true,\n                resetPassword: '',\n                confirmresetPassword: '',\n                oldPassword: '',\n              });\n              setTimeout(\n                function() {\n                  this.setState({ succedAlert: false, isopen: false });\n                }.bind(this),\n                2000\n              );\n            } else {\n              this.setState({\n                errorAlert: true,\n                resetPassword: '',\n                confirmresetPassword: '',\n                oldPassword: '',\n              });\n              setTimeout(\n                function() {\n                  this.setState({ errorAlert: false });\n                }.bind(this),\n                2000\n              );\n            }\n          })\n          .catch((error) => {\n            if (error.response.status === 400) {\n              this.setState({\n                errorAlert: true,\n                resetPassword: '',\n                confirmresetPassword: '',\n                oldPassword: '',\n              });\n              setTimeout(\n                function() {\n                  this.setState({ errorAlert: false });\n                }.bind(this),\n                2000\n              );\n            }\n          });\n      })\n      .catch((error) => {\n        if (error.response.status === 400) {\n          this.setState({\n            errorAlert: true,\n            resetPassword: '',\n            confirmresetPassword: '',\n            oldPassword: '',\n          });\n          setTimeout(\n            function() {\n              this.setState({ errorAlert: false });\n            }.bind(this),\n            2000\n          );\n        }\n      });\n  }\n\n  render() {\n    const first_connexion = localStorage.getItem('first_connexion');\n    const detailCards = [\n      {\n        cardColor: 'primary',\n        imageIcon: require('../../../assets/images/dashboard/project-icon.png'),\n        title: this.state.countesStudents,\n        subTitle: <IntlMessages id=\"dashboard.new.student\" />,\n      },\n      {\n        cardColor: 'secondary',\n        imageIcon: require('../../../assets/images/dashboard/tasks-icon.png'),\n        title: this.state.countesProfessors,\n        subTitle: <IntlMessages id=\"pages.professorPage\" />,\n      },\n      {\n        cardColor: 'info',\n        imageIcon: require('../../../assets/images/dashboard/teams-icon.png'),\n        title: this.state.countesParents,\n        subTitle: <IntlMessages id=\"sidebar.parent\" />,\n      },\n      {\n        cardColor: 'warning',\n        imageIcon: require('../../../assets/images/dashboard/files-icon.png'),\n        title: this.state.countesComplaints,\n        subTitle: <IntlMessages id=\"dashboard.complaints\" />,\n      },\n    ];\n\n    const { anchorEl, menuState } = this.state;\n\n    return (\n      <RoleContext.Consumer>\n        {({ role }) => (\n          <div>\n            <Can\n              role={role}\n              perform=\"home-filter:visit\"\n              yes={() => (\n                <div className=\"app-wrapper\">\n                  <div className=\"dashboard animated slideInUpTiny animation-duration-3 \">\n                    <div className=\"row\">\n                      {/* ChartCard 1 */}\n                      {detailCards.map((data, index) => (\n                        <div key={index} className=\"col-xl-3 col-lg-3 col-md-3 col-sm-7 col-6\">\n                          <IconWithTextCard data={data} />\n                        </div>\n                      ))}\n                    </div>\n\n                    <div className=\"row\">\n                      {/* ChartCard 2 */}\n\n                      <div className=\"col-lg-6 col-12 mb-5 mb-lg-1\">\n                        <div className=\"jr-card\">\n                          <h2> {<IntlMessages id=\"dashboard.rate.presence.absences\" />}</h2>\n                          <ResponsiveContainer width=\"100%\" height={260}>\n                            <AreaChart\n                              data={salesStatisticData}\n                              margin={{ top: 10, right: 20, left: 0, bottom: 0 }}\n                            >\n                              <XAxis dataKey=\"name\" />\n                              <YAxis type=\"number\" domain={[0, 100]} />\n                              <CartesianGrid strokeDasharray=\"0\" stroke=\"#DCDEDE\" />\n\n                              <Tooltip />\n                              <defs>\n                                <linearGradient id=\"salesStatistic\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                  <stop offset=\"5%\" stopColor=\"#4258BC\" stopOpacity={1} />\n                                  <stop offset=\"95%\" stopColor=\"#FFF\" stopOpacity={0.8} />\n                                </linearGradient>\n                              </defs>\n\n                              <Area\n                                type=\"monotone\"\n                                dataKey=\"uv\"\n                                strokeWidth={2}\n                                stroke=\"#6F82E5\"\n                                fill=\"url(#salesStatistic)\"\n                              />\n                            </AreaChart>\n                          </ResponsiveContainer>\n                        </div>\n                      </div>\n                      {/* ChartCard 3 */}\n                      <div className=\"col-lg-3 col-12\">\n                        <div className=\"jr-card\">\n                          <ResponsiveContainer width=\"100%\">\n                            <SalesGauge />\n                          </ResponsiveContainer>\n                        </div>\n                      </div>\n                      {/* ChartCard 4 */}\n                      <div className=\"col-lg-3 col-12 jr-card\">\n                        <h3 className=\"card-heading\">\n                          {<IntlMessages id=\"dashboard.total.number.of.students\" />}\n                        </h3>\n                        <ResponsiveContainer width=\"100%\" height=\"80%\">\n                          <DoughnutChart\n                            nbreGirls={this.state.nbreGirls}\n                            nbreBoys={this.state.nbreBoys}\n                          />\n                        </ResponsiveContainer>\n                        <div className=\"row\" style={{ marginTop: '5%' }}>\n                          <div className=\"col-6\">\n                            <div className=\"media\">\n                              <i className=\"zmdi zmdi-male zmdi-hc-fw mr-2 text-blue\" />\n                              <div className=\"media-body\">\n                                <h5 className=\"mb-0\">{<IntlMessages id=\"dashboard.male\" />}</h5>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"media\">\n                              <i className=\"zmdi zmdi-female zmdi-hc-fw mr-2 text-pink\" />\n                              <div className=\"media-body\">\n                                <h5 className=\"mb-0\">{<IntlMessages id=\"dashboard.female\" />}</h5>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        {/* </div> */}\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      {/* ChartCard 5 */}\n\n                      <div className=\"col-lg-6 col-12\">\n                        <div className=\"jr-card\">\n                          <h2> {<IntlMessages id=\"dashboard.rate.success\" />}</h2>\n                          <ResponsiveContainer width=\"100%\" height={425}>\n                            <BarChart\n                              data={data}\n                              margin={{ top: 10, right: 0, left: -20, bottom: 0 }}\n                            >\n                              <XAxis dataKey=\"name\" />\n                              <YAxis />\n                              <CartesianGrid strokeDasharray=\"3 3\" />\n                              <Tooltip />\n                              <Legend />\n                              <Bar dataKey=\"pv\" fill=\"#3367d6\" />\n                              <Bar dataKey=\"uv\" fill=\"#ffc658\" />\n                            </BarChart>\n                          </ResponsiveContainer>\n                        </div>\n                      </div>\n                      {/* ChartCard 6 */}\n                      <div className=\"col-lg-3 col-12\">\n                        <div className=\"jr-card\">\n                          <div className={`jr-card-header-color text-center bg-gradient-primary`}>\n                            <div className=\"jr-card-header-top mb-3\">\n                              <IconButton className=\"jr-menu-icon mr-auto\" aria-label=\"Menu\">\n                                <span className=\"menu-icon bg-white\" />\n                              </IconButton>\n                              <IconButton\n                                className=\"icon-btn p-2\"\n                                onClick={this.onOptionMenuSelect.bind(this)}\n                              >\n                                <i className=\"zmdi zmdi-more-vert text-white\" />\n                              </IconButton>\n                            </div>\n\n                            <Avatar className=\"bg-grey lighten-2 avatar-shadow size-90 mx-auto mb-4\">\n                              <h1 className=\"m-1 text-primary font-weight-bold\">24</h1>\n                            </Avatar>\n                            <div className=\"jr-card-hd-content text-white\">\n                              <h2 className=\"text-white jr-font-weight-medium mb-1\">Monday</h2>\n                              <p className=\"mb-0\">July 2017</p>\n                            </div>\n                          </div>\n                          <div className=\"jr-card-body mb-6\">\n                            <div className=\"d-flex flex-column\">\n                              <div className=\"list-line-item\">\n                                <div className={`list-line-badge bg-primary`} />\n\n                                <div className=\"list-line-content\">\n                                  <h4 className={`mb-2 text-primary`}>Learning React</h4>\n                                  <p className=\"jr-fs-sm text-light\">6:30 pm</p>\n                                </div>\n                              </div>\n\n                              <div className=\"list-line-item\">\n                                <div className=\"list-line-badge bg-danger\" />\n\n                                <div className=\"list-line-content\">\n                                  <h4 className=\"text-danger mb-1\">Logo Design</h4>\n                                  <p className=\"jr-fs-sm text-light\">7:15 pm</p>\n                                </div>\n                              </div>\n\n                              <div className=\"list-line-item\">\n                                <div className=\"list-line-badge bg-success\" />\n\n                                <div className=\"list-line-content\">\n                                  <h4 className=\"text-success mb-1\">Timesheet Setup</h4>\n                                  <p className=\"jr-fs-sm text-light mb-0\">8:45 pm</p>\n                                </div>\n                              </div>\n\n                              <div className=\"list-line-item\">\n                                <div className=\"list-line-badge bg-warning\" />\n\n                                <div className=\"list-line-content\">\n                                  <h4 className=\"text-warning mb-1\">Timesheet Setup</h4>\n                                  <p className=\"jr-fs-sm text-light mb-0\">8:45 pm</p>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n\n                          <CardMenu\n                            menuState={menuState}\n                            anchorEl={anchorEl}\n                            handleRequestClose={this.handleRequestClose.bind(this)}\n                          />\n                        </div>\n                      </div>\n                      {/* ChartCard 7 */}\n\n                      <div className=\"col-lg-3 col-12\">\n                        <div className=\"jr-card jr-full-card\">\n                          <CardHeader heading={<IntlMessages id=\"dashboard.list.of.paiement\" />} />\n\n                          <UserDetailTable\n                            data={this.state.listPayments}\n                            tableStyle=\"full-table-last-sm\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {first_connexion === 'true' ? (\n                    <ResetPasswordModal\n                      isopen={this.state.isopen}\n                      handleCancel={this.handleCancel}\n                      handleChange={this.handleChange}\n                      ResetPassword={this.ResetPassword}\n                      values={this.state}\n                    />\n                  ) : (\n                    ''\n                  )}\n                </div>\n              )}\n            />\n            <Can\n              role={role}\n              perform=\"Student.Dashborad:visit\"\n              yes={() => (\n                <div>\n                  <StudentDashborad />\n                  {first_connexion === 'true' ? (\n                    <ResetPasswordModal\n                      isopen={this.state.isopen}\n                      handleCancel={this.handleCancel}\n                      handleChange={this.handleChange}\n                      ResetPassword={this.ResetPassword}\n                      values={this.state}\n                    />\n                  ) : (\n                    ''\n                  )}\n                </div>\n              )}\n            />\n            <Can\n              role={role}\n              perform=\"Professor.Dashborad:visit\"\n              yes={() => (\n                <div>\n                  <ProfessorDashborad />\n                  {first_connexion === 'true' ? (\n                    <ResetPasswordModal\n                      isopen={this.state.isopen}\n                      handleCancel={this.handleCancel}\n                      handleChange={this.handleChange}\n                      ResetPassword={this.ResetPassword}\n                      values={this.state}\n                    />\n                  ) : (\n                    ''\n                  )}\n                </div>\n              )}\n            />\n          </div>\n        )}\n      </RoleContext.Consumer>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    userProfile: state.auth.userProfile,\n    users: state.stuppUsers.remoteStuppUsers,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getAllUsersByEstablishmentId,\n})(Home);\n"]},"metadata":{},"sourceType":"module"}