{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/SchoolYear/SchoolYearModal.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport Auxiliary from \"../../../../../util/Auxiliary\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport { updateShoolYear } from \"../../../../../actions/SchoolYearEtabAction\";\n\nclass SchoolYearModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = name => event => {\n      let schoolYear = this.props.schoolYear.filter(element => element.id === event.target.value);\n      this.setState({\n        [name]: event.target.value,\n        schoolYearName: schoolYear[0].name\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const userProfile = Object.assign({}, this.props.userProfile, {\n        school_year_id: this.state.schoolYearId,\n        school_year_name: this.state.schoolYearName\n      });\n      localStorage.setItem(\"school_year_name\", this.state.schoolYearName);\n      localStorage.setItem(\"school_year_id\", this.state.schoolYearId);\n      this.props.dispatch(updateShoolYear(userProfile));\n      this.props.cancelModal();\n    };\n\n    this.state = {\n      schoolYearId: null,\n      schoolYearName: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentWillMount() {\n    this.setState({\n      schoolYearId: this.props.userProfile.school_year_id,\n      schoolYearName: this.props.userProfile.school_year_name\n    });\n  }\n\n  render() {\n    let {\n      schoolYear\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Auxiliary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.props.openSchoolYearModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.props.cancelModal,\n      className: \"modal-box-header bg-primary text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"filter.school.years\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"row\",\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      required: true,\n      name: \"appLang_id\",\n      id: \"appLang_id\",\n      select: true,\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"list.school.year\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 28\n        }\n      }),\n      value: this.state.schoolYearId,\n      onChange: this.handleChange(\"schoolYearId\"),\n      fullWidth: true,\n      SelectProps: {},\n      margin: \"normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    }, schoolYear.map((year, index) => /*#__PURE__*/React.createElement(MenuItem, {\n      key: index,\n      value: year.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }\n    }, year.name))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 text-right \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        borderBottomLeftRadius: \"16px\",\n        borderBottomRightRadius: \"16px\",\n        borderTopLeftRadius: \"16px\",\n        borderTopRightRadius: \"16px\",\n        width: \"10%\",\n        height: \"6%\"\n      },\n      variant: \"contained\",\n      className: \" bg-indigo text-white \",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.buttonAdd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    })), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(Button, {\n      style: {\n        borderBottomLeftRadius: \"16px\",\n        borderBottomRightRadius: \"16px\",\n        borderTopLeftRadius: \"16px\",\n        borderTopRightRadius: \"16px\",\n        width: \"10%\",\n        height: \"6%\"\n      },\n      variant: \"contained\",\n      className: \" bg-grey text-white \",\n      onClick: this.props.cancelModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.establishments.formadd.buttonCancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    })))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    schoolYear: state.schoolYearEtab.schoolYear,\n    userProfile: state.auth.userProfile\n  };\n}\n\nexport default connect(mapStateToProps)(SchoolYearModal);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/SchoolYear/SchoolYearModal.js"],"names":["React","connect","Auxiliary","Modal","ModalBody","ModalHeader","IntlMessages","TextField","MenuItem","Button","updateShoolYear","SchoolYearModal","Component","constructor","props","handleChange","name","event","schoolYear","filter","element","id","target","value","setState","schoolYearName","handleSubmit","e","preventDefault","userProfile","Object","assign","school_year_id","state","schoolYearId","school_year_name","localStorage","setItem","dispatch","cancelModal","bind","componentWillMount","render","openSchoolYearModal","map","year","index","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","width","height","mapStateToProps","schoolYearEtab","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Auxiliary from \"../../../../../util/Auxiliary\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport { updateShoolYear } from \"../../../../../actions/SchoolYearEtabAction\";\n\nclass SchoolYearModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      schoolYearId: null,\n      schoolYearName: \"\",\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange = (name) => (event) => {\n    let schoolYear = this.props.schoolYear.filter(\n      (element) => element.id === event.target.value\n    );\n\n    this.setState({\n      [name]: event.target.value,\n      schoolYearName: schoolYear[0].name,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const userProfile = Object.assign({}, this.props.userProfile, {\n      school_year_id: this.state.schoolYearId,\n      school_year_name: this.state.schoolYearName,\n    });\n    localStorage.setItem(\"school_year_name\", this.state.schoolYearName);\n    localStorage.setItem(\"school_year_id\", this.state.schoolYearId);\n    this.props.dispatch(updateShoolYear(userProfile));\n    this.props.cancelModal();\n  };\n  componentWillMount() {\n    this.setState({\n      schoolYearId: this.props.userProfile.school_year_id,\n      schoolYearName: this.props.userProfile.school_year_name,\n    });\n  }\n\n  render() {\n    let { schoolYear } = this.props;\n    return (\n      <div className=\"container\">\n        <Auxiliary>\n          <Modal isOpen={this.props.openSchoolYearModal}>\n            <ModalHeader\n              toggle={this.props.cancelModal}\n              className=\"modal-box-header bg-primary text-white\"\n            >\n              <IntlMessages id=\"filter.school.years\" />\n            </ModalHeader>\n            <ModalBody>\n              <form className=\"row\" autoComplete=\"off\">\n                <div className=\"col-md-6\">\n                  <TextField\n                    required\n                    name=\"appLang_id\"\n                    id=\"appLang_id\"\n                    select\n                    label={<IntlMessages id=\"list.school.year\" />}\n                    value={this.state.schoolYearId}\n                    onChange={this.handleChange(\"schoolYearId\")}\n                    fullWidth\n                    SelectProps={{}}\n                    margin=\"normal\"\n                  >\n                    {schoolYear.map((year, index) => (\n                      <MenuItem key={index} value={year.id}>\n                        {year.name}\n                      </MenuItem>\n                    ))}\n                  </TextField>\n                </div>\n              </form>\n              <div className=\"col-md-12 text-right \">\n                <Button\n                  style={{\n                    borderBottomLeftRadius: \"16px\",\n                    borderBottomRightRadius: \"16px\",\n                    borderTopLeftRadius: \"16px\",\n                    borderTopRightRadius: \"16px\",\n                    width: \"10%\",\n                    height: \"6%\",\n                  }}\n                  variant=\"contained\"\n                  className=\" bg-indigo text-white \"\n                  onClick={this.handleSubmit}\n                >\n                  {\n                    <IntlMessages id=\"components.establishments.formadd.buttonAdd\" />\n                  }\n                </Button>\n                &nbsp;&nbsp;\n                <Button\n                  style={{\n                    borderBottomLeftRadius: \"16px\",\n                    borderBottomRightRadius: \"16px\",\n                    borderTopLeftRadius: \"16px\",\n                    borderTopRightRadius: \"16px\",\n                    width: \"10%\",\n                    height: \"6%\",\n                  }}\n                  variant=\"contained\"\n                  className=\" bg-grey text-white \"\n                  onClick={this.props.cancelModal}\n                >\n                  {\n                    <IntlMessages id=\"components.establishments.formadd.buttonCancel\" />\n                  }\n                </Button>\n              </div>\n            </ModalBody>\n          </Modal>\n        </Auxiliary>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    schoolYear: state.schoolYearEtab.schoolYear,\n    userProfile: state.auth.userProfile,\n  };\n}\n\nexport default connect(mapStateToProps)(SchoolYearModal);\n"]},"metadata":{},"sourceType":"module"}