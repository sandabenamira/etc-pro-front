{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/PermissionSetting/PermissionList.js\";\nimport React, { Component } from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport Select from 'react-select';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport PermissionListItem from './PermissionListItem';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nexport class PermissionList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listPermissions: []\n    };\n    this.addPermission = this.addPermission.bind(this);\n    this.deletePermission = this.deletePermission.bind(this);\n    this.resetPermission = this.resetPermission.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      listPermissions: this.props.listPermissions\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.listPermissions !== this.props.listPermissions) {\n      this.setState({\n        listPermissions: this.props.listPermissions\n      });\n    }\n  }\n\n  resetPermission() {\n    this.setState({\n      listPermissions: this.props.listPermissions\n    });\n  }\n\n  deletePermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map(permission => {\n      let newPermission = permission.id === parseInt(idPermission) ? { ...permission,\n        role: permission.role.filter(role => role != idRole)\n      } : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions\n    });\n  }\n\n  addPermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map(permission => {\n      let newPermission = permission.id === parseInt(idPermission) ? { ...permission,\n        role: permission.role.concat([idRole])\n      } : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions\n    });\n  }\n\n  render() {\n    const {\n      values\n    } = this.props;\n    console.log(values, 'valuuues');\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-lg-12 col-sm-12 d-flex flex-column bd-highlight mb-3 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-md-12 col-lg-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row bd-highlight  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-3 col-md-6 col-lg-6 col-sm-6  mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        color: '#0000CD',\n        fontFamily: 'Roboto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"sidebar.components.permissionSetting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 col-md-2 col-lg-2 col-sm-2    \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"moduleId\",\n      name: \"moduleId\",\n      select: true,\n      value: values.moduleId,\n      onChange: this.props.handleChange('moduleId'),\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `sidebar.modules`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 24\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, this.props.estabModule.map((element, index) => /*#__PURE__*/React.createElement(MenuItem, {\n      key: index,\n      value: element.module.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, element.module.name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2 col-md-2 col-lg-2 col-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"classLevel\",\n      name: \"classLevel\",\n      select: true // value={this.state.filterLevelId}\n      // onChange={this.handleChangeFilter('filterLevelId')}\n      ,\n      SelectProps: {},\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `sidebar.modules`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 24\n        }\n      }),\n      InputProps: {\n        disableUnderline: true\n      },\n      margin: \"normal\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, this.props.estabModule.map(module => /*#__PURE__*/React.createElement(MenuItem, {\n      key: module.id,\n      value: module.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }, module.module.name)))))), /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-md-12 col-lg-12 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive-material\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      className: \"th-border-b\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `action.type.of.education`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `role.admin`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `component.etablishments.info.director`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `role.Supervisor`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `toDo.professor`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `userStuppDisplay.Student`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `userStuppDisplay.Parent`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, this.state.listPermissions.map(element => {\n      return /*#__PURE__*/React.createElement(PermissionListItem, {\n        permission: element,\n        addPermission: this.addPermission,\n        deletePermission: this.deletePermission,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      });\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row-reverse bd-highlight col-md-6 col-lg-6 col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      className: \"bg-secondary text-white \",\n      style: {\n        borderBottomLeftRadius: '10px',\n        borderBottomRightRadius: '10px',\n        borderTopLeftRadius: '10px',\n        borderTopRightRadius: '10px',\n        width: '100%',\n        height: '80%',\n        textTransform: 'capitalize'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, true ? /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"superadmin.apply.button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"button.modify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      style: {\n        borderBottomLeftRadius: '10px',\n        borderBottomRightRadius: '10px',\n        borderTopLeftRadius: '10px',\n        borderTopRightRadius: '10px',\n        width: '100%',\n        height: '80%',\n        textTransform: 'capitalize'\n      },\n      className: \" bg-grey text-white \",\n      onClick: this.resetPermission,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.classes.formadd.buttonCancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\nexport default PermissionList;","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Administration/routes/PermissionSetting/PermissionList.js"],"names":["React","Component","CardBox","Select","IntlMessages","Button","Table","TableBody","TableCell","TableHead","TableRow","PermissionListItem","TextField","MenuItem","PermissionList","constructor","props","state","listPermissions","addPermission","bind","deletePermission","resetPermission","componentDidMount","setState","componentDidUpdate","prevProps","idPermission","idRole","newListPermissions","map","permission","newPermission","id","parseInt","role","filter","concat","render","values","console","log","color","fontFamily","moduleId","handleChange","disableUnderline","estabModule","element","index","module","name","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","width","height","textTransform"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,yCAApB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,OAAO,MAAMC,cAAN,SAA6Bb,SAA7B,CAAuC;AAC5Cc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,eAAe,EAAE;AADN,KAAb;AAIA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKE,eAAL,GAAuB,KAAKA,eAAL,CAAqBF,IAArB,CAA0B,IAA1B,CAAvB;AACD;;AACDG,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,CAAc;AAAEN,MAAAA,eAAe,EAAE,KAAKF,KAAL,CAAWE;AAA9B,KAAd;AACD;;AACDO,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAIA,SAAS,CAACR,eAAV,KAA8B,KAAKF,KAAL,CAAWE,eAA7C,EAA8D;AAC5D,WAAKM,QAAL,CAAc;AAAEN,QAAAA,eAAe,EAAE,KAAKF,KAAL,CAAWE;AAA9B,OAAd;AACD;AACF;;AACDI,EAAAA,eAAe,GAAG;AAChB,SAAKE,QAAL,CAAc;AAAEN,MAAAA,eAAe,EAAE,KAAKF,KAAL,CAAWE;AAA9B,KAAd;AACD;;AACDG,EAAAA,gBAAgB,CAACM,YAAD,EAAeC,MAAf,EAAuB;AACrC,QAAIC,kBAAkB,GAAG,KAAKZ,KAAL,CAAWC,eAAX,CAA2BY,GAA3B,CAAgCC,UAAD,IAAgB;AACtE,UAAIC,aAAa,GACfD,UAAU,CAACE,EAAX,KAAkBC,QAAQ,CAACP,YAAD,CAA1B,GACI,EACE,GAAGI,UADL;AAEEI,QAAAA,IAAI,EAAEJ,UAAU,CAACI,IAAX,CAAgBC,MAAhB,CAAwBD,IAAD,IAAUA,IAAI,IAAIP,MAAzC;AAFR,OADJ,GAKIG,UANN;AAOA,aAAOC,aAAP;AACD,KATwB,CAAzB;AAUA,SAAKR,QAAL,CAAc;AACZN,MAAAA,eAAe,EAAEW;AADL,KAAd;AAGD;;AACDV,EAAAA,aAAa,CAACQ,YAAD,EAAeC,MAAf,EAAuB;AAClC,QAAIC,kBAAkB,GAAG,KAAKZ,KAAL,CAAWC,eAAX,CAA2BY,GAA3B,CAAgCC,UAAD,IAAgB;AACtE,UAAIC,aAAa,GACfD,UAAU,CAACE,EAAX,KAAkBC,QAAQ,CAACP,YAAD,CAA1B,GACI,EACE,GAAGI,UADL;AAEEI,QAAAA,IAAI,EAAEJ,UAAU,CAACI,IAAX,CAAgBE,MAAhB,CAAuB,CAACT,MAAD,CAAvB;AAFR,OADJ,GAKIG,UANN;AAOA,aAAOC,aAAP;AACD,KATwB,CAAzB;AAUA,SAAKR,QAAL,CAAc;AACZN,MAAAA,eAAe,EAAEW;AADL,KAAd;AAGD;;AACDS,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAa,KAAKvB,KAAxB;AACAwB,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAAoB,UAApB;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,qEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,+BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAE;AAAEG,QAAAA,KAAK,EAAE,SAAT;AAAoBC,QAAAA,UAAU,EAAE;AAAhC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,sCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF,eAOE;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,UADL;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,MAAM,MAHR;AAIE,MAAA,KAAK,EAAEJ,MAAM,CAACK,QAJhB;AAKE,MAAA,QAAQ,EAAE,KAAK5B,KAAL,CAAW6B,YAAX,CAAwB,UAAxB,CALZ;AAME,MAAA,WAAW,EAAE,EANf;AAOE,MAAA,KAAK,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAG,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPT;AAQE,MAAA,UAAU,EAAE;AAAEC,QAAAA,gBAAgB,EAAE;AAApB,OARd;AASE,MAAA,MAAM,EAAC,QATT;AAUE,MAAA,SAAS,MAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYG,KAAK9B,KAAL,CAAW+B,WAAX,CAAuBjB,GAAvB,CAA2B,CAACkB,OAAD,EAAUC,KAAV,kBAC1B,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,KAAf;AAAsB,MAAA,KAAK,EAAED,OAAO,CAACE,MAAR,CAAejB,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGe,OAAO,CAACE,MAAR,CAAeC,IADlB,CADD,CAZH,CADF,CAPF,eA2BE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,YADL;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,MAAM,MAHR,CAIE;AACA;AALF;AAME,MAAA,WAAW,EAAE,EANf;AAOE,MAAA,KAAK,eAAE,oBAAC,YAAD;AAAc,QAAA,EAAE,EAAG,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPT;AAQE,MAAA,UAAU,EAAE;AAAEL,QAAAA,gBAAgB,EAAE;AAApB,OARd;AASE,MAAA,MAAM,EAAC,QATT;AAUE,MAAA,SAAS,MAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYG,KAAK9B,KAAL,CAAW+B,WAAX,CAAuBjB,GAAvB,CAA4BoB,MAAD,iBAC1B,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,MAAM,CAACjB,EAAtB;AAA0B,MAAA,KAAK,EAAEiB,MAAM,CAACjB,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGiB,MAAM,CAACA,MAAP,CAAcC,IADjB,CADD,CAZH,CADF,CA3BF,CADF,CADF,eAmDE,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,+BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,aAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAG,0BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAME,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAG,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CANF,eASE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAG,uCAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CATF,eAaE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAG,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAbF,eAiBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAG,gBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAjBF,eAqBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAG,0BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CArBF,eAyBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAG,yBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAzBF,CADF,CADF,eAiCE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKlC,KAAL,CAAWC,eAAX,CAA2BY,GAA3B,CAAgCkB,OAAD,IAAa;AAC3C,0BACE,oBAAC,kBAAD;AACE,QAAA,UAAU,EAAEA,OADd;AAEE,QAAA,aAAa,EAAE,KAAK7B,aAFtB;AAGE,QAAA,gBAAgB,EAAE,KAAKE,gBAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD,KARA,CADH,CAjCF,CADF,CADF,CAnDF,eAoGE;AAAK,MAAA,SAAS,EAAC,kEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAC,WADV;AAEE,MAAA,SAAS,EAAC,0BAFZ;AAGE,MAAA,KAAK,EAAE;AACL+B,QAAAA,sBAAsB,EAAE,MADnB;AAELC,QAAAA,uBAAuB,EAAE,MAFpB;AAGLC,QAAAA,mBAAmB,EAAE,MAHhB;AAILC,QAAAA,oBAAoB,EAAE,MAJjB;AAKLC,QAAAA,KAAK,EAAE,MALF;AAMLC,QAAAA,MAAM,EAAE,KANH;AAOLC,QAAAA,aAAa,EAAE;AAPV,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAaG,oBACC,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,yBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,gBAGC,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,CADF,CADF,eAsBE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAC,WADV;AAEE,MAAA,KAAK,EAAE;AACLN,QAAAA,sBAAsB,EAAE,MADnB;AAELC,QAAAA,uBAAuB,EAAE,MAFpB;AAGLC,QAAAA,mBAAmB,EAAE,MAHhB;AAILC,QAAAA,oBAAoB,EAAE,MAJjB;AAKLC,QAAAA,KAAK,EAAE,MALF;AAMLC,QAAAA,MAAM,EAAE,KANH;AAOLC,QAAAA,aAAa,EAAE;AAPV,OAFT;AAWE,MAAA,SAAS,EAAC,sBAXZ;AAYE,MAAA,OAAO,EAAE,KAAKpC,eAZhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAcE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,yCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,CADF,CAtBF,CApGF,CADF;AAgJD;;AAvM2C;AA0M9C,eAAeR,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport CardBox from '../../../../../components/CardBox/index';\nimport Select from 'react-select';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport Button from '@material-ui/core/Button';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport PermissionListItem from './PermissionListItem';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport class PermissionList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listPermissions: [],\n    };\n\n    this.addPermission = this.addPermission.bind(this);\n    this.deletePermission = this.deletePermission.bind(this);\n    this.resetPermission = this.resetPermission.bind(this);\n  }\n  componentDidMount() {\n    this.setState({ listPermissions: this.props.listPermissions });\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.listPermissions !== this.props.listPermissions) {\n      this.setState({ listPermissions: this.props.listPermissions });\n    }\n  }\n  resetPermission() {\n    this.setState({ listPermissions: this.props.listPermissions });\n  }\n  deletePermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map((permission) => {\n      let newPermission =\n        permission.id === parseInt(idPermission)\n          ? {\n              ...permission,\n              role: permission.role.filter((role) => role != idRole),\n            }\n          : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions,\n    });\n  }\n  addPermission(idPermission, idRole) {\n    let newListPermissions = this.state.listPermissions.map((permission) => {\n      let newPermission =\n        permission.id === parseInt(idPermission)\n          ? {\n              ...permission,\n              role: permission.role.concat([idRole]),\n            }\n          : permission;\n      return newPermission;\n    });\n    this.setState({\n      listPermissions: newListPermissions,\n    });\n  }\n  render() {\n    const { values } = this.props;\n    console.log(values, 'valuuues');\n    return (\n      <div className=\"col-md-12 col-lg-12 col-sm-12 d-flex flex-column bd-highlight mb-3 \">\n        <CardBox styleName=\"col-md-12 col-lg-12 col-sm-12\">\n          <div className=\"d-flex flex-row bd-highlight  \">\n            <div className=\"p-3 col-md-6 col-lg-6 col-sm-6  mt-4\">\n              <h1 style={{ color: '#0000CD', fontFamily: 'Roboto' }}>\n                {' '}\n                <IntlMessages id=\"sidebar.components.permissionSetting\" />\n              </h1>\n            </div>\n            <div className=\"p-2 col-md-2 col-lg-2 col-sm-2    \">\n              <TextField\n                id=\"moduleId\"\n                name=\"moduleId\"\n                select\n                value={values.moduleId}\n                onChange={this.props.handleChange('moduleId')}\n                SelectProps={{}}\n                label={<IntlMessages id={`sidebar.modules`} />}\n                InputProps={{ disableUnderline: true }}\n                margin=\"normal\"\n                fullWidth\n              >\n                {this.props.estabModule.map((element, index) => (\n                  <MenuItem key={index} value={element.module.id}>\n                    {element.module.name}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n            <div className=\"p-2 col-md-2 col-lg-2 col-sm-2\">\n              <TextField\n                id=\"classLevel\"\n                name=\"classLevel\"\n                select\n                // value={this.state.filterLevelId}\n                // onChange={this.handleChangeFilter('filterLevelId')}\n                SelectProps={{}}\n                label={<IntlMessages id={`sidebar.modules`} />}\n                InputProps={{ disableUnderline: true }}\n                margin=\"normal\"\n                fullWidth\n              >\n                {this.props.estabModule.map((module) => (\n                  <MenuItem key={module.id} value={module.id}>\n                    {module.module.name}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </div>\n          </div>\n        </CardBox>\n        <CardBox styleName=\"col-md-12 col-lg-12 col-sm-12\">\n          <div className=\"table-responsive-material\">\n            <Table>\n              <TableHead className=\"th-border-b\">\n                <TableRow>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`action.type.of.education`} />\n                  </TableCell>\n\n                  <TableCell>\n                    <IntlMessages id={`role.admin`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`component.etablishments.info.director`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`role.Supervisor`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`toDo.professor`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`userStuppDisplay.Student`} />\n                  </TableCell>\n                  <TableCell>\n                    {' '}\n                    <IntlMessages id={`userStuppDisplay.Parent`} />\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {this.state.listPermissions.map((element) => {\n                  return (\n                    <PermissionListItem\n                      permission={element}\n                      addPermission={this.addPermission}\n                      deletePermission={this.deletePermission}\n                    />\n                  );\n                })}\n              </TableBody>\n            </Table>\n          </div>\n        </CardBox>\n        <div className=\"d-flex flex-row-reverse bd-highlight col-md-6 col-lg-6 col-sm-12\">\n          <div className=\" bd-highlight \">\n            <Button\n              variant=\"contained\"\n              className=\"bg-secondary text-white \"\n              style={{\n                borderBottomLeftRadius: '10px',\n                borderBottomRightRadius: '10px',\n                borderTopLeftRadius: '10px',\n                borderTopRightRadius: '10px',\n                width: '100%',\n                height: '80%',\n                textTransform: 'capitalize',\n              }}\n            >\n              {true ? (\n                <IntlMessages id=\"superadmin.apply.button\" />\n              ) : (\n                <IntlMessages id=\"button.modify\" />\n              )}\n            </Button>\n          </div>\n          <div className=\" bd-highlight mr-2\">\n            <Button\n              variant=\"contained\"\n              style={{\n                borderBottomLeftRadius: '10px',\n                borderBottomRightRadius: '10px',\n                borderTopLeftRadius: '10px',\n                borderTopRightRadius: '10px',\n                width: '100%',\n                height: '80%',\n                textTransform: 'capitalize',\n              }}\n              className=\" bg-grey text-white \"\n              onClick={this.resetPermission}\n            >\n              <IntlMessages id=\"components.classes.formadd.buttonCancel\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PermissionList;\n"]},"metadata":{},"sourceType":"module"}