{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/containers/SideNav/SidenavContent.js\";\nimport React, { Component } from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport IntlMessages from '../../util/IntlMessages';\nimport CustomScrollbars from '../../util/CustomScrollbars';\nimport { RoleContext } from \"../../Context\";\nimport Can from \"../../can\";\nimport { sousModuleEtab, sousModuleCalendar, sousModuleGrades, sousModuleLibraries, sousModuleFinancialManagement, sousModuleSuperadmin } from \"../../constants/StuppModules\";\n\nconst NavlinkItem = ({\n  pathName,\n  listMoule\n}) => {\n  return /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }, ({\n    role\n  }) => /*#__PURE__*/React.createElement(Can, {\n    role: role,\n    perform: `module-nav-${pathName}`,\n    yes: () => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"module-nav-access\",\n      data: {\n        mod: pathName,\n        moduleList: listMoule\n      },\n      yes: () => /*#__PURE__*/React.createElement(NavLink, {\n        to: {\n          pathname: \"/app/\" + pathName\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-view-dashboard zmdi-hc-fw\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"nav-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `sidebar.components.${pathName}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 46\n        }\n      }), \" \")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }));\n};\n\nconst MenuCollapseBoxItem = ({\n  pathName,\n  listModule,\n  sousModuleStupp\n}) => {\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"menu collapse-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, ({\n    role\n  }) => /*#__PURE__*/React.createElement(Can, {\n    role: role,\n    perform: `module-nav-${pathName}`,\n    yes: () => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"module-nav-access\",\n      data: {\n        mod: pathName,\n        moduleList: listModule\n      },\n      yes: () => /*#__PURE__*/React.createElement(Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-view-dashboard zmdi-hc-fw\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"nav-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `sidebar.components.${pathName}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 23\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"sub-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, sousModuleStupp.map((mod, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, ({\n    role\n  }) => /*#__PURE__*/React.createElement(Can, {\n    role: role,\n    perform: `module-nav-${mod.name}`,\n    yes: () => /*#__PURE__*/React.createElement(NavLink, {\n      to: {\n        pathname: \"/app/\" + mod.pathName\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"nav-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: `sidebar.components.${mod.name}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 50\n      }\n    }), \" \")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }))))));\n};\n\nclass SidenavContent extends Component {\n  componentDidMount() {\n    const {\n      history\n    } = this.props;\n    const that = this;\n    const pathname = `${history.location.pathname}`; // get current path\n\n    const menuLi = document.getElementsByClassName('menu');\n\n    for (let i = 0; i < menuLi.length; i++) {\n      menuLi[i].onclick = function (event) {\n        for (let j = 0; j < menuLi.length; j++) {\n          const parentLi = that.closest(this, 'li');\n\n          if (menuLi[j] !== this && (parentLi === null || !parentLi.classList.contains('open'))) {\n            menuLi[j].classList.remove('open');\n          }\n        }\n\n        this.classList.toggle('open');\n      };\n    }\n\n    const activeLi = document.querySelector('a[href=\"' + pathname + '\"]'); // select current a element\n\n    try {\n      const activeNav = this.closest(activeLi, 'ul'); // select closest ul\n\n      if (activeNav.classList.contains('sub-menu')) {\n        this.closest(activeNav, 'li').classList.add('open');\n      } else {\n        this.closest(activeLi, 'li').classList.add('open');\n      }\n    } catch (error) {}\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {\n      history\n    } = nextProps;\n    const pathname = `${history.location.pathname}`; // get current path\n\n    const activeLi = document.querySelector('a[href=\"' + pathname + '\"]'); // select current a element\n\n    try {\n      const activeNav = this.closest(activeLi, 'ul'); // select closest ul\n\n      if (activeNav.classList.contains('sub-menu')) {\n        this.closest(activeNav, 'li').classList.add('open');\n      } else {\n        this.closest(activeLi, 'li').classList.add('open');\n      }\n    } catch (error) {}\n  }\n\n  closest(el, selector) {\n    try {\n      let matchesFn; // find vendor prefix\n\n      ['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function (fn) {\n        if (typeof document.body[fn] == 'function') {\n          matchesFn = fn;\n          return true;\n        }\n\n        return false;\n      });\n      let parent; // traverse parents\n\n      while (el) {\n        parent = el.parentElement;\n\n        if (parent && parent[matchesFn](selector)) {\n          return parent;\n        }\n\n        el = parent;\n      }\n    } catch (e) {}\n\n    return null;\n  }\n\n  render() {\n    const estabModule = this.props.estabModule;\n    return /*#__PURE__*/React.createElement(CustomScrollbars, {\n      className: \" scrollbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: \"prepend-icon\",\n      to: \"/app/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"nav-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"sidebar.home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 42\n      }\n    })))), /*#__PURE__*/React.createElement(MenuCollapseBoxItem, {\n      pathName: 'administration',\n      listModule: estabModule,\n      sousModuleStupp: sousModuleEtab,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'virtual_classes',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'lesson',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'devoir',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(MenuCollapseBoxItem, {\n      pathName: 'calendar',\n      listModule: estabModule,\n      sousModuleStupp: sousModuleCalendar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'complaints',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'call_register',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'billetPass',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'mail',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(MenuCollapseBoxItem, {\n      pathName: 'menuGrade',\n      listModule: estabModule,\n      sousModuleStupp: sousModuleGrades,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'cafeteria',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'community',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'dashboard',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavlinkItem, {\n      pathName: 'health-monitoring',\n      listMoule: estabModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(MenuCollapseBoxItem, {\n      pathName: 'financial_management',\n      listModule: estabModule,\n      sousModuleStupp: sousModuleFinancialManagement,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(MenuCollapseBoxItem, {\n      pathName: 'e-libraries',\n      listModule: estabModule,\n      sousModuleStupp: sousModuleLibraries,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(MenuCollapseBoxItem, {\n      pathName: 'superadmin',\n      listModule: estabModule,\n      sousModuleStupp: sousModuleSuperadmin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n}\n\nexport default withRouter(SidenavContent);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/containers/SideNav/SidenavContent.js"],"names":["React","Component","NavLink","withRouter","Button","IntlMessages","CustomScrollbars","RoleContext","Can","sousModuleEtab","sousModuleCalendar","sousModuleGrades","sousModuleLibraries","sousModuleFinancialManagement","sousModuleSuperadmin","NavlinkItem","pathName","listMoule","role","mod","moduleList","pathname","MenuCollapseBoxItem","listModule","sousModuleStupp","map","index","name","SidenavContent","componentDidMount","history","props","that","location","menuLi","document","getElementsByClassName","i","length","onclick","event","j","parentLi","closest","classList","contains","remove","toggle","activeLi","querySelector","activeNav","add","error","componentWillReceiveProps","nextProps","el","selector","matchesFn","some","fn","body","parent","parentElement","e","render","estabModule"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport IntlMessages from '../../util/IntlMessages';\r\nimport CustomScrollbars from '../../util/CustomScrollbars';\r\nimport { RoleContext } from \"../../Context\";\r\nimport Can from \"../../can\";\r\nimport { sousModuleEtab, sousModuleCalendar, sousModuleGrades, sousModuleLibraries, sousModuleFinancialManagement,sousModuleSuperadmin } from \"../../constants/StuppModules\"\r\n\r\nconst NavlinkItem = ({ pathName, listMoule }) => {\r\n  return (\r\n    <RoleContext.Consumer>\r\n      {({ role }) => (\r\n        <Can\r\n          role={role}\r\n          perform={`module-nav-${pathName}`}\r\n          yes={() => (\r\n            <Can\r\n              role={role}\r\n              perform=\"module-nav-access\"\r\n              data={{\r\n                mod: pathName,\r\n                moduleList: listMoule\r\n              }}\r\n              yes={() => (\r\n                <NavLink to={{ pathname: \"/app/\" + pathName }}>\r\n                  <i className=\"zmdi zmdi-view-dashboard zmdi-hc-fw\" />\r\n                  <span className=\"nav-text\"><IntlMessages id={`sidebar.components.${pathName}`} /> </span>\r\n                </NavLink>\r\n              )}\r\n            />\r\n          )}\r\n        />\r\n      )\r\n      }\r\n    </RoleContext.Consumer >\r\n  )\r\n};\r\n\r\nconst MenuCollapseBoxItem = ({ pathName, listModule, sousModuleStupp }) => {\r\n  return (\r\n    <li className=\"menu collapse-box\">\r\n      <RoleContext.Consumer>\r\n        {({ role }) => (\r\n          <Can\r\n            role={role}\r\n            perform={`module-nav-${pathName}`}\r\n            yes={() => (\r\n              <Can\r\n                role={role}\r\n                perform=\"module-nav-access\"\r\n                data={{\r\n                  mod: pathName,\r\n                  moduleList: listModule\r\n                }}\r\n                yes={() => (\r\n                  <Button>\r\n                    <i className=\"zmdi zmdi-view-dashboard zmdi-hc-fw\" />\r\n                    <span className=\"nav-text\">\r\n                      <IntlMessages id={`sidebar.components.${pathName}`} />\r\n                    </span>\r\n                  </Button>\r\n                )} />\r\n            )}\r\n          />\r\n        )}\r\n      </RoleContext.Consumer>\r\n      <ul className=\"sub-menu\">\r\n        {sousModuleStupp.map((mod, index) => (\r\n\r\n\r\n          <li key={index}>\r\n            <RoleContext.Consumer>\r\n              {({ role }) => (\r\n                <Can\r\n                  role={role}\r\n                  perform={`module-nav-${mod.name}`}\r\n                  yes={() => (\r\n                    <NavLink to={{ pathname: \"/app/\" + mod.pathName }}>\r\n                      <span className=\"nav-text\"><IntlMessages id={`sidebar.components.${mod.name}`} /> </span>\r\n                    </NavLink>\r\n                  )} />)}\r\n            </RoleContext.Consumer>\r\n\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </li >\r\n  )\r\n}\r\nclass SidenavContent extends Component {\r\n\r\n  componentDidMount() {\r\n\r\n    const { history } = this.props;\r\n    const that = this;\r\n    const pathname = `${history.location.pathname}`;// get current path\r\n    const menuLi = document.getElementsByClassName('menu');\r\n\r\n    for (let i = 0; i < menuLi.length; i++) {\r\n      menuLi[i].onclick = function (event) {\r\n        for (let j = 0; j < menuLi.length; j++) {\r\n          const parentLi = that.closest(this, 'li');\r\n          if (menuLi[j] !== this && (parentLi === null || !parentLi.classList.contains('open'))) {\r\n            menuLi[j].classList.remove('open')\r\n          }\r\n        }\r\n        this.classList.toggle('open');\r\n      }\r\n    }\r\n\r\n    const activeLi = document.querySelector('a[href=\"' + pathname + '\"]');// select current a element\r\n    try {\r\n      const activeNav = this.closest(activeLi, 'ul'); // select closest ul\r\n      if (activeNav.classList.contains('sub-menu')) {\r\n        this.closest(activeNav, 'li').classList.add('open');\r\n      } else {\r\n        this.closest(activeLi, 'li').classList.add('open');\r\n      }\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const { history } = nextProps;\r\n    const pathname = `${history.location.pathname}`;// get current path\r\n    const activeLi = document.querySelector('a[href=\"' + pathname + '\"]');// select current a element\r\n    try {\r\n      const activeNav = this.closest(activeLi, 'ul'); // select closest ul\r\n      if (activeNav.classList.contains('sub-menu')) {\r\n        this.closest(activeNav, 'li').classList.add('open');\r\n      } else {\r\n        this.closest(activeLi, 'li').classList.add('open');\r\n      }\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n\r\n  closest(el, selector) {\r\n    try {\r\n      let matchesFn;\r\n      // find vendor prefix\r\n      ['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function (fn) {\r\n        if (typeof document.body[fn] == 'function') {\r\n          matchesFn = fn;\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n\r\n      let parent;\r\n\r\n      // traverse parents\r\n      while (el) {\r\n        parent = el.parentElement;\r\n        if (parent && parent[matchesFn](selector)) {\r\n          return parent;\r\n        }\r\n        el = parent;\r\n      }\r\n    } catch (e) {\r\n\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const estabModule = this.props.estabModule;\r\n    return (\r\n      <CustomScrollbars className=\" scrollbar\">\r\n        <ul className=\"nav-menu\">\r\n          <li>\r\n            <NavLink className=\"prepend-icon\" to=\"/app/home\">\r\n              <span className=\"nav-text\"><IntlMessages id=\"sidebar.home\" /></span>\r\n            </NavLink>\r\n          </li>\r\n       \r\n          <MenuCollapseBoxItem\r\n            pathName={'administration'}\r\n            listModule={estabModule}\r\n            sousModuleStupp={sousModuleEtab} />\r\n          <li>\r\n            <NavlinkItem pathName={'virtual_classes'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'lesson'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'devoir'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <MenuCollapseBoxItem\r\n            pathName={'calendar'}\r\n            listModule={estabModule}\r\n            sousModuleStupp={sousModuleCalendar} />\r\n          <li>\r\n            <NavlinkItem pathName={'complaints'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'call_register'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'billetPass'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'mail'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <MenuCollapseBoxItem\r\n            pathName={'menuGrade'}\r\n            listModule={estabModule}\r\n            sousModuleStupp={sousModuleGrades} />\r\n          <li>\r\n            <NavlinkItem pathName={'cafeteria'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'community'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'dashboard'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <li>\r\n            <NavlinkItem pathName={'health-monitoring'}\r\n              listMoule={estabModule}\r\n            />\r\n          </li>\r\n          <MenuCollapseBoxItem\r\n            pathName={'financial_management'}\r\n            listModule={estabModule}\r\n            sousModuleStupp={sousModuleFinancialManagement}\r\n          />\r\n          <MenuCollapseBoxItem\r\n            pathName={'e-libraries'}\r\n            listModule={estabModule}\r\n            sousModuleStupp={sousModuleLibraries}\r\n          />\r\n             <li>\r\n          <MenuCollapseBoxItem\r\n            pathName={'superadmin'}\r\n            listModule={estabModule}\r\n            sousModuleStupp={sousModuleSuperadmin}\r\n          />\r\n\r\n          </li>\r\n       \r\n        </ul>\r\n      </CustomScrollbars >\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SidenavContent);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}