{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Cafeteria/CafeteriaMenuList.js\";\nimport React, { Component } from 'react';\nimport CafeteriaMenuItem from './CafeteriaMenuItem';\nimport EditCafeteriaMenu from './EditCafeteriaMenu';\nimport { editMenu } from '../../../actions/CafeteriaAction';\nimport { connect } from 'react-redux';\n\nclass CafeteriaMenuList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.editCafeteriaMenu = () => {\n      var data = {};\n      data.menu_date = this.state.menu_date;\n      data.prix = this.state.prix;\n      data.suite = this.state.suite;\n      data.dessert = this.state.dessert;\n      data.entree = this.state.entree;\n      data.establishment_id = this.props.userProfile.establishment_id;\n      data.status = true;\n      data.id = this.state.id;\n      this.props.editMenu(data);\n      this.setState({\n        editIsopen: false,\n        menu_date: new Date(),\n        prix: '',\n        suite: '',\n        dessert: '',\n        entree: ''\n      });\n    };\n\n    this.editMenuShowModal = MenuObjectEdit => {\n      this.setState({\n        editIsopen: true,\n        menu_date: MenuObjectEdit.menu_date,\n        prix: MenuObjectEdit.prix,\n        suite: MenuObjectEdit.suite,\n        dessert: MenuObjectEdit.dessert,\n        entree: MenuObjectEdit.entree,\n        establishment_id: MenuObjectEdit.establishment_id,\n        id: MenuObjectEdit.id\n      });\n    };\n\n    this.handleChangeDate = date => {\n      this.setState({\n        menu_date: date\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        editIsopen: false\n      });\n    };\n\n    this.state = {\n      menu_date: new Date(),\n      prix: '',\n      suite: '',\n      dessert: '',\n      entree: '',\n      id: ''\n    };\n    this.editMenuShowModal = this.editMenuShowModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.editCafeteriaMenu = this.editCafeteriaMenu.bind(this);\n  }\n\n  render() {\n    const {\n      values\n    } = this.props;\n    var ListByFilter;\n\n    if (values.selectedFilterDate === null) {\n      ListByFilter = this.props.MenuList;\n    } else {\n      ListByFilter = this.props.MenuList.filter(element => element.menu_date.slice(0, 10) === values.selectedFilterDate);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, ListByFilter.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row animated slideInUpTiny animation-duration-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, ListByFilter.map(element => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CafeteriaMenuItem, {\n      MenuItem: element,\n      editMenuShowModal: this.editMenuShowModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    })))) : '', this.state.editIsopen === true ? /*#__PURE__*/React.createElement(EditCafeteriaMenu, {\n      MenuList: this.props.MenuList,\n      values: this.state,\n      handleCancel: this.handleCancel,\n      handleChange: this.handleChange,\n      handleChangeDate: this.handleChangeDate,\n      editCafeteriaMenu: this.editCafeteriaMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }) : '');\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    settings: state.settings.locale,\n    MenuList: state.CafeteriaReducer.remoteCafeteria\n  };\n}\n\nexport default connect(mapStateToProps, {\n  editMenu\n})(CafeteriaMenuList);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Cafeteria/CafeteriaMenuList.js"],"names":["React","Component","CafeteriaMenuItem","EditCafeteriaMenu","editMenu","connect","CafeteriaMenuList","constructor","props","editCafeteriaMenu","data","menu_date","state","prix","suite","dessert","entree","establishment_id","userProfile","status","id","setState","editIsopen","Date","editMenuShowModal","MenuObjectEdit","handleChangeDate","date","handleChange","name","event","target","value","handleCancel","bind","render","values","ListByFilter","selectedFilterDate","MenuList","filter","element","slice","length","map","mapStateToProps","auth","successStatus","alert","success","errorStatus","error","message","settings","locale","CafeteriaReducer","remoteCafeteria"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport CafeteriaMenuItem from './CafeteriaMenuItem';\nimport EditCafeteriaMenu from './EditCafeteriaMenu';\nimport { editMenu } from '../../../actions/CafeteriaAction';\nimport { connect } from 'react-redux';\nclass CafeteriaMenuList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      menu_date: new Date(),\n      prix: '',\n      suite: '',\n      dessert: '',\n      entree: '',\n      id: '',\n    };\n    this.editMenuShowModal = this.editMenuShowModal.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.editCafeteriaMenu = this.editCafeteriaMenu.bind(this);\n  }\n\n  editCafeteriaMenu = () => {\n    var data = {};\n    data.menu_date = this.state.menu_date;\n    data.prix = this.state.prix;\n    data.suite = this.state.suite;\n    data.dessert = this.state.dessert;\n    data.entree = this.state.entree;\n    data.establishment_id = this.props.userProfile.establishment_id;\n    data.status = true;\n    data.id = this.state.id;\n    this.props.editMenu(data);\n    this.setState({\n      editIsopen: false,\n      menu_date: new Date(),\n      prix: '',\n      suite: '',\n      dessert: '',\n      entree: '',\n    });\n  };\n\n  editMenuShowModal = (MenuObjectEdit) => {\n    this.setState({\n      editIsopen: true,\n      menu_date: MenuObjectEdit.menu_date,\n      prix: MenuObjectEdit.prix,\n      suite: MenuObjectEdit.suite,\n      dessert: MenuObjectEdit.dessert,\n      entree: MenuObjectEdit.entree,\n      establishment_id: MenuObjectEdit.establishment_id,\n      id: MenuObjectEdit.id,\n    });\n  };\n\n  handleChangeDate = (date) => {\n    this.setState({ menu_date: date });\n  };\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  handleCancel = () => {\n    this.setState({\n      editIsopen: false,\n    });\n  };\n\n  render() {\n    const { values } = this.props;\n    var ListByFilter;\n\n    if (values.selectedFilterDate === null) {\n      ListByFilter = this.props.MenuList;\n    } else {\n      ListByFilter = this.props.MenuList.filter(\n        (element) =>\n          element.menu_date.slice(0, 10) === values.selectedFilterDate\n      );\n    }\n\n    return (\n      <div>\n        {ListByFilter.length > 0 ? (\n          <div className=\"row animated slideInUpTiny animation-duration-3\">\n            {ListByFilter.map((element) => (\n              <div className=\"col-md-4 pt-3\">\n                <CafeteriaMenuItem\n                  MenuItem={element}\n                  editMenuShowModal={this.editMenuShowModal}\n                />\n              </div>\n            ))}\n          </div>\n        ) : (\n          ''\n        )}\n\n        {this.state.editIsopen === true ? (\n          <EditCafeteriaMenu\n            MenuList={this.props.MenuList}\n            values={this.state}\n            handleCancel={this.handleCancel}\n            handleChange={this.handleChange}\n            handleChangeDate={this.handleChangeDate}\n            editCafeteriaMenu={this.editCafeteriaMenu}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    settings: state.settings.locale,\n    MenuList: state.CafeteriaReducer.remoteCafeteria,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {\n    editMenu,\n  }\n)(CafeteriaMenuList);\n"]},"metadata":{},"sourceType":"module"}