{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Complaint/Complaint.js\";\nimport React, { Component } from \"react\";\nimport ComplaintTable from \"./ComplaintTable\";\nimport { connect } from \"react-redux\";\nimport Reclamer from \"./reclamer\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IntlMessages from \"../../../util/IntlMessages\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { UncontrolledAlert } from \"reactstrap\";\nimport ContainerHeader from \"../../../components/ContainerHeader/index\";\nimport { roleIdAdmin } from \"../../../config/config\";\nimport { handleReclamRequestClose, onComposeReclam, onReclamSend, getReclams_Recues, getReclams_Envoyées, onChangeStatusClose } from \"../../../actions/complaintAction\";\n\nclass Complaint extends Component {\n  constructor() {\n    super();\n    this._isMounted = false;\n\n    this.handleChange = name => event => {\n      if (this._isMounted) {\n        setTimeout(() => {\n          this.setState({\n            type: event.target.value\n          });\n        }, 500);\n      }\n    };\n\n    this.handleRequestClose = () => {\n      this.props.handleReclamRequestClose();\n    };\n\n    this.state = {\n      anchorEl: null,\n      type: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentWillMount() {\n    this._isMounted = true;\n\n    if (this._isMounted) {\n      this.props.getReclams_Recues();\n      this.props.getReclams_Envoyées();\n\n      if (localStorage.roles_id == roleIdAdmin) {\n        this.setState({\n          type: \"Reçues\"\n        });\n      } else {\n        this.setState({\n          type: \"Envoyées\"\n        });\n      }\n    }\n  }\n\n  onReclamSend(data) {\n    this.props.onReclamSend(data);\n  }\n\n  render() {\n    const {\n      locale,\n      alertMessageAR,\n      showMessage,\n      composeReclam,\n      folderReclamRecues,\n      alertMessage,\n      folderReclamEnvoyées,\n      alertMessageEN\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ContainerHeader, {\n      match: this.props.match,\n      title: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"Reclam.Reclambox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 20\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between  align-items-center col-md-12 col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      select: true,\n      value: this.state.type ? this.state.type : \"\",\n      onChange: this.handleChange(\"type\"),\n      label: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"choisir\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 26\n        }\n      }),\n      margin: \"normal\",\n      variant: \"outlined\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"Re\\xE7ues\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"Reclam.received\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(MenuItem, {\n      value: \"Envoy\\xE9es\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"Reclam.sent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      size: \"small\",\n      color: \"primary\",\n      \"aria-label\": \"Add\",\n      onClick: () => {\n        this.props.onComposeReclam();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    })))), showMessage ? /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, locale.languageId === \"tunisia\" ? alertMessageAR : locale.languageId === \"english\" ? alertMessageEN : alertMessage)) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 text-right \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, this.state.type == \"Reçues\" ? folderReclamRecues.length == 0 ? /*#__PURE__*/React.createElement(\"h1\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"complaint.no.r\\xE9clamation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    })) : /*#__PURE__*/React.createElement(ComplaintTable, {\n      Recues: folderReclamRecues,\n      Envoyées: folderReclamEnvoyées,\n      type: this.state.type,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }) : folderReclamEnvoyées.length == 0 ? /*#__PURE__*/React.createElement(\"h1\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"complaint.no.r\\xE9clamation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(ComplaintTable, {\n      Recues: folderReclamRecues,\n      Envoyées: folderReclamEnvoyées,\n      type: this.state.type,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Reclamer, {\n      open: composeReclam,\n      subjectReply: \"\",\n      emailReplay: \"\",\n      onClose: this.handleRequestClose.bind(this),\n      onMailSend: this.onReclamSend.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = ({\n  complaint,\n  settings\n}) => {\n  //const { width } = settings;\n  const {\n    composeReclam,\n    folderReclamEnvoyées,\n    folderReclamRecues,\n    showMessage,\n    alertMessage,\n    alertMessageAR,\n    alertMessageEN\n  } = complaint;\n  const {\n    locale\n  } = settings;\n  return {\n    locale,\n    showMessage,\n    alertMessage,\n    alertMessageAR,\n    composeReclam,\n    folderReclamEnvoyées,\n    folderReclamRecues,\n    alertMessageEN\n  };\n};\n\nexport default connect(mapStateToProps, {\n  handleReclamRequestClose,\n  onComposeReclam,\n  onReclamSend,\n  getReclams_Recues,\n  getReclams_Envoyées,\n  onChangeStatusClose\n})(Complaint);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Complaint/Complaint.js"],"names":["React","Component","ComplaintTable","connect","Reclamer","TextField","IntlMessages","MenuItem","Fab","AddIcon","UncontrolledAlert","ContainerHeader","roleIdAdmin","handleReclamRequestClose","onComposeReclam","onReclamSend","getReclams_Recues","getReclams_Envoyées","onChangeStatusClose","Complaint","constructor","_isMounted","handleChange","name","event","setTimeout","setState","type","target","value","handleRequestClose","props","state","anchorEl","bind","componentWillMount","localStorage","roles_id","data","render","locale","alertMessageAR","showMessage","composeReclam","folderReclamRecues","alertMessage","folderReclamEnvoyées","alertMessageEN","match","languageId","length","mapStateToProps","complaint","settings"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ComplaintTable from \"./ComplaintTable\";\nimport { connect } from \"react-redux\";\nimport Reclamer from \"./reclamer\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IntlMessages from \"../../../util/IntlMessages\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { UncontrolledAlert } from \"reactstrap\";\nimport ContainerHeader from \"../../../components/ContainerHeader/index\";\nimport { roleIdAdmin } from \"../../../config/config\";\nimport {\n  handleReclamRequestClose,\n  onComposeReclam,\n  onReclamSend,\n  getReclams_Recues,\n  getReclams_Envoyées,\n  onChangeStatusClose,\n} from \"../../../actions/complaintAction\";\n\nclass Complaint extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      anchorEl: null,\n      type: \"\",\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n  _isMounted = false;\n  componentWillMount() {\n    this._isMounted = true;\n    if (this._isMounted) {\n      this.props.getReclams_Recues();\n      this.props.getReclams_Envoyées();\n      if (localStorage.roles_id == roleIdAdmin) {\n        this.setState({ type: \"Reçues\" });\n      } else {\n        this.setState({ type: \"Envoyées\" });\n      }\n    }\n  }\n\n  handleChange = (name) => (event) => {\n    if (this._isMounted) {\n      setTimeout(() => {\n        this.setState({ type: event.target.value });\n      }, 500);\n    }\n  };\n  handleRequestClose = () => {\n    this.props.handleReclamRequestClose();\n  };\n\n  onReclamSend(data) {\n    this.props.onReclamSend(data);\n  }\n\n  render() {\n    const {\n      locale,\n      alertMessageAR,\n      showMessage,\n      composeReclam,\n      folderReclamRecues,\n      alertMessage,\n      folderReclamEnvoyées,\n      alertMessageEN,\n    } = this.props;\n\n    return (\n      <div>\n        <div className=\"app-wrapper\">\n          <ContainerHeader\n            match={this.props.match}\n            title={<IntlMessages id=\"Reclam.Reclambox\" />}\n          />\n          <div className=\"d-flex justify-content-between  align-items-center col-md-12 col-lg-12\">\n            <div className=\"col-md-6 col-lg-4\">\n              <div className=\"form-group\">\n                <TextField\n                  select\n                  value={this.state.type ? this.state.type : \"\"}\n                  onChange={this.handleChange(\"type\")}\n                  label={<IntlMessages id=\"choisir\" />}\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  fullWidth\n                >\n                  <MenuItem value=\"Reçues\">\n                    <IntlMessages id=\"Reclam.received\" />\n                  </MenuItem>\n                  <MenuItem value=\"Envoyées\">\n                    <IntlMessages id=\"Reclam.sent\" />\n                  </MenuItem>\n                </TextField>\n              </div>\n            </div>\n            <div className=\"col-md-2 text-right\">\n              <Fab\n                size=\"small\"\n                color=\"primary\"\n                aria-label=\"Add\"\n                onClick={() => {\n                  this.props.onComposeReclam();\n                }}\n              >\n                <AddIcon />\n              </Fab>\n            </div>\n          </div>\n\n          {showMessage ? (\n            <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n              <span className=\"icon-addon alert-addon\">\n                <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n              </span>\n              <span className=\"d-inline-block\">\n                {locale.languageId === \"tunisia\"\n                  ? alertMessageAR\n                  : locale.languageId === \"english\"\n                  ? alertMessageEN\n                  : alertMessage}\n              </span>\n            </UncontrolledAlert>\n          ) : (\n            \"\"\n          )}\n          <div className=\"col-md-12 text-right \">\n            {this.state.type == \"Reçues\" ? (\n              folderReclamRecues.length == 0 ? (\n                <h1 align=\"center\">\n                  <IntlMessages id=\"complaint.no.réclamation\" />\n                </h1>\n              ) : (\n                <ComplaintTable\n                  Recues={folderReclamRecues}\n                  Envoyées={folderReclamEnvoyées}\n                  type={this.state.type}\n                />\n              )\n            ) : folderReclamEnvoyées.length == 0 ? (\n              <h1 align=\"center\">\n                <IntlMessages id=\"complaint.no.réclamation\" />\n              </h1>\n            ) : (\n              <ComplaintTable\n                Recues={folderReclamRecues}\n                Envoyées={folderReclamEnvoyées}\n                type={this.state.type}\n              />\n            )}\n            <Reclamer\n              open={composeReclam}\n              subjectReply={\"\"}\n              emailReplay={\"\"}\n              onClose={this.handleRequestClose.bind(this)}\n              onMailSend={this.onReclamSend.bind(this)}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = ({ complaint, settings }) => {\n  //const { width } = settings;\n  const {\n    composeReclam,\n    folderReclamEnvoyées,\n    folderReclamRecues,\n    showMessage,\n    alertMessage,\n    alertMessageAR,\n    alertMessageEN,\n  } = complaint;\n  const { locale } = settings;\n  return {\n    locale,\n    showMessage,\n    alertMessage,\n    alertMessageAR,\n    composeReclam,\n    folderReclamEnvoyées,\n    folderReclamRecues,\n    alertMessageEN,\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {\n    handleReclamRequestClose,\n    onComposeReclam,\n    onReclamSend,\n    getReclams_Recues,\n    getReclams_Envoyées,\n    onChangeStatusClose,\n  }\n)(Complaint);\n"]},"metadata":{},"sourceType":"module"}