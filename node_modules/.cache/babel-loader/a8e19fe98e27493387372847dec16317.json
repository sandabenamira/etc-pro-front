{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Lesson/LessonGridItem.js\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport DeleteLesson from \"./DeleteLesson\";\nimport DownloadFiles from \"./DownloadFiles\";\nimport { deleteLesson } from \"../../../actions/LessonAction\";\nimport Can from \"../../../can\";\nimport { RoleContext } from \"../../../Context\";\nimport coursStudent from \"./Assets/coursStudent.webp\";\nimport matiereScolaire from \"./Assets/matiereScolaire.webp\";\n\nclass LessonGridItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onOptionMenuSelect = event => {\n      this.setState({\n        menuState: true,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        menuState: false\n      });\n    };\n\n    this.handleDeleteLesson = () => {\n      this.props.deleteLesson(this.props.lesson.id);\n      this.setState({\n        deleteIsopen: false\n      });\n    };\n\n    this.handleShowDeleteModal = () => {\n      this.setState({\n        menuState: false,\n        deleteIsopen: true\n      });\n    };\n\n    this.handleShowDownloadModal = () => {\n      this.setState({\n        opendownload: true,\n        menuState: false,\n        anchorEl: undefined\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        opendownload: false\n      });\n    };\n\n    this.state = {\n      url: \"\",\n      anchorEl: undefined,\n      menuState: false,\n      deleteIsopen: false,\n      opendownload: false\n    };\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteLesson = this.handleDeleteLesson.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleShowDownloadModal = this.handleShowDownloadModal.bind(this);\n  }\n\n  cancelModal() {\n    this.setState({\n      deleteIsopen: false\n    });\n  }\n\n  render() {\n    var imageList = [coursStudent, matiereScolaire];\n    var imageListItem = imageList[Math.floor(Math.random() * imageList.length)];\n    const {\n      name,\n      details,\n      creation_date\n    } = this.props.lesson;\n    const {\n      anchorEl,\n      menuState\n    } = this.state;\n    const {\n      divEyeClassname,\n      divEyeClassnameSpace\n    } = this.props;\n    return /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-3 col-md-4 col-sm-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card product-item  \",\n      style: {\n        borderTopLeftRadius: \"20px\",\n        borderTopRightRadius: \"20px\",\n        borderBottomLeftRadius: \"20px\",\n        borderBottomRightRadius: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header border-0 p-0\",\n      style: {\n        borderTopLeftRadius: \"20px\",\n        borderTopRightRadius: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid-thumb-equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"grid-thumb-cover jr-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Remy Sharp\",\n      src: imageListItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 col-sm-10 col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title fw-regular\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }\n    }, \"Sujet :\" + name, \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, moment(creation_date).format(\"L\"), \" \")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, \"Description :\" + details), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row  col-md-12 justify-content-between \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: divEyeClassnameSpace,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: divEyeClassname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"lesson-filter-class:visit\",\n      yes: () => /*#__PURE__*/React.createElement(IconButton, {\n        size: \"small\",\n        className: \"icon-btn\",\n        onClick: e => {\n          this.setState({\n            menuState: false\n          });\n          this.props.handleEdit(this.props.lesson);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-edit\",\n        style: {\n          color: \"#5422b9\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"lesson-filter-class:visit\",\n      yes: () => /*#__PURE__*/React.createElement(IconButton, {\n        size: \"small\",\n        className: \"icon-btn\",\n        onClick: this.handleShowDeleteModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-delete\",\n        style: {\n          color: \"#5422b9\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 29\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      className: \"icon-btn\",\n      onClick: this.handleShowDownloadModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-eye\",\n      style: {\n        color: \"#5422b9\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    })), \" \"))))), this.state.deleteIsopen ? /*#__PURE__*/React.createElement(DeleteLesson, {\n      cancelModal: this.cancelModal,\n      deleteIsopen: this.state.deleteIsopen,\n      handleDeleteLesson: this.handleDeleteLesson,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }) : \"\", this.state.opendownload === true ? /*#__PURE__*/React.createElement(DownloadFiles, {\n      opendownload: this.state.opendownload,\n      handleCancel: this.handleCancel,\n      lessonId: this.props.lesson.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }) : \"\"));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    classes: state.classes,\n    userProfile: state.auth.userProfile,\n    levels: state.ClassLevels.remoteLevels,\n    sections: state.classSections.remoteSections,\n    lessons: state.lessons.remoteLessons,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message\n  };\n}\n\nexport default connect(mapStateToProps, {\n  deleteLesson\n})(LessonGridItem);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Lesson/LessonGridItem.js"],"names":["React","moment","IconButton","_","connect","DeleteLesson","DownloadFiles","deleteLesson","Can","RoleContext","coursStudent","matiereScolaire","LessonGridItem","Component","constructor","props","onOptionMenuSelect","event","setState","menuState","anchorEl","currentTarget","handleRequestClose","handleDeleteLesson","lesson","id","deleteIsopen","handleShowDeleteModal","handleShowDownloadModal","opendownload","undefined","handleCancel","state","url","bind","cancelModal","render","imageList","imageListItem","Math","floor","random","length","name","details","creation_date","divEyeClassname","divEyeClassnameSpace","role","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","format","e","handleEdit","color","mapStateToProps","classes","userProfile","auth","levels","ClassLevels","remoteLevels","sections","classSections","remoteSections","lessons","remoteLessons","successStatus","alert","success","errorStatus","error","message"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport moment from \"moment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport DeleteLesson from \"./DeleteLesson\";\nimport DownloadFiles from \"./DownloadFiles\";\nimport { deleteLesson } from \"../../../actions/LessonAction\";\nimport Can from \"../../../can\";\nimport { RoleContext } from \"../../../Context\";\nimport coursStudent from \"./Assets/coursStudent.webp\";\nimport matiereScolaire from \"./Assets/matiereScolaire.webp\";\n\nclass LessonGridItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: \"\",\n      anchorEl: undefined,\n      menuState: false,\n      deleteIsopen: false,\n      opendownload: false,\n    };\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleDeleteLesson = this.handleDeleteLesson.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleShowDownloadModal = this.handleShowDownloadModal.bind(this);\n  }\n\n  onOptionMenuSelect = (event) => {\n    this.setState({\n      menuState: true,\n      anchorEl: event.currentTarget,\n    });\n  };\n  handleRequestClose = () => {\n    this.setState({ menuState: false });\n  };\n  handleDeleteLesson = () => {\n    this.props.deleteLesson(this.props.lesson.id);\n    this.setState({ deleteIsopen: false });\n  };\n  cancelModal() {\n    this.setState({ deleteIsopen: false });\n  }\n  handleShowDeleteModal = () => {\n    this.setState({ menuState: false, deleteIsopen: true });\n  };\n  handleShowDownloadModal = () => {\n    this.setState({\n      opendownload: true,\n      menuState: false,\n      anchorEl: undefined,\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({\n      opendownload: false,\n    });\n  };\n\n  render() {\n    var imageList = [coursStudent, matiereScolaire];\n    var imageListItem = imageList[Math.floor(Math.random() * imageList.length)];\n    const { name, details, creation_date } = this.props.lesson;\n    const { anchorEl, menuState } = this.state;\n    const { divEyeClassname, divEyeClassnameSpace } = this.props;\n\n    return (\n      <RoleContext.Consumer>\n        {({ role }) => (\n          <div className=\"col-xl-3 col-md-4 col-sm-6 col-12\">\n            <div\n              className=\"card product-item  \"\n              style={{\n                borderTopLeftRadius: \"20px\",\n                borderTopRightRadius: \"20px\",\n                borderBottomLeftRadius: \"20px\",\n                borderBottomRightRadius: \"20px\",\n              }}\n            >\n              <div\n                className=\"card-header border-0 p-0\"\n                style={{\n                  borderTopLeftRadius: \"20px\",\n                  borderTopRightRadius: \"20px\",\n                }}\n              >\n                <div className=\"card-image\">\n                  <div className=\"grid-thumb-equal\">\n                    <span className=\"grid-thumb-cover jr-link\">\n                      <img alt=\"Remy Sharp\" src={imageListItem} />\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"product-details\">\n                  <div className=\"row\">\n                    <div className=\"col-md-10 col-sm-10 col-10\">\n                      <h3 className=\"card-title fw-regular\">\n                        {\"Sujet :\" + name}{\" \"}\n                      </h3>\n                    </div>\n                  </div>\n                  <div className=\"d-flex \">\n                    <h4 className=\"text-success\">\n                      {moment(creation_date).format(\"L\")}{\" \"}\n                    </h4>\n                  </div>\n                  <p>{\"Description :\" + details}</p>\n                  <div className=\"d-flex flex-row  col-md-12 justify-content-between \">\n                    <div className={divEyeClassnameSpace}></div>\n                    <div className={divEyeClassname}>\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-class:visit\"\n                        yes={() => (\n                          <IconButton\n                            size=\"small\"\n                            className=\"icon-btn\"\n                            onClick={(e) => {\n                              this.setState({ menuState: false });\n                              this.props.handleEdit(this.props.lesson);\n                            }}\n                          >\n                            <i\n                              className=\"zmdi zmdi-edit\"\n                              style={{ color: \"#5422b9\" }}\n                            />\n                          </IconButton>\n                        )}\n                      />\n                      <Can\n                        role={role}\n                        perform=\"lesson-filter-class:visit\"\n                        yes={() => (\n                          <IconButton\n                            size=\"small\"\n                            className=\"icon-btn\"\n                            onClick={this.handleShowDeleteModal}\n                          >\n                            <i\n                              className=\"zmdi zmdi-delete\"\n                              style={{ color: \"#5422b9\" }}\n                            />\n                          </IconButton>\n                        )}\n                      />\n                      <IconButton\n                        size=\"small\"\n                        className=\"icon-btn\"\n                        onClick={this.handleShowDownloadModal}\n                      >\n                        <i\n                          className=\"zmdi zmdi-eye\"\n                          style={{ color: \"#5422b9\" }}\n                        />\n                      </IconButton>{\" \"}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {this.state.deleteIsopen ? (\n              <DeleteLesson\n                cancelModal={this.cancelModal}\n                deleteIsopen={this.state.deleteIsopen}\n                handleDeleteLesson={this.handleDeleteLesson}\n              />\n            ) : (\n              \"\"\n            )}\n\n            {this.state.opendownload === true ? (\n              <DownloadFiles\n                opendownload={this.state.opendownload}\n                handleCancel={this.handleCancel}\n                lessonId={this.props.lesson.id}\n              />\n            ) : (\n              \"\"\n            )}\n          </div>\n        )}\n      </RoleContext.Consumer>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    classes: state.classes,\n    userProfile: state.auth.userProfile,\n    levels: state.ClassLevels.remoteLevels,\n    sections: state.classSections.remoteSections,\n    lessons: state.lessons.remoteLessons,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n  };\n}\nexport default connect(\n  mapStateToProps,\n  {\n    deleteLesson,\n  }\n)(LessonGridItem);\n"]},"metadata":{},"sourceType":"module"}