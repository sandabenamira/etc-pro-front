{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BrowserDetector_1 = require(\"./BrowserDetector\");\n\nvar MonotonicInterpolant_1 = require(\"./MonotonicInterpolant\");\n\nvar ELEMENT_NODE = 1;\n\nfunction getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _a = el.getBoundingClientRect(),\n      top = _a.top,\n      left = _a.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\n\nexports.getNodeClientOffset = getNodeClientOffset;\n\nfunction getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nexports.getEventClientOffset = getEventClientOffset;\n\nfunction isImageNode(node) {\n  return node.nodeName === 'IMG' && (BrowserDetector_1.isFirefox() || !document.documentElement.contains(node));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (BrowserDetector_1.isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _a = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _a.dragPreviewWidth,\n      dragPreviewHeight = _a.dragPreviewHeight;\n\n  var calculateYOffset = function () {\n    var interpolantY = new MonotonicInterpolant_1.default([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (BrowserDetector_1.isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function () {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant_1.default([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}\n\nexports.getDragPreviewOffset = getDragPreviewOffset;","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js"],"names":["Object","defineProperty","exports","value","BrowserDetector_1","require","MonotonicInterpolant_1","ELEMENT_NODE","getNodeClientOffset","node","el","nodeType","parentElement","_a","getBoundingClientRect","top","left","x","y","getEventClientOffset","e","clientX","clientY","isImageNode","nodeName","isFirefox","document","documentElement","contains","getDragPreviewSize","isImage","dragPreview","sourceWidth","sourceHeight","dragPreviewWidth","width","dragPreviewHeight","height","isSafari","window","devicePixelRatio","getDragPreviewOffset","sourceNode","clientOffset","anchorPoint","offsetPoint","dragPreviewNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","offsetWidth","offsetHeight","anchorX","anchorY","calculateYOffset","interpolantY","default","interpolate","calculateXOffset","interpolantX","offsetX","offsetY","isManualOffsetX","isManualOffsetY"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserDetector_1 = require(\"./BrowserDetector\");\nvar MonotonicInterpolant_1 = require(\"./MonotonicInterpolant\");\nvar ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n    var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n    if (!el) {\n        return null;\n    }\n    var _a = el.getBoundingClientRect(), top = _a.top, left = _a.left;\n    return { x: left, y: top };\n}\nexports.getNodeClientOffset = getNodeClientOffset;\nfunction getEventClientOffset(e) {\n    return {\n        x: e.clientX,\n        y: e.clientY,\n    };\n}\nexports.getEventClientOffset = getEventClientOffset;\nfunction isImageNode(node) {\n    return (node.nodeName === 'IMG' &&\n        (BrowserDetector_1.isFirefox() || !document.documentElement.contains(node)));\n}\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n    var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n    var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight;\n    // Work around @2x coordinate discrepancies in browsers\n    if (BrowserDetector_1.isSafari() && isImage) {\n        dragPreviewHeight /= window.devicePixelRatio;\n        dragPreviewWidth /= window.devicePixelRatio;\n    }\n    return { dragPreviewWidth: dragPreviewWidth, dragPreviewHeight: dragPreviewHeight };\n}\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n    // The browsers will use the image intrinsic size under different conditions.\n    // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n    var isImage = isImageNode(dragPreview);\n    var dragPreviewNode = isImage ? sourceNode : dragPreview;\n    var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n    var offsetFromDragPreview = {\n        x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n        y: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n    };\n    var sourceWidth = sourceNode.offsetWidth, sourceHeight = sourceNode.offsetHeight;\n    var anchorX = anchorPoint.anchorX, anchorY = anchorPoint.anchorY;\n    var _a = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight), dragPreviewWidth = _a.dragPreviewWidth, dragPreviewHeight = _a.dragPreviewHeight;\n    var calculateYOffset = function () {\n        var interpolantY = new MonotonicInterpolant_1.default([0, 0.5, 1], [\n            // Dock to the top\n            offsetFromDragPreview.y,\n            // Align at the center\n            (offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n            // Dock to the bottom\n            offsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n        ]);\n        var y = interpolantY.interpolate(anchorY);\n        // Work around Safari 8 positioning bug\n        if (BrowserDetector_1.isSafari() && isImage) {\n            // We'll have to wait for @3x to see if this is entirely correct\n            y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n        }\n        return y;\n    };\n    var calculateXOffset = function () {\n        // Interpolate coordinates depending on anchor point\n        // If you know a simpler way to do this, let me know\n        var interpolantX = new MonotonicInterpolant_1.default([0, 0.5, 1], [\n            // Dock to the left\n            offsetFromDragPreview.x,\n            // Align at the center\n            (offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n            // Dock to the right\n            offsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n        ]);\n        return interpolantX.interpolate(anchorX);\n    };\n    // Force offsets if specified in the options.\n    var offsetX = offsetPoint.offsetX, offsetY = offsetPoint.offsetY;\n    var isManualOffsetX = offsetX === 0 || offsetX;\n    var isManualOffsetY = offsetY === 0 || offsetY;\n    return {\n        x: isManualOffsetX ? offsetX : calculateXOffset(),\n        y: isManualOffsetY ? offsetY : calculateYOffset(),\n    };\n}\nexports.getDragPreviewOffset = getDragPreviewOffset;\n"]},"metadata":{},"sourceType":"script"}