{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Learning/routes/VirtualClasses/VirtualClassDetails.js\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { Card, CardTitle } from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\nimport _ from 'lodash';\nimport { classService } from '../../../../../_services';\nimport Fab from '@material-ui/core/Fab';\n\nclass VirtualClassDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      virtualClassItem: {},\n      isBefore: false,\n      isAfter: false\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.virtualClasses !== this.props.virtualClasses) {\n      const sys = Date.parse(new Date()) / 60000;\n      let virtualClassItem = this.props.virtualClasses.find(element => element.id == this.props.match.params.classId);\n\n      if (virtualClassItem !== undefined) {\n        const start = Date.parse(virtualClassItem.date_virtual_class.slice(0, 10) + ' ' + moment(virtualClassItem.start_time_class).format('HH:mm')) / 60000;\n        const end = Date.parse(virtualClassItem.date_virtual_class.slice(0, 10) + ' ' + moment(virtualClassItem.end_time_class).format('HH:mm')) / 60000;\n\n        if (start > sys) {\n          this.setState({\n            isBefore: true\n          });\n        } else if (end < sys) {\n          this.setState({\n            isAfter: true\n          });\n        }\n      }\n\n      this.setState({\n        virtualClassItem\n      });\n    }\n  }\n\n  UNSAFE_componentWillMount() {\n    const sys = Date.parse(new Date()) / 60000;\n    let virtualClassItem = this.props.virtualClasses.find(element => element.id == this.props.match.params.classId);\n\n    if (virtualClassItem !== undefined) {\n      const start = Date.parse(virtualClassItem.date_virtual_class.slice(0, 10) + ' ' + moment(virtualClassItem.start_time_class).format('HH:mm')) / 60000;\n      const end = Date.parse(virtualClassItem.date_virtual_class.slice(0, 10) + ' ' + moment(virtualClassItem.end_time_class).format('HH:mm')) / 60000;\n\n      if (start > sys) {\n        this.setState({\n          isBefore: true\n        });\n      } else if (end < sys) {\n        this.setState({\n          isAfter: true\n        });\n      }\n    }\n\n    this.setState({\n      virtualClassItem\n    });\n  }\n\n  render() {\n    let classItem = {};\n    classItem = this.state.virtualClassItem;\n\n    if (classItem == undefined) {\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, \"Classe Virtuelle non disponible\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-12 text-left \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        className: \"bg-primary text-white \",\n        style: {\n          borderRadius: '15px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"zmdi zmdi-hc-2x zmdi-caret-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }\n      }), \"\\xA0\", /*#__PURE__*/React.createElement(NavLink, {\n        to: '/app/e-learning/virtual_classes',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.establishments.formadd.buttonCancel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row col-md-12 d-flex flex-row justify-content-between align-items-start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-7 col-lg-8 col-sm-12 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, this.state.isBefore ? /*#__PURE__*/React.createElement(\"h1\", {\n        style: {\n          textAlign: 'center',\n          color: '#3F51B5'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"virtuel.class.not.started\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 20\n        }\n      })) : this.state.isAfter ? /*#__PURE__*/React.createElement(\"h1\", {\n        style: {\n          textAlign: 'center',\n          color: '#3F51B5'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"virtuel.class.finished\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 20\n        }\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card-body pt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: '550px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"iframe\", {\n        allow: \"camera; microphone; fullscreen; display-capture\",\n        src: 'https://meet.jit.si/' + classItem.virtual_class_name,\n        style: {\n          height: '100%',\n          width: '100%',\n          border: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-5 col-lg-4 col-sm-5 col-12 mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card text-left pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card-header-color text-white bg-gradient-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-text pt-1\",\n        style: {\n          fontSize: '18px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 23\n        }\n      }, classItem.subjectName), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-text pt-1\",\n        style: {\n          fontSize: '21px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 23\n        }\n      }, ' ', classItem.virtual_class_name), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-text pt-1\",\n        style: {\n          fontSize: '21px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 23\n        }\n      }, classItem.classeName), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-text pt-1\",\n        style: {\n          fontSize: '18px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"zmdi zmdi-account zmdi-hc-fw zmdi-hc-lg text-white align-self-center \",\n        style: {\n          position: 'absolute',\n          left: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }), \"M.  \" + classItem.profName, \" \\xA0 \", classItem.profSurname), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"card-text \",\n        style: {\n          fontSize: '14px',\n          backgroundColor: 'white',\n          color: 'blue',\n          bottom: 1,\n          position: 'absolute',\n          left: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 23\n        }\n      }, ' ', \"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0\", moment(classItem.date_virtual_class).format('Do MMMM, '), moment(classItem.start_time_class).format('h:mm A'), \" -\", ' ', moment(classItem.end_time_class).format('h:mm A')))), classItem.description == '' ? /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"text-center  text-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }\n      }, \"Pas de description\", ' ') : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jr-card-body pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"card-text text-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }\n      }, ' ', /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"components.virtual.description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 27\n        }\n      }), \":\", ' ')), /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontSize: '14px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 23\n        }\n      }, classItem.description)))))));\n    }\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    virtualClasses: state.classVirtualReducer.remoteClassVirtual,\n    userProfile: state.auth.userProfile\n  };\n}\n\nexport default connect(mapStateToProps)(VirtualClassDetails);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Learning/routes/VirtualClasses/VirtualClassDetails.js"],"names":["React","Component","Button","IntlMessages","moment","connect","Card","CardTitle","NavLink","_","classService","Fab","VirtualClassDetails","constructor","props","state","virtualClassItem","isBefore","isAfter","componentDidUpdate","prevProps","virtualClasses","sys","Date","parse","find","element","id","match","params","classId","undefined","start","date_virtual_class","slice","start_time_class","format","end","end_time_class","setState","UNSAFE_componentWillMount","render","classItem","textAlign","borderRadius","color","height","virtual_class_name","width","border","fontSize","subjectName","classeName","position","left","profName","profSurname","backgroundColor","bottom","description","mapStateToProps","classVirtualReducer","remoteClassVirtual","userProfile","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { Card, CardTitle } from 'reactstrap';\nimport { NavLink } from 'react-router-dom';\nimport _ from 'lodash';\nimport { classService } from '../../../../../_services';\nimport Fab from '@material-ui/core/Fab';\n\nclass VirtualClassDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      virtualClassItem: {},\n      isBefore: false,\n      isAfter: false,\n    };\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.virtualClasses !== this.props.virtualClasses) {\n      const sys = Date.parse(new Date()) / 60000;\n      let virtualClassItem = this.props.virtualClasses.find(\n        (element) => element.id == this.props.match.params.classId\n      );\n      if (virtualClassItem !== undefined) {\n        const start =\n          Date.parse(\n            virtualClassItem.date_virtual_class.slice(0, 10) +\n              ' ' +\n              moment(virtualClassItem.start_time_class).format('HH:mm')\n          ) / 60000;\n        const end =\n          Date.parse(\n            virtualClassItem.date_virtual_class.slice(0, 10) +\n              ' ' +\n              moment(virtualClassItem.end_time_class).format('HH:mm')\n          ) / 60000;\n        if (start > sys) {\n          this.setState({ isBefore: true });\n        } else if (end < sys) {\n          this.setState({ isAfter: true });\n        }\n      }\n      this.setState({ virtualClassItem });\n    }\n  }\n  UNSAFE_componentWillMount() {\n    const sys = Date.parse(new Date()) / 60000;\n    let virtualClassItem = this.props.virtualClasses.find(\n      (element) => element.id == this.props.match.params.classId\n    );\n    if (virtualClassItem !== undefined) {\n      const start =\n        Date.parse(\n          virtualClassItem.date_virtual_class.slice(0, 10) +\n            ' ' +\n            moment(virtualClassItem.start_time_class).format('HH:mm')\n        ) / 60000;\n      const end =\n        Date.parse(\n          virtualClassItem.date_virtual_class.slice(0, 10) +\n            ' ' +\n            moment(virtualClassItem.end_time_class).format('HH:mm')\n        ) / 60000;\n      if (start > sys) {\n        this.setState({ isBefore: true });\n      } else if (end < sys) {\n        this.setState({ isAfter: true });\n      }\n    }\n    this.setState({ virtualClassItem });\n  }\n\n  render() {\n    let classItem = {};\n    classItem = this.state.virtualClassItem;\n     if (classItem == undefined) {\n      return (\n        <h1 style={{ textAlign: 'center' }}>Classe Virtuelle non disponible</h1>\n      );\n    } else {\n      return (\n        <div>\n          <div className=\"col-md-12 text-left \">\n            <br />\n            <br />\n            <Button\n              className=\"bg-primary text-white \"\n              style={{ borderRadius: '15px' }}\n            >\n              <i class=\"zmdi zmdi-hc-2x zmdi-caret-left\"></i>&nbsp;\n              <NavLink to={'/app/e-learning/virtual_classes'}>\n                <span className=\"text-white\">\n                  <IntlMessages id=\"components.establishments.formadd.buttonCancel\" />\n                </span>\n              </NavLink>\n            </Button>\n          </div>\n          <div className=\"row col-md-12 d-flex flex-row justify-content-between align-items-start\">\n            <div className=\"col-md-7 col-lg-8 col-sm-12 mb-2\">\n              {this.state.isBefore ? (\n                <h1 style={{ textAlign: 'center', color: '#3F51B5' }}>\n                  {' '}\n                  {<IntlMessages id=\"virtuel.class.not.started\" />}\n                </h1>\n              ) : this.state.isAfter ? (\n                <h1 style={{ textAlign: 'center', color: '#3F51B5' }}>\n                  {<IntlMessages id=\"virtuel.class.finished\" />}\n                </h1>\n              ) : (\n                <div className=\"jr-card-body pt-2\">\n                  <div style={{ height: '550px' }}>\n                    <iframe\n                      allow=\"camera; microphone; fullscreen; display-capture\"\n                      src={\n                        'https://meet.jit.si/' + classItem.virtual_class_name\n                      }\n                      style={{ height: '100%', width: '100%', border: 0 }}\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className=\"col-md-5 col-lg-4 col-sm-5 col-12 mt-5\">\n              <div className=\"col-12 mb-2\">\n                <div className=\"jr-card text-left pt-1\">\n                  <div className=\"jr-card-header-color text-white bg-gradient-primary\">\n                    <div className=\"d-flex flex-column\">\n                      <span\n                        className=\"card-text pt-1\"\n                        style={{ fontSize: '18px' }}\n                      >\n                        {classItem.subjectName}\n                      </span>\n                      <br />\n                      <span\n                        className=\"card-text pt-1\"\n                        style={{ fontSize: '21px' }}\n                      >\n                        {' '}\n                        {classItem.virtual_class_name}\n                      </span>\n                      <br />\n                      <span\n                        className=\"card-text pt-1\"\n                        style={{ fontSize: '21px' }}\n                      >\n                        {classItem.classeName}\n                      </span>\n                      <br />\n                      <span\n                        className=\"card-text pt-1\"\n                        style={{ fontSize: '18px' }}\n                      >\n                        <i\n                          className=\"zmdi zmdi-account zmdi-hc-fw zmdi-hc-lg text-white align-self-center \"\n                          style={{ position: 'absolute', left: 0 }}\n                        />\n                        {\"M.  \"+ classItem.profName} &nbsp; {classItem.profSurname}\n                      </span>\n                      <br />\n                      <span\n                        className=\"card-text \"\n                        style={{\n                          fontSize: '14px',\n                          backgroundColor: 'white',\n                          color: 'blue',\n                          bottom: 1,\n                          position: 'absolute',\n                          left: 0,\n                        }}\n                      >\n                        {' '}\n                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n                        {moment(classItem.date_virtual_class).format(\n                          'Do MMMM, '\n                        )}\n                        {moment(classItem.start_time_class).format('h:mm A')} -{' '}\n                        {moment(classItem.end_time_class).format('h:mm A')}\n                      </span>\n                    </div>\n                  </div>\n                  {classItem.description == '' ? (\n                    <h3 className=\"text-center  text-primary\">\n                      Pas de description{' '}\n                    </h3>\n                  ) : (\n                    <div className=\"jr-card-body pt-1\">\n                      <h2 className=\"card-text text-primary\">\n                        <strong>\n                          {' '}\n                          <IntlMessages id=\"components.virtual.description\" />:{' '}\n                        </strong>\n                      </h2>\n                      <span style={{ fontSize: '14px' }}>\n                        {classItem.description}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    virtualClasses: state.classVirtualReducer.remoteClassVirtual,\n    userProfile: state.auth.userProfile,\n  };\n}\n\nexport default connect(mapStateToProps)(VirtualClassDetails);\n"]},"metadata":{},"sourceType":"module"}