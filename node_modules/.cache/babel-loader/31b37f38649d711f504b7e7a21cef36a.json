{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/GradesMenu/routes/Report/index.js\";\nimport React from 'react';\nimport ContainerHeader from '../../../../../components/ContainerHeader/index';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport TextField from '@material-ui/core/TextField';\nimport CardBox from '../../../../../components/CardBox/index';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport TableReport from './TableReport';\nimport { connect } from \"react-redux\";\nimport { getGrades } from \"../../../../../actions/gradeAction\";\nimport { getSubject } from \"../../../../../actions/subjectAction\";\nimport { getExam } from \"../../../../../actions/examAction\";\nimport { getEstablishment } from \"../../../../../actions/establishmentAction\";\nimport { getClasses } from \"../../../../../actions/classeAction\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport { classService } from \"../../../../../_services/class.service\";\n\nfunction mapStateToProps(state) {\n  return {\n    grades: state.grade.grades,\n    subjects: state.subject.remoteSubjects,\n    exams: state.exam.remoteExams,\n    establishments: state.establishment.remoteEstablishments,\n    classes: state.classes\n  };\n}\n\nconst roleIdSuperAdmin = 1;\nconst roleIdParent = 4;\nconst roleIdStudent = 5;\nconst roleIdAdmin = 2;\nconst roleIdProfessor = 3;\nconst roleId = parseInt(localStorage.roles_id);\nlet apiEndpoint = '';\n\nclass Report extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleBlur = event => {\n      this.setState({\n        gradesList: this.props.grades.filter(grade => grade.class_id == this.state.classe)\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.state = {\n      gradesList: [],\n      subjectsList: [],\n      classesList: [],\n      studentList: [],\n      establishmentList: [],\n      examen: '',\n      classe: '',\n      niveau: '',\n      subject: '',\n      establishment: '',\n      student: '',\n      subjectId: '',\n      subjectsNames: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getGrades();\n    this.props.getSubject();\n    this.props.getExam();\n    this.props.getEstablishment();\n    this.props.getClasses();\n\n    if (roleId === roleIdParent) {\n      apiEndpoint = `/parents/findOne?access_token=${localStorage.token}&filter={\"where\":{\"profile_id\":` + localStorage.profileId + `}}`;\n      classService.get(apiEndpoint).then(res => {\n        if (res) {\n          let parentId = res.data.id;\n          apiEndpoint = `/students?access_token=${localStorage.token}&filter={\"where\":{\"parent_id\":` + parentId + `}}`;\n          classService.get(apiEndpoint).then(res => {\n            if (res) {\n              let results = res.data;\n              results.map(element => {\n                let classId = element.class_id;\n                let studentId = element.id;\n                apiEndpoint = `/class_subjects?access_token=${localStorage.token}&filter={\"where\":{\"class_id\":` + classId + `}}`;\n                classService.get(apiEndpoint).then(res => {\n                  if (res) {\n                    let subjectIds = res.data[0].subjects_ids;\n                    let subjects = [];\n                    let subjectList = [];\n                    let obj = {};\n                    subjectIds.map(element => {\n                      apiEndpoint = `/subjects/` + element + `?access_token=${localStorage.token}`;\n                      classService.get(apiEndpoint).then(res => {\n                        if (res) {\n                          let subjectName = res.data.name;\n                          let subjectCoefficient = res.data.coefficient;\n                          apiEndpoint = `/exams?access_token=${localStorage.token}&filter={\"where\":{\"subject_id\":` + element + `}}`;\n                          classService.get(apiEndpoint).then(res => {\n                            if (res) {\n                              let exam = res.data;\n                              let grade = [];\n\n                              for (let i = 0; i < exam.length; i++) {\n                                apiEndpoint = `/grades?access_token=${localStorage.token}&filter={\"where\":{\"exam_id\":` + res.data[i].id + `}}`;\n                                classService.get(apiEndpoint).then(res => {\n                                  if (res) {\n                                    grade.push(res.data);\n                                  }\n                                });\n                              }\n\n                              obj = {\n                                \"subjectName\": subjectName,\n                                \"subjectCoefficient\": subjectCoefficient,\n                                \"exams\": {\n                                  \"name\": exam,\n                                  \"note\": grade\n                                }\n                              };\n                              subjectList.push(obj);\n                            }\n                          });\n                        }\n                      });\n                    });\n                  }\n                });\n              });\n            }\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    const classes = Array.from(this.props.classes);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, (() => {\n      if (roleId === roleIdSuperAdmin || roleId === roleIdProfessor || roleId === roleIdAdmin) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"form\", {\n          noValidate: true,\n          autoComplete: \"off\",\n          onSubmit: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"d-flex justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"sidebar.submenu.components.report\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(CardBox, {\n          styleName: \"col-lg-12\",\n          heading: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"component.report.form.tip.class\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 32\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3\",\n          align: \"right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          required: true,\n          id: \"niveau\",\n          select: true,\n          label: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"components.student.formadd.establishment\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 36\n            }\n          }),\n          value: this.state.establishment,\n          onChange: this.handleChange('establishment'),\n          SelectProps: {},\n          margin: \"normal\",\n          fullWidth: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 27\n          }\n        }, this.props.establishments.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n          key: option.id,\n          value: option.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 31\n          }\n        }, option.name, \"(\", option.id, \")\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3\",\n          align: \"right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          required: true,\n          id: \"classe\",\n          select: true,\n          label: /*#__PURE__*/React.createElement(IntlMessages, {\n            id: \"components.note.class\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 36\n            }\n          }),\n          value: this.state.classe,\n          onChange: this.handleChange('classe'),\n          onBlur: this.handleBlur,\n          SelectProps: {},\n          margin: \"normal\",\n          fullWidth: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 27\n          }\n        }, classes.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n          key: option.id,\n          value: option.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 31\n          }\n        }, option.name, \"(\", option.id, \")\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          variant: \"contained\",\n          className: \"jr-btn bg-indigo text-white \",\n          type: \"submit\",\n          onSubmit: this.state.onSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"component.report.button.generate.student\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 142\n          }\n        }))))))), /*#__PURE__*/React.createElement(TableReport, {\n          gradesFilter: this.state.gradesList,\n          classId: this.state.classe,\n          examId: this.state.examen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }\n        }));\n      }\n    })(), (() => {\n      const roleId = parseInt(localStorage.roles_id);\n\n      if (roleId === roleIdParent || roleId === roleIdStudent) {\n        return /*#__PURE__*/React.createElement(CardBox, {\n          styleName: \"col-12\",\n          cardStyle: \"p-0\",\n          headerOutside: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"table-responsive-material\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Table, {\n          className: \"default-table table-unbordered table table-sm table-hover\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(TableHead, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(TableRow, {\n          className: \" bg-primary \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"sidebar.subjects\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 60\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"subject.coefficient\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 61\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.oral\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 60\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.practical.work\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 60\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.test\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 60\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.control\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 60\n          }\n        }), \"1\"), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.control\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 60\n          }\n        }), \"2\"), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.synthesis\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 60\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.grading\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 60\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"Components.bulletin.result\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 60\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          className: \"text-white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"components.note.student.comment\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 60\n          }\n        })))), /*#__PURE__*/React.createElement(TableBody, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(TableRow, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }\n        }, \"Mathematique\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }\n        }, \"3\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }\n        }, \"--\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }\n        }, \"--\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }\n        }, \"15\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }\n        }, \"18\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }\n        }, \"17 \"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }\n        }, \"16,5\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }\n        }, \"4\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 25\n          }\n        }, \"16\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 25\n          }\n        }, \"Vous pouvez faire mieux \")), /*#__PURE__*/React.createElement(TableRow, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }\n        }, \"Fran\\xE7ais\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }\n        }, \"2\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 25\n          }\n        }, \"18\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }\n        }, \"--\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }\n        }, \"--\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }\n        }, \"15\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }\n        }, \"17 \"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 25\n          }\n        }, \"15,5\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }\n        }, \"6\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }\n        }, \"15,75\"), /*#__PURE__*/React.createElement(TableCell, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }\n        }, \"Vous pouvez faire mieux \"))))));\n      }\n    })());\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  getEstablishment,\n  getGrades,\n  getSubject,\n  getExam,\n  getClasses\n})(Report);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/GradesMenu/routes/Report/index.js"],"names":["React","ContainerHeader","IntlMessages","TextField","CardBox","MenuItem","Button","TableReport","connect","getGrades","getSubject","getExam","getEstablishment","getClasses","Table","TableBody","TableRow","TableCell","TableHead","classService","mapStateToProps","state","grades","grade","subjects","subject","remoteSubjects","exams","exam","remoteExams","establishments","establishment","remoteEstablishments","classes","roleIdSuperAdmin","roleIdParent","roleIdStudent","roleIdAdmin","roleIdProfessor","roleId","parseInt","localStorage","roles_id","apiEndpoint","Report","Component","constructor","props","handleBlur","event","setState","gradesList","filter","class_id","classe","handleChange","name","target","value","subjectsList","classesList","studentList","establishmentList","examen","niveau","student","subjectId","subjectsNames","bind","componentDidMount","token","profileId","get","then","res","parentId","data","id","results","map","element","classId","studentId","subjectIds","subjects_ids","subjectList","obj","subjectName","subjectCoefficient","coefficient","i","length","push","render","Array","from","handleSubmit","option","onSubmit"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport ContainerHeader from '../../../../../components/ContainerHeader/index';\nimport IntlMessages from '../../../../../util/IntlMessages';\nimport TextField from '@material-ui/core/TextField';\nimport CardBox from '../../../../../components/CardBox/index';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport TableReport from './TableReport';\nimport { connect } from \"react-redux\";\nimport { getGrades } from \"../../../../../actions/gradeAction\";\nimport { getSubject } from \"../../../../../actions/subjectAction\";\nimport { getExam } from \"../../../../../actions/examAction\";\nimport { getEstablishment } from \"../../../../../actions/establishmentAction\";\nimport { getClasses } from \"../../../../../actions/classeAction\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport { classService } from \"../../../../../_services/class.service\";\n\n\nfunction mapStateToProps(state) {\n  return {\n    grades: state.grade.grades,\n    subjects: state.subject.remoteSubjects,\n    exams: state.exam.remoteExams,\n    establishments: state.establishment.remoteEstablishments,\n    classes: state.classes\n  };\n}\n\nconst roleIdSuperAdmin = 1;\nconst roleIdParent = 4;\nconst roleIdStudent = 5;\nconst roleIdAdmin = 2;\nconst roleIdProfessor = 3;\nconst roleId = parseInt(localStorage.roles_id);\nlet apiEndpoint ='';\nclass Report extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gradesList: [],\n      subjectsList: [],\n      classesList: [],\n      studentList: [],\n      establishmentList: [],\n      examen: '',\n      classe: '',\n      niveau: '',\n      subject: '',\n      establishment: '',\n      student: '',\n      subjectId: '',\n      subjectsNames: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getGrades();\n    this.props.getSubject();\n    this.props.getExam();\n    this.props.getEstablishment();\n    this.props.getClasses();\n\n    if (roleId === roleIdParent) {\n       apiEndpoint = `/parents/findOne?access_token=${localStorage.token}&filter={\"where\":{\"profile_id\":` + localStorage.profileId + `}}`\n      classService.get(apiEndpoint)\n      .then(res => {\n        if(res){\n          let parentId = res.data.id;\n          apiEndpoint = `/students?access_token=${localStorage.token}&filter={\"where\":{\"parent_id\":` + parentId + `}}`\n          classService.get(apiEndpoint)\n          .then(res => {\n            if(res){\n              let results = res.data;\n              results.map(element => {\n                let classId = element.class_id;\n                let studentId = element.id;\n                apiEndpoint = `/class_subjects?access_token=${localStorage.token}&filter={\"where\":{\"class_id\":` + classId + `}}`\n                classService.get(apiEndpoint)\n                .then(res => {\n                  if(res){\n                    let subjectIds = res.data[0].subjects_ids;\n                    let subjects = [];\n                    let subjectList = [];\n                    let obj = {};\n                    subjectIds.map(element => {\n                       apiEndpoint = `/subjects/` + element+`?access_token=${localStorage.token}`\n                      classService.get(apiEndpoint)\n                      .then(res => {\n                        if(res){\n                          let subjectName = res.data.name;\n                          let subjectCoefficient = res.data.coefficient\n                           apiEndpoint =`/exams?access_token=${localStorage.token}&filter={\"where\":{\"subject_id\":` + element + `}}`\n                          classService.get(apiEndpoint)\n                          .then(res => {\n                            if(res){\n                              let exam = res.data;\n                              let grade = [];\n                              for (let i = 0; i < exam.length; i++) {\n                                apiEndpoint = `/grades?access_token=${localStorage.token}&filter={\"where\":{\"exam_id\":` + res.data[i].id + `}}`\n                                classService.get(apiEndpoint)\n                                  .then(res => {\n                                    if(res){\n                                    grade.push(res.data);\n                                    }  })\n                              }\n                              obj = {\n                                \"subjectName\": subjectName,\n                                \"subjectCoefficient\": subjectCoefficient,\n                                \"exams\": { \"name\": exam, \"note\": grade }\n                              }\n                              subjectList.push(obj);\n\n                          }  })\n                     } })\n\n                    })\n                }  })\n              })\n\n         } })\n      }  })\n    }\n\n\n  };\n\n  handleBlur = event => {\n    this.setState({\n      gradesList: this.props.grades.filter(grade =>\n        grade.class_id == this.state.classe\n      )\n    });\n  }\n\n  handleChange = name => event => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  render() {\n    const classes = Array.from(this.props.classes);\n\n    return (\n      <div className=\"app-wrapper\">\n        {(() => {\n\n          if (roleId === roleIdSuperAdmin || roleId === roleIdProfessor || roleId === roleIdAdmin) {\n            return (\n              <div>\n                <form noValidate autoComplete=\"off\" onSubmit={this.handleSubmit}>\n                  <div className=\"d-flex justify-content-center\">\n                    <h1><IntlMessages id=\"sidebar.submenu.components.report\" /></h1>\n                  </div>\n                  <div className=\"row\">\n                    <CardBox styleName=\"col-lg-12\"\n                      heading={<IntlMessages id=\"component.report.form.tip.class\" />}>\n                      <div className=\"row\">\n                        <div className=\"col-sm-3\" align=\"right\">\n                          <TextField\n                            required\n                            id=\"niveau\"\n                            select\n                            label={<IntlMessages id=\"components.student.formadd.establishment\" />}\n                            value={this.state.establishment}\n                            onChange={this.handleChange('establishment')}\n                            SelectProps={{}}\n                            margin=\"normal\"\n                            fullWidth >\n                            {this.props.establishments.map(option => (\n                              <MenuItem key={option.id} value={option.id}>\n                                {option.name}({option.id})\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n                            ))}\n                          </TextField>\n                        </div>\n                        <div className=\"col-sm-3\" align=\"right\">\n                          <TextField\n                            required\n                            id=\"classe\"\n                            select\n                            label={<IntlMessages id=\"components.note.class\" />}\n                            value={this.state.classe}\n                            onChange={this.handleChange('classe')}\n                            onBlur={this.handleBlur}\n                            SelectProps={{}}\n                            margin=\"normal\"\n                            fullWidth >\n                            {classes.map(option => (\n                              <MenuItem key={option.id} value={option.id}>\n                                {option.name}({option.id})\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n                            ))}\n                          </TextField>\n                        </div>\n                        {/* <div className=\"col-sm-3\" align=\"right\" >\n                          <TextField\n                            required\n                            id=\"subject\"\n                            select\n                            label={<IntlMessages id=\"components.note.exam\" />}\n                            value={this.state.examen}\n                            onChange={this.handleChange('examen')}\n                            onBlur={this.handleBlur}\n                            SelectProps={{}}\n                            margin=\"normal\"\n                            fullWidth >\n                            {this.props.exams.map(option => (\n                              <MenuItem key={option.id} value={option.id}>\n                                {option.type} ({option.id} )\n                      </MenuItem>\n                            ))}\n                          </TextField>\n                        </div> */}\n                        <div className=\"col-sm-3\">\n                          <Button variant=\"contained\" className=\"jr-btn bg-indigo text-white \" type=\"submit\" onSubmit={this.state.onSubmit}>{<IntlMessages id=\"component.report.button.generate.student\" />}</Button>\n                        </div>\n                      </div>\n                    </CardBox>\n                  </div>\n                </form>\n                <TableReport gradesFilter={this.state.gradesList} classId={this.state.classe} examId={this.state.examen} />\n              </div>)\n          }\n        })()}\n        {(() => {\n          const roleId = parseInt(localStorage.roles_id);\n          if (roleId === roleIdParent || roleId === roleIdStudent) {\n            return (\n              <CardBox styleName=\"col-12\" cardStyle=\"p-0\" \n                headerOutside>\n                <div className=\"table-responsive-material\">\n                  <Table className=\"default-table table-unbordered table table-sm table-hover\">\n                    <TableHead >\n                      <TableRow className=\" bg-primary \">\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"sidebar.subjects\" />}</TableCell>\n                        <TableCell className=\"text-white\" >{<IntlMessages id=\"subject.coefficient\" />}</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.oral\" />}</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.practical.work\" />}</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.test\" />}</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.control\" />}1</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.control\" />}2</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.synthesis\" />}</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.grading\" />}</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"Components.bulletin.result\" />}</TableCell>\n                        <TableCell className=\"text-white\">{<IntlMessages id=\"components.note.student.comment\" />}</TableCell>\n\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n\n                      <TableRow  >\n                        <TableCell>Mathematique</TableCell>\n                        <TableCell >3</TableCell>\n                        <TableCell >--</TableCell>\n                        <TableCell >--</TableCell>\n                        <TableCell >15</TableCell>\n                        <TableCell >18</TableCell>\n                        <TableCell >17 </TableCell>\n                        <TableCell >16,5</TableCell>\n                        <TableCell >4</TableCell>\n                        <TableCell >16</TableCell>\n                        <TableCell >Vous pouvez faire mieux </TableCell>\n\n                      </TableRow>\n                      <TableRow  >\n                        <TableCell>Franais</TableCell>\n                        <TableCell >2</TableCell>\n                        <TableCell >18</TableCell>\n                        <TableCell >--</TableCell>\n                        <TableCell >--</TableCell>\n                        <TableCell >15</TableCell>\n                        <TableCell >17 </TableCell>\n                        <TableCell >15,5</TableCell>\n                        <TableCell >6</TableCell>\n                        <TableCell >15,75</TableCell>\n                        <TableCell >Vous pouvez faire mieux </TableCell>\n\n                      </TableRow>\n\n\n                    </TableBody>\n                  </Table>\n                </div>\n              </CardBox>\n            )\n          }\n        })()}\n      </div>\n    )\n  }\n\n}\n\nexport default connect(mapStateToProps, { getEstablishment, getGrades, getSubject, getExam, getClasses })(Report);"]},"metadata":{},"sourceType":"module"}