{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/RegistreAppel/StudentList/StudentItem.js\";\nimport defaultAvatar from \"../../../../assets/images/default-Avatar.png\";\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Switch from '@material-ui/core/Switch';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport _ from 'lodash';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport baseUrl from '../../../../config/config';\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\nimport IntlMessages from '../../../../util/IntlMessages';\nimport Fab from '@material-ui/core/Fab';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n\nfunction jsUpperCaseFirst(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nclass StudentItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      id: 0,\n      checkPresent: true,\n      checkRetard: false,\n      checkPunition: false,\n      initialized: true,\n      establishmentName: '',\n      uri: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.prevStudentStatus && this.state.initialized || prevProps.prevStudentStatus !== this.props.prevStudentStatus) {\n      let status = returnStatus(this.props.prevStudentStatus, this.props.id);\n      this.setState({\n        checkPresent: status.checkPresent,\n        checkRetard: status.checkRetard,\n        checkPunition: status.checkPunition,\n        initialized: false\n      }, () => {\n        let result = {\n          id: this.props.id,\n          checkPresent: this.state.checkPresent,\n          checkRetard: this.state.checkRetard,\n          checkPunition: this.state.checkPunition\n        };\n        this.props.handleChangeList(this.props.prevStudentStatus);\n      });\n    }\n  }\n\n  handleChange(event) {\n    let name = event.target.name;\n    this.setState({\n      id: event.target.value,\n      [name]: event.target.checked\n    }, () => {\n      let result = {\n        id: this.state.id,\n        checkPresent: this.state.checkPresent,\n        checkRetard: this.state.checkRetard,\n        checkPunition: this.state.checkPunition\n      };\n      this.props.handleChange(result);\n    });\n  }\n\n  componentDidMount() {\n    axios.get(`${baseUrl.baseUrl}/establishments/` + this.props.establishment_id + `?access_token=${localStorage.token}`).then(res => {\n      axios.get(`${baseUrl.baseUrl}/containers/checkFileExist/${res.data.name}?access_token=${localStorage.token}`).then(response => {\n        let itemList = _.isEmpty(response.data.checkFile) ? null : response.data.checkFile.find(item => item.name === this.props.data.photo);\n        _.isEmpty(itemList) ? this.setState({\n          uri: null\n        }) : this.setState({\n          uri: `${baseUrl.baseUrl}/containers/` + res.data.name + '/download/' + this.props.data.photo + `?access_token=${localStorage.token}`\n        });\n      });\n    });\n  }\n\n  render() {\n    const {\n      styleName,\n      data,\n      id\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row col-md-6 mb-2\",\n      style: {\n        display: \"\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-mx-2 col-md-1\",\n      style: {\n        minWidth: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      align: \"left\",\n      className: \"size-50\",\n      alt: \"...\",\n      src: defaultAvatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10 justify-content-center align-items-center \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      position: \"\",\n      style: {\n        borderTopRightRadius: \"80px\",\n        borderBottomRightRadius: \"80px\",\n        borderTopLeftRadius: \"80px\",\n        borderBottomLeftRadius: \"80px\",\n        border: \"1px solid #abada8\",\n        height: \"100%\",\n        width: \"fit-content\",\n        backgroundColor: \"#4a3ea3\",\n        maxWidth: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      value: false,\n      variant: \"scrollable\",\n      scrollButtons: \"on\",\n      textColor: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\"\n      },\n      icon: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          width: \"120px\",\n          margin: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }\n      }, this.props.data.user.name.toUpperCase(), \" \", jsUpperCaseFirst(this.props.data.user.surname))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\"\n      },\n      icon: /*#__PURE__*/React.createElement(FormControlLabel, {\n        control: /*#__PURE__*/React.createElement(Switch, {\n          color: \"primary\",\n          value: id.toString(),\n          onChange: this.handleChange,\n          name: \"checkPresent\",\n          checked: this.state.checkPresent,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 30\n          }\n        }),\n        label: \"Present\",\n        labelPlacement: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\"\n      },\n      icon: /*#__PURE__*/React.createElement(FormControlLabel, {\n        control: /*#__PURE__*/React.createElement(Checkbox, {\n          value: id.toString(),\n          onChange: this.handleChange,\n          name: \"checkRetard\",\n          checked: this.state.checkRetard,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 30\n          }\n        }),\n        label: \"Retard\",\n        labelPlacement: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 19\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tab, {\n      style: {\n        backgroundColor: \"#FFFFFF\"\n      },\n      icon: /*#__PURE__*/React.createElement(FormControlLabel, {\n        control: /*#__PURE__*/React.createElement(Checkbox, {\n          value: id.toString(),\n          onChange: this.handleChange,\n          label: \"Punition\",\n          name: \"checkPunition\",\n          checked: this.state.checkPunition,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 30\n          }\n        }),\n        label: \"Punition\",\n        labelPlacement: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 19\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default StudentItem;\n\nfunction returnStatus(listStatus, id) {\n  let status;\n  let element = listStatus.find(data => data.profile_student_id === id);\n  _.isEmpty(element) ? status = \"Present\" : status = initState(element.action);\n  return status;\n}\n\nfunction initState(action) {\n  switch (action) {\n    case \"Present\":\n      return {\n        checkPresent: true,\n        checkRetard: false,\n        checkPunition: false\n      };\n\n    case \"Absent\":\n      return {\n        checkPresent: false,\n        checkRetard: false,\n        checkPunition: false\n      };\n\n    case \"Puni\":\n      return {\n        checkPresent: true,\n        checkRetard: false,\n        checkPunition: true\n      };\n\n    case \"En Retard\":\n      return {\n        checkPresent: true,\n        checkRetard: true,\n        checkPunition: false\n      };\n\n    case \"En Retard et Puni\":\n      return {\n        checkPresent: true,\n        checkRetard: true,\n        checkPunition: true\n      };\n\n    default:\n      console.log('registreAppel');\n  }\n}","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/app/routes/RegistreAppel/StudentList/StudentItem.js"],"names":["defaultAvatar","React","Component","Avatar","Switch","Checkbox","_","FormControlLabel","baseUrl","axios","Button","IntlMessages","Fab","AppBar","Tabs","Tab","jsUpperCaseFirst","string","charAt","toUpperCase","slice","StudentItem","constructor","props","state","list","id","checkPresent","checkRetard","checkPunition","initialized","establishmentName","uri","handleChange","bind","componentDidUpdate","prevProps","prevState","prevStudentStatus","status","returnStatus","setState","result","handleChangeList","event","name","target","value","checked","componentDidMount","get","establishment_id","localStorage","token","then","res","data","response","itemList","isEmpty","checkFile","find","item","photo","render","styleName","display","minWidth","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","border","height","width","backgroundColor","maxWidth","margin","user","surname","toString","listStatus","element","profile_student_id","initState","action","console","log"],"mappings":"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","sourcesContent":["import defaultAvatar from \"../../../../assets/images/default-Avatar.png\";\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Switch from '@material-ui/core/Switch';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport _ from 'lodash';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport baseUrl from '../../../../config/config';\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\nimport IntlMessages from '../../../../util/IntlMessages';\nimport Fab from '@material-ui/core/Fab';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n\nfunction jsUpperCaseFirst(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nclass StudentItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      id: 0,\n      checkPresent: true,\n      checkRetard: false,\n      checkPunition: false,\n      initialized: true,\n      establishmentName: '',\n      uri: ''\n    }\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.prevStudentStatus && this.state.initialized || prevProps.prevStudentStatus !== this.props.prevStudentStatus) {\n      let status = returnStatus(this.props.prevStudentStatus, this.props.id)\n      this.setState({ checkPresent: status.checkPresent, checkRetard: status.checkRetard, checkPunition: status.checkPunition, initialized: false }, () => {\n        let result = { id: this.props.id, checkPresent: this.state.checkPresent, checkRetard: this.state.checkRetard, checkPunition: this.state.checkPunition }\n        this.props.handleChangeList(this.props.prevStudentStatus)\n      })\n    }\n  }\n\n  handleChange(event) {\n    let name = event.target.name;\n    this.setState({ id: event.target.value, [name]: event.target.checked }, () => {\n      let result = { id: this.state.id, checkPresent: this.state.checkPresent, checkRetard: this.state.checkRetard, checkPunition: this.state.checkPunition }\n      this.props.handleChange(result);\n    })\n  };\n\n\n  componentDidMount() {\n    axios.get(`${baseUrl.baseUrl}/establishments/` + this.props.establishment_id + `?access_token=${localStorage.token}`)\n      .then(res => {\n        axios.get(`${baseUrl.baseUrl}/containers/checkFileExist/${res.data.name}?access_token=${localStorage.token}`)\n          .then((response) => {\n            let itemList = _.isEmpty(response.data.checkFile) ? null :\n              response.data.checkFile.find(item => item.name === this.props.data.photo);\n            _.isEmpty(itemList) ? this.setState({ uri: null }) : this.setState({ uri: `${baseUrl.baseUrl}/containers/` + res.data.name + '/download/' + this.props.data.photo + `?access_token=${localStorage.token}` });\n          });\n      });\n  }\n\n  render() {\n    const { styleName, data, id } = this.props;\n    return (\n      <div className=\"row col-md-6 mb-2\" style={{ display: \"\" }}>\n        <div className=\"col-mx-2 col-md-1\" style={{ minWidth: \"50px\" }} >\n          <Avatar\n            align=\"left\"\n            className=\"size-50\"\n            alt=\"...\"\n            src={defaultAvatar}\n            />\n        </div>\n        <div className=\"col-md-10 justify-content-center align-items-center \"  >\n\n          <AppBar\n            position=\"\"\n            style={{\n              borderTopRightRadius: \"80px\",\n              borderBottomRightRadius: \"80px\",\n              borderTopLeftRadius: \"80px\",\n              borderBottomLeftRadius: \"80px\",\n              border: \"1px solid #abada8\",\n              height: \"100%\",\n              width: \"fit-content\",\n              backgroundColor: \"#4a3ea3\",\n              maxWidth: \"100%\"\n\n            }}\n          >\n            <Tabs\n              value={false}\n              variant=\"scrollable\"\n              scrollButtons=\"on\"\n              textColor=\"primary\"\n            >\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\" }}\n                icon={\n                  <div >\n                    <h3 style={{ width: \"120px\", margin: \"auto\" }}>{this.props.data.user.name.toUpperCase()} {jsUpperCaseFirst(this.props.data.user.surname)}</h3>\n                  </div>\n                }\n              />\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\" }}\n                icon={\n                  <FormControlLabel\n                    control={<Switch color=\"primary\" value={id.toString()} onChange={this.handleChange} name=\"checkPresent\" checked={this.state.checkPresent} />}\n                    label=\"Present\"\n                    labelPlacement=\"start\"\n                  />\n                }\n              />\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\" }}\n                icon={\n                  <FormControlLabel\n                    control={<Checkbox value={id.toString()} onChange={this.handleChange} name=\"checkRetard\" checked={this.state.checkRetard} />}\n                    label=\"Retard\"\n                    labelPlacement=\"start\"\n                  />\n                }\n              />\n              <Tab\n                style={{ backgroundColor: \"#FFFFFF\" }}\n                icon={\n                  <FormControlLabel\n                    control={<Checkbox value={id.toString()} onChange={this.handleChange} label=\"Punition\" name=\"checkPunition\" checked={this.state.checkPunition} />}\n                    label=\"Punition\"\n                    labelPlacement=\"start\"\n                  />\n                }\n              />\n\n            </Tabs>\n          </AppBar>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default StudentItem;\n\n\nfunction returnStatus(listStatus, id) {\n  let status;\n  let element = listStatus.find(data => data.profile_student_id === id);\n  (_.isEmpty(element)) ? status = \"Present\" : status = initState(element.action)\n\n  return status\n}\n\n\nfunction initState(action) {\n  switch (action) {\n    case \"Present\":\n      return { checkPresent: true, checkRetard: false, checkPunition: false };\n    case \"Absent\":\n      return { checkPresent: false, checkRetard: false, checkPunition: false };\n    case \"Puni\":\n      return { checkPresent: true, checkRetard: false, checkPunition: true };\n    case \"En Retard\":\n      return { checkPresent: true, checkRetard: true, checkPunition: false };\n    case \"En Retard et Puni\":\n      return { checkPresent: true, checkRetard: true, checkPunition: true };\n    default: console.log('registreAppel')\n  }\n}\n"]},"metadata":{},"sourceType":"module"}