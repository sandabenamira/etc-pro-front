{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Learning/routes/Homeworks/Homework.js\";\nimport React from \"react\";\nimport IconWithTextCard from \"../../../CommonComponents/IconWithTextCard\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport HomeworkInProgress from \"./HomeworkInProgress\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Fab from \"@material-ui/core/Fab\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport RemoveSharpIcon from \"@material-ui/icons/RemoveSharp\";\nimport { connect } from \"react-redux\";\nimport AddHomework from \"./AddHomework\";\nimport { UncontrolledAlert } from \"reactstrap\";\nimport { classService } from \"../../../../../_services/class.service\";\nimport HomeworkList from \"./HomeworkList\";\nimport _ from \"lodash\";\nimport { addNewHomework, getHomework } from \"../../../../../actions/HomeworkAction\";\nimport ArchivedHomework from \"./ArchivedHomework\";\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\nimport TextField from \"@material-ui/core/TextField\";\nimport moment from \"moment\";\nimport { roleIdAdmin } from \"../../../../../config/config\";\n\nclass Homework extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeClassList = selectedOption => {\n      if (selectedOption != null) {\n        let classesId = _.map(selectedOption, \"id\");\n\n        this.setState({\n          classesId,\n          isEmptylistClass: false,\n          classesData: selectedOption\n        });\n      } else {\n        this.setState({\n          classesId: []\n        });\n      }\n    };\n\n    this.handleChangeDate = name => date => {\n      this.setState({\n        [name]: date\n      });\n      let publicationDateError, correctionDateError, renderingDateError;\n\n      if (name === \"publicationDate\") {\n        publicationDateError = moment(date._d).isAfter(this.state.correctionDate) || moment(date._d).isAfter(this.state.renderingDate);\n      } else if (name === \"correctionDate\") {\n        correctionDateError = moment(date._d).isAfter(this.state.renderingDate) || moment(date._d).isBefore(this.state.publicationDate);\n      } else {\n        renderingDateError = moment(date._d).isBefore(this.state.publicationDate) || moment(date._d).isBefore(this.state.correctionDate);\n      }\n\n      this.setState({\n        publicationDateError,\n        correctionDateError,\n        renderingDateError\n      });\n    };\n\n    this.handleChangePostTime = time => {\n      this.setState({\n        postTime: time._d\n      });\n    };\n\n    this.handleChangeSubject = selectedOption => {\n      this.setState({\n        subjectId: selectedOption.value,\n        subjectColor: selectedOption.color,\n        subjectName: selectedOption.name,\n        errorClass: false\n      });\n\n      if (this.props.userProfile.role_id === roleIdAdmin) {\n        let apiEndpoint = `/assignment_class_subjects?access_token=${localStorage.token}&filter[where][fk_id_subject_v4]=${selectedOption.value}&filter[include]=class&filter[include]=course`;\n        classService.get(apiEndpoint).then(response => {\n          if (response) {\n            let classesSubjects = response.data.filter(element => element.status);\n            let newList = classesSubjects.map(element => {\n              let object = {};\n\n              if (!_.isEmpty(element.course)) {\n                object.label = element.class.name;\n                object.id = element.course[0].id;\n                object.value = element.course[0].id;\n                return object;\n              } else {\n                return object;\n              }\n            });\n            this.setState({\n              classes: newList\n            });\n          }\n        });\n      } else {\n        let apiEndpoint = `/assignment_class_subjects/${selectedOption.assignmentClassSubjectId}?access_token=${localStorage.token}&filter[include]=class&filter[include]=course`;\n        classService.get(apiEndpoint).then(response => {\n          if (response) {\n            let element = response.data;\n\n            if (element.status) {\n              let object = {};\n              object.label = element.class.name;\n              object.id = element.course[0].id;\n              object.value = element.course[0].id;\n              this.setState({\n                classes: [object]\n              });\n            }\n          }\n        });\n      }\n    };\n\n    this.handleChangeHomeworkType = selectedOption => {\n      this.setState({\n        homeworkType: selectedOption.value\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.state = {\n      isOpenAddModal: false,\n      openArchive: false,\n      nameFile: \"\",\n      HomeworkTypes: [{\n        label: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"toDo.book.exercise\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 18\n          }\n        }),\n        value: \"book\",\n        id: 1\n      }, {\n        label: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"toDo.series.exercise\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 18\n          }\n        }),\n        value: \"serie\",\n        id: 2\n      }, {\n        label: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: \"toDo.other.exercise\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 18\n          }\n        }),\n        value: \"other\",\n        id: 3\n      }],\n      homeworkType: \"\",\n      subjectId: null,\n      subjectColor: \"\",\n      description: \"\",\n      courseUrl: \"\",\n      homeworkFiles: [],\n      nameFiles: [],\n      publicationDate: new Date(),\n      postTime: new Date(),\n      classes: [],\n      subjects: [],\n      eventChecked: \"\",\n      classesId: [],\n      errorClass: false,\n      correctionDate: new Date(),\n      renderingDate: new Date(),\n      publicationDateError: false,\n      correctionDateError: false,\n      renderingDateError: false,\n      isEmptylistClass: false,\n      classesData: [],\n      subjectName: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeHomeworkType = this.handleChangeHomeworkType.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.deleteFile = this.deleteFile.bind(this);\n    this.handleChangePostTime = this.handleChangePostTime.bind(this);\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.handleChangeClassList = this.handleChangeClassList.bind(this);\n    this.addNewHomework = this.addNewHomework.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n  }\n\n  cancelModal() {\n    this.setState({\n      isOpenAddModal: false,\n      nameFile: \"\",\n      homeworkType: \"\",\n      subjectId: null,\n      subjectColor: \"\",\n      description: \"\",\n      courseUrl: \"\",\n      homeworkFiles: [],\n      nameFiles: [],\n      publicationDate: new Date(),\n      postTime: new Date(),\n      classes: [],\n      eventChecked: \"\",\n      classesId: [],\n      errorClass: false,\n      correctionDate: new Date(),\n      renderingDate: new Date(),\n      publicationDateError: false,\n      correctionDateError: false,\n      renderingDateError: false,\n      isEmptylistClass: false,\n      classesData: [],\n      subjectName: ''\n    });\n  }\n\n  addNewHomework(e) {\n    e.preventDefault();\n\n    if (this.state.subjectId === null) {\n      this.setState({\n        errorClass: true\n      });\n    } else if (_.isEmpty(this.state.classesId)) {\n      this.setState({\n        isEmptylistClass: true\n      });\n    } else {\n      let dataHomework = {};\n      dataHomework.title = this.state.nameFile;\n      dataHomework.homeworkType = this.state.homeworkType;\n      dataHomework.subjectId = this.state.subjectId;\n      dataHomework.subjectColor = this.state.subjectColor;\n      dataHomework.classesId = this.state.classesId;\n      dataHomework.publicationDate = this.state.publicationDate;\n      dataHomework.publicationTime = this.state.postTime;\n      dataHomework.courseUrl = this.state.courseUrl;\n      dataHomework.description = this.state.description;\n      dataHomework.correctionDate = this.state.correctionDate;\n      dataHomework.renderingDate = this.state.renderingDate;\n      dataHomework.subjectName = this.state.subjectName;\n      this.props.dispatch(addNewHomework(dataHomework, this.state.homeworkFiles, this.state.classesData));\n      this.cancelModal();\n    }\n  }\n\n  deleteFile(filename) {\n    let nameFiles = this.state.nameFiles.filter(element => element != filename);\n    let homeworkFiles = this.state.homeworkFiles.filter(element => element.name != filename);\n    this.setState({\n      nameFiles,\n      homeworkFiles\n    });\n  }\n\n  attachFile(e) {\n    var oldFiles = this.state.homeworkFiles;\n    var files = Object.values(e.target.files);\n    var nameFiles = this.state.nameFiles;\n\n    if (files !== undefined && this.state.nameFiles.length + files.length < 6) {\n      files.map(element => {\n        nameFiles.push(element.name);\n        oldFiles.push(element);\n      });\n      this.setState({\n        homeworkFiles: oldFiles,\n        nameFiles\n      });\n    } else {\n      this.setState({\n        messageAlerte: \"Vous avez d√©passer 5 fichiers\",\n        alerteStatus: true\n      });\n      setTimeout(() => {\n        this.setState({\n          messageAlerte: \"\",\n          alerteStatus: false\n        });\n      }, 4000);\n    }\n  }\n\n  openAddModal() {\n    this.setState({\n      isOpenAddModal: !this.state.isOpenAddModal\n    });\n  }\n\n  openArchive() {\n    this.setState(previousState => ({\n      openArchive: !previousState.openArchive\n    }));\n  }\n\n  UNSAFE_componentWillMount() {\n    if (this.props.userProfile.role_id === roleIdAdmin) {\n      let subjects = createListSubject(this.props.subjects);\n      this.setState({\n        subjects\n      });\n    } else {\n      const professorId = this.props.userProfile.user.profiles[0].professors[0].id;\n      let apiEndpoint = `/course_v4?access_token=${localStorage.token}&filter[where][fk_id_professor]=${professorId}&filter[include][assignmentClassSubject][subject]`;\n      classService.get(apiEndpoint).then(response => {\n        if (response) {\n          let subjects = [];\n          response.data.map(element => {\n            let object = {};\n            object.label = element.assignmentClassSubject.subject.name;\n            object.id = element.assignmentClassSubject.subject.id;\n            object.value = element.assignmentClassSubject.subject.id;\n            object.assignmentClassSubjectId = element.assignmentClassSubject.id;\n            subjects.push(object);\n          });\n          this.setState({\n            subjects\n          });\n        }\n      });\n    }\n\n    this.props.dispatch(getHomework(this.props.userProfile.establishment_id, this.props.userProfile.school_year_id, this.props.userProfile.id, this.props.userProfile.role_id));\n  }\n\n  componentDidUpdate(previouProps) {\n    if (previouProps.subjects !== this.props.subjects) {\n      if (this.props.userProfile.role_id === roleIdAdmin) {\n        let subjects = createListSubject(this.props.subjects);\n        this.setState({\n          subjects\n        });\n      }\n    }\n  }\n\n  render() {\n    let detailCards = [{\n      cardColor: \"primary\",\n      imageIcon: require(\"../../../../../assets/images/dashboard/teams-icon.png\"),\n      // title: this.props.virtualClasses.length,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `message.Numbers.of.students`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 19\n        }\n      })\n    }, {\n      cardColor: \"secondary\",\n      imageIcon: require(\"../../../../../assets/images/dashboard/tasks-icon.png\"),\n      // title: this.state.prog,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `homework.file`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 19\n        }\n      })\n    }, {\n      cardColor: \"info\",\n      imageIcon: require(\"../../../../../assets/images/dashboard/project-icon.png\"),\n      // title: this.state.encours,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `homework.uncorrected`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 19\n        }\n      })\n    }, {\n      cardColor: \"success\",\n      imageIcon: require(\"../../../../../assets/images/dashboard/files-icon.png\"),\n      // title: this.state.encours,\n      subTitle: /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `homework.educational.files`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 19\n        }\n      })\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper col-lg-12 col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-column mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row col-lg-12 col-md- col-sm-12  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }\n    }, detailCards.map((data, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconWithTextCard, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }\n    }, this.state.alerteStatus && /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-danger bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }\n    }, \" \", this.state.messageAlerte, \" \")), this.props.errorStatus && /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-danger   text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }\n    }, \" \", this.props.message, \" \")), this.props.successStatus && /*#__PURE__*/React.createElement(UncontrolledAlert, {\n      className: \"alert-addon-card bg-success bg-success text-white shadow-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon-addon alert-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }\n    }, \" \", this.props.message, \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-auto \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(HomeworkInProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      size: \"small\",\n      color: \"secondary\",\n      \"aria-label\": \"Add\",\n      onClick: this.openAddModal.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 21\n      }\n    }, this.state.isOpenAddModal ? /*#__PURE__*/React.createElement(RemoveSharpIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2\",\n      style: {\n        fontFamily: \"Roboto\",\n        fontSize: \"17px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"modal.addToDo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pl-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      size: \"small\",\n      \"aria-label\": \"Add\",\n      style: {\n        backgroundColor: \"#ffbb33\",\n        color: \"#ffffff\"\n      },\n      onClick: this.openArchive,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-2\",\n      style: {\n        fontFamily: \"Roboto\",\n        fontSize: \"17px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"icon.archives\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 21\n      }\n    })))), this.state.isOpenAddModal && /*#__PURE__*/React.createElement(CardBox, {\n      styleName: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AddHomework, {\n      values: this.state,\n      handleChange: this.handleChange,\n      handleChangeHomeworkType: this.handleChangeHomeworkType,\n      subjects: this.state.subjects,\n      handleChangeSubject: this.handleChangeSubject,\n      attachFile: this.attachFile,\n      deleteFile: this.deleteFile,\n      handleChangePostTime: this.handleChangePostTime,\n      handleChangeDate: this.handleChangeDate,\n      handleChangeClassList: this.handleChangeClassList,\n      addNewHomework: this.addNewHomework,\n      cancelModal: this.cancelModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 15\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"add-service\",\n      yes: () => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-wrap flex-row bd-highlight mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2 bd-highlight col-lg-2 col-md-6 col-sm-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: \"idClasse\",\n        name: \"idClasse\",\n        select: true // value={this.state.filterClassId}\n        // onChange={this.handleChangeFilter('filterClassId')}\n        ,\n        SelectProps: {},\n        label: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: `components.note.class`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 31\n          }\n        }),\n        InputProps: {\n          disableUnderline: true\n        },\n        margin: \"normal\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-5 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 25\n        }\n      }, \"|\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2 bd-highlight col-lg-2 col-md-6 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: \"idClasse\",\n        name: \"idClasse\",\n        select: true // value={this.state.filterClassId}\n        // onChange={this.handleChangeFilter('filterClassId')}\n        ,\n        SelectProps: {},\n        label: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: `components.todo.etat`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 36\n          }\n        }),\n        InputProps: {\n          disableUnderline: true\n        },\n        margin: \"normal\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-5 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 25\n        }\n      }, \"|\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"p-2 bd-highlight col-lg-2 col-md-6 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: \"idClasse\",\n        name: \"idClasse\",\n        select: true // value={this.state.filterClassId}\n        // onChange={this.handleChangeFilter('filterClassId')}\n        ,\n        SelectProps: {},\n        label: /*#__PURE__*/React.createElement(IntlMessages, {\n          id: `components.todo.type`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 36\n          }\n        }),\n        InputProps: {\n          disableUnderline: true\n        },\n        margin: \"normal\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-5 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 25\n        }\n      }, \"|\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-5  bd-highlight col-lg-2 col-md-6 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: `components.todo.date`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 27\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(RoleContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 15\n      }\n    }, ({\n      role\n    }) => /*#__PURE__*/React.createElement(Can, {\n      role: role,\n      perform: \"add-service\",\n      yes: () => /*#__PURE__*/React.createElement(React.Fragment, null, this.state.openArchive ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(ArchivedHomework // listMoocsArchived={this.props.listMoocsArchived}\n      , {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 29\n        }\n      })) : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 19\n      }\n    })), !this.state.openArchive ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(HomeworkList, {\n      homeworks: this.props.homeworks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 19\n      }\n    })) : \"\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    subjects: state.subject.subjects,\n    homeworks: state.HomeworkReducer.homeworks\n  };\n};\n\nexport default connect(mapStateToProps)(Homework);\n\nfunction createListSubject(subjects) {\n  let newList = subjects.map(element => {\n    let object = {};\n    object.label = element.name;\n    object.id = element.id;\n    object.value = element.id;\n    object.color = element.color;\n    return object;\n  });\n  return newList;\n}","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/Learning/routes/Homeworks/Homework.js"],"names":["React","IconWithTextCard","IntlMessages","HomeworkInProgress","CardBox","AddIcon","Fab","DeleteOutlineIcon","RemoveSharpIcon","connect","AddHomework","UncontrolledAlert","classService","HomeworkList","_","addNewHomework","getHomework","ArchivedHomework","Can","RoleContext","TextField","moment","roleIdAdmin","Homework","Component","constructor","props","handleChangeClassList","selectedOption","classesId","map","setState","isEmptylistClass","classesData","handleChangeDate","name","date","publicationDateError","correctionDateError","renderingDateError","_d","isAfter","state","correctionDate","renderingDate","isBefore","publicationDate","handleChangePostTime","time","postTime","handleChangeSubject","subjectId","value","subjectColor","color","subjectName","errorClass","userProfile","role_id","apiEndpoint","localStorage","token","get","then","response","classesSubjects","data","filter","element","status","newList","object","isEmpty","course","label","class","id","classes","assignmentClassSubjectId","handleChangeHomeworkType","homeworkType","handleChange","event","target","isOpenAddModal","openArchive","nameFile","HomeworkTypes","description","courseUrl","homeworkFiles","nameFiles","Date","subjects","eventChecked","bind","attachFile","deleteFile","cancelModal","e","preventDefault","dataHomework","title","publicationTime","dispatch","filename","oldFiles","files","Object","values","undefined","length","push","messageAlerte","alerteStatus","setTimeout","openAddModal","previousState","UNSAFE_componentWillMount","createListSubject","professorId","user","profiles","professors","assignmentClassSubject","subject","establishment_id","school_year_id","componentDidUpdate","previouProps","render","detailCards","cardColor","imageIcon","require","subTitle","index","errorStatus","message","successStatus","fontFamily","fontSize","backgroundColor","role","disableUnderline","homeworks","mapStateToProps","auth","alert","success","error","HomeworkReducer"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport IconWithTextCard from \"../../../CommonComponents/IconWithTextCard\";\nimport IntlMessages from \"../../../../../util/IntlMessages\";\nimport HomeworkInProgress from \"./HomeworkInProgress\";\nimport CardBox from \"../../../../../components/CardBox/index\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Fab from \"@material-ui/core/Fab\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport RemoveSharpIcon from \"@material-ui/icons/RemoveSharp\";\nimport { connect } from \"react-redux\";\nimport AddHomework from \"./AddHomework\";\nimport { UncontrolledAlert } from \"reactstrap\";\nimport { classService } from \"../../../../../_services/class.service\";\nimport HomeworkList from \"./HomeworkList\";\nimport _ from \"lodash\";\nimport { addNewHomework, getHomework } from \"../../../../../actions/HomeworkAction\";\nimport ArchivedHomework from \"./ArchivedHomework\";\nimport Can from \"../../../../../can\";\nimport { RoleContext } from \"../../../../../Context\";\nimport TextField from \"@material-ui/core/TextField\";\nimport moment from \"moment\";\nimport {roleIdAdmin} from \"../../../../../config/config\"\n\nclass Homework extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isOpenAddModal: false,\n      openArchive: false,\n      nameFile: \"\",\n      HomeworkTypes: [\n        {\n          label: <IntlMessages id=\"toDo.book.exercise\" />,\n          value: \"book\",\n          id: 1,\n        },\n        {\n          label: <IntlMessages id=\"toDo.series.exercise\" />,\n          value: \"serie\",\n          id: 2,\n        },\n        {\n          label: <IntlMessages id=\"toDo.other.exercise\" />,\n          value: \"other\",\n          id: 3,\n        },\n      ],\n      homeworkType: \"\",\n      subjectId: null,\n      subjectColor: \"\",\n      description: \"\",\n      courseUrl: \"\",\n      homeworkFiles: [],\n      nameFiles: [],\n      publicationDate: new Date(),\n      postTime: new Date(),\n      classes: [],\n      subjects: [],\n      eventChecked: \"\",\n      classesId: [],\n      errorClass: false,\n      correctionDate: new Date(),\n      renderingDate: new Date(),\n      publicationDateError: false,\n      correctionDateError: false,\n      renderingDateError: false,\n      isEmptylistClass: false,\n      classesData:[],\n      subjectName:''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeHomeworkType = this.handleChangeHomeworkType.bind(this);\n    this.handleChangeSubject = this.handleChangeSubject.bind(this);\n    this.attachFile = this.attachFile.bind(this);\n    this.deleteFile = this.deleteFile.bind(this);\n    this.handleChangePostTime = this.handleChangePostTime.bind(this);\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.handleChangeClassList = this.handleChangeClassList.bind(this);\n    this.addNewHomework = this.addNewHomework.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.openArchive = this.openArchive.bind(this);\n  }\n\n  cancelModal() {\n    this.setState({\n      isOpenAddModal: false,\n      nameFile: \"\",\n      homeworkType: \"\",\n      subjectId: null,\n      subjectColor: \"\",\n      description: \"\",\n      courseUrl: \"\",\n      homeworkFiles: [],\n      nameFiles: [],\n      publicationDate: new Date(),\n      postTime: new Date(),\n      classes: [],\n      eventChecked: \"\",\n      classesId: [],\n      errorClass: false,\n      correctionDate: new Date(),\n      renderingDate: new Date(),\n      publicationDateError: false,\n      correctionDateError: false,\n      renderingDateError: false,\n      isEmptylistClass: false,\n      classesData:[],\n      subjectName:''\n    });\n  }\n\n  addNewHomework(e) {\n    e.preventDefault();\n    if (this.state.subjectId === null) {\n      this.setState({ errorClass: true });\n    } else if (_.isEmpty(this.state.classesId)) {\n      this.setState({ isEmptylistClass: true });\n    } else {\n      let dataHomework = {};\n      dataHomework.title = this.state.nameFile;\n      dataHomework.homeworkType = this.state.homeworkType;\n      dataHomework.subjectId = this.state.subjectId;\n      dataHomework.subjectColor = this.state.subjectColor;\n      dataHomework.classesId = this.state.classesId;\n      dataHomework.publicationDate = this.state.publicationDate;\n      dataHomework.publicationTime = this.state.postTime;\n      dataHomework.courseUrl = this.state.courseUrl;\n      dataHomework.description = this.state.description;\n      dataHomework.correctionDate = this.state.correctionDate;\n      dataHomework.renderingDate = this.state.renderingDate;\n      dataHomework.subjectName = this.state.subjectName;\n      this.props.dispatch(\n        addNewHomework(dataHomework, this.state.homeworkFiles, this.state.classesData)\n      );\n      this.cancelModal();\n    }\n  }\n\n  handleChangeClassList = (selectedOption) => {\n    if (selectedOption != null) {\n      let classesId = _.map(selectedOption, \"id\");\n      this.setState({ classesId, isEmptylistClass: false , classesData :selectedOption});\n    } else {\n      this.setState({ classesId: [] });\n    }\n  };\n\n  handleChangeDate = (name) => (date) => {\n    this.setState({ [name]: date });\n    let publicationDateError, correctionDateError, renderingDateError;\n    if (name === \"publicationDate\") {\n      publicationDateError =\n        moment(date._d).isAfter(this.state.correctionDate) ||\n        moment(date._d).isAfter(this.state.renderingDate);\n    } else if (name === \"correctionDate\") {\n      correctionDateError =\n        moment(date._d).isAfter(this.state.renderingDate) ||\n        moment(date._d).isBefore(this.state.publicationDate);\n    } else {\n      renderingDateError =\n        moment(date._d).isBefore(this.state.publicationDate) ||\n        moment(date._d).isBefore(this.state.correctionDate);\n    }\n    this.setState({\n      publicationDateError,\n      correctionDateError,\n      renderingDateError,\n    });\n  };\n\n  handleChangePostTime = (time) => {\n    this.setState({ postTime: time._d });\n  };\n\n  deleteFile(filename) {\n    let nameFiles = this.state.nameFiles.filter(\n      (element) => element != filename\n    );\n\n    let homeworkFiles = this.state.homeworkFiles.filter(\n      (element) => element.name != filename\n    );\n\n    this.setState({ nameFiles, homeworkFiles });\n  }\n\n  attachFile(e) {\n    var oldFiles = this.state.homeworkFiles;\n    var files = Object.values(e.target.files);\n    var nameFiles = this.state.nameFiles;\n    if (files !== undefined && this.state.nameFiles.length + files.length < 6) {\n      files.map((element) => {\n        nameFiles.push(element.name);\n        oldFiles.push(element);\n      });\n      this.setState({ homeworkFiles: oldFiles, nameFiles });\n    } else {\n      this.setState({\n        messageAlerte: \"Vous avez d√©passer 5 fichiers\",\n        alerteStatus: true,\n      });\n      setTimeout(() => {\n        this.setState({ messageAlerte: \"\", alerteStatus: false });\n      }, 4000);\n    }\n  }\n\n  handleChangeSubject = (selectedOption) => {\n    this.setState({\n      subjectId: selectedOption.value,\n      subjectColor: selectedOption.color,\n      subjectName:selectedOption.name,\n      errorClass: false,\n    });\n    if (this.props.userProfile.role_id === roleIdAdmin) {\n      let apiEndpoint = `/assignment_class_subjects?access_token=${localStorage.token}&filter[where][fk_id_subject_v4]=${selectedOption.value}&filter[include]=class&filter[include]=course`;\n      classService.get(apiEndpoint).then((response) => {\n        if (response) {\n          let classesSubjects = response.data.filter((element) => element.status);\n          let newList = classesSubjects.map((element) => {\n            let object = {};\n            if(!_.isEmpty(element.course)){            \n              object.label = element.class.name;\n              object.id = element.course[0].id;\n              object.value = element.course[0].id;  \n    \n              return object;\n            }else{\n              return object;\n            }\n           \n          });\n          this.setState({ classes: newList });\n        }\n      });\n    }else{\n      let apiEndpoint = `/assignment_class_subjects/${selectedOption.assignmentClassSubjectId}?access_token=${localStorage.token}&filter[include]=class&filter[include]=course`;\n      classService.get(apiEndpoint).then((response) => {\n        if (response) {\n          let element = response.data\n          if (element.status) {\n             let object = {};\n            object.label = element.class.name;\n            object.id = element.course[0].id;\n            object.value = element.course[0].id;\n           this.setState({ classes: [object] });\n\n          }\n        }\n     \n      });\n    }\n \n  };\n\n  handleChangeHomeworkType = (selectedOption) => {\n    this.setState({ homeworkType: selectedOption.value });\n  };\n\n  handleChange = (name) => (event) => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  openAddModal() {\n    this.setState({ isOpenAddModal: !this.state.isOpenAddModal });\n  }\n  openArchive() {\n    this.setState((previousState) => ({\n      openArchive: !previousState.openArchive,\n    }));\n  }\n\n  UNSAFE_componentWillMount() {\n    if (this.props.userProfile.role_id === roleIdAdmin) {\n    let subjects = createListSubject(this.props.subjects);\n    this.setState({ subjects });}\n    else{\n      const professorId = this.props.userProfile.user.profiles[0].professors[0].id;\n      let apiEndpoint = `/course_v4?access_token=${localStorage.token}&filter[where][fk_id_professor]=${professorId}&filter[include][assignmentClassSubject][subject]`;\n      classService.get(apiEndpoint).then((response) => {\n        if (response) {\n          let subjects = []\n          response.data.map((element) => {\n            let object = {};\n            object.label = element.assignmentClassSubject.subject.name;\n            object.id = element.assignmentClassSubject.subject.id;\n            object.value = element.assignmentClassSubject.subject.id;\n            object.assignmentClassSubjectId = element.assignmentClassSubject.id\n            subjects.push(object)\n          });\n          this.setState({subjects})\n        }\n      });\n    }\n    this.props.dispatch(getHomework(this.props.userProfile.establishment_id,\n      this.props.userProfile.school_year_id,\n      this.props.userProfile.id,\n      this.props.userProfile.role_id,))\n  }\n  componentDidUpdate(previouProps) {\n    if (previouProps.subjects !== this.props.subjects) {\n      if (this.props.userProfile.role_id === roleIdAdmin) {\n        let subjects = createListSubject(this.props.subjects);\n        this.setState({ subjects });\n      }\n     \n    }\n  }\n\n  render() {\n    let detailCards = [\n      {\n        cardColor: \"primary\",\n        imageIcon: require(\"../../../../../assets/images/dashboard/teams-icon.png\"),\n\n        // title: this.props.virtualClasses.length,\n        subTitle: <IntlMessages id={`message.Numbers.of.students`} />,\n      },\n      {\n        cardColor: \"secondary\",\n        imageIcon: require(\"../../../../../assets/images/dashboard/tasks-icon.png\"),\n        // title: this.state.prog,\n        subTitle: <IntlMessages id={`homework.file`} />,\n      },\n      {\n        cardColor: \"info\",\n        imageIcon: require(\"../../../../../assets/images/dashboard/project-icon.png\"),\n        // title: this.state.encours,\n        subTitle: <IntlMessages id={`homework.uncorrected`} />,\n      },\n      {\n        cardColor: \"success\",\n        imageIcon: require(\"../../../../../assets/images/dashboard/files-icon.png\"),\n        // title: this.state.encours,\n        subTitle: <IntlMessages id={`homework.educational.files`} />,\n      },\n    ];\n    return (\n      <div className=\"app-wrapper col-lg-12 col-md-12\">\n        <div className=\"d-flex flex-column mb-3\">\n          <div className=\"row col-lg-12 col-md- col-sm-12  \">\n            {detailCards.map((data, index) => (\n              <div\n                key={index}\n                className=\"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-12\"\n              >\n                <IconWithTextCard data={data} />\n              </div>\n            ))}\n          </div>\n          <div>\n            {this.state.alerteStatus && (\n              <UncontrolledAlert className=\"alert-addon-card bg-danger bg-success text-white shadow-lg\">\n                <span className=\"icon-addon alert-addon\">\n                  <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n                </span>\n                <span className=\"d-inline-block\">\n                  {\" \"}\n                  {this.state.messageAlerte}{\" \"}\n                </span>\n              </UncontrolledAlert>\n            )}\n\n            {this.props.errorStatus && (\n              <UncontrolledAlert className=\"alert-addon-card bg-danger   text-white shadow-lg\">\n                <span className=\"icon-addon alert-addon\">\n                  <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n                </span>\n                <span className=\"d-inline-block\"> {this.props.message} </span>\n              </UncontrolledAlert>\n            )}\n            {this.props.successStatus && (\n              <UncontrolledAlert className=\"alert-addon-card bg-success bg-success text-white shadow-lg\">\n                <span className=\"icon-addon alert-addon\">\n                  <i className=\"zmdi zmdi-cloud-done zmdi-hc-fw zmdi-hc-lg\" />\n                </span>\n                <span className=\"d-inline-block\"> {this.props.message} </span>\n              </UncontrolledAlert>\n            )}\n          </div>\n          <div className=\"row\">\n            <div className=\"col-12 col-md-auto \">\n              <CardBox styleName=\"row\">\n                <HomeworkInProgress />\n              </CardBox>\n            </div>\n\n            <div className=\"col \">\n              <CardBox styleName=\"col-lg-12 \">\n                <div className=\"row\">\n                  <div>\n                    <Fab\n                      size=\"small\"\n                      color=\"secondary\"\n                      aria-label=\"Add\"\n                      onClick={this.openAddModal.bind(this)}\n                    >\n                      {this.state.isOpenAddModal ? (\n                        <RemoveSharpIcon />\n                      ) : (\n                        <AddIcon />\n                      )}\n                    </Fab>\n                  </div>\n                  <div\n                    className=\"p-2\"\n                    style={{ fontFamily: \"Roboto\", fontSize: \"17px\" }}\n                  >\n                    <IntlMessages id=\"modal.addToDo\" />\n                  </div>\n\n                  <div className=\"pl-5 \">\n                    <Fab\n                      size=\"small\"\n                      aria-label=\"Add\"\n                      style={{ backgroundColor: \"#ffbb33\", color: \"#ffffff\" }}\n                      onClick={this.openArchive}\n                    >\n                      {/* {this.props.values.isOpen ? (\n                          <RemoveSharpIcon />\n                        ) : ( */}\n                      <DeleteOutlineIcon />\n                      {/* )} */}\n                    </Fab>\n                  </div>\n                  <div\n                    className=\"p-2\"\n                    style={{ fontFamily: \"Roboto\", fontSize: \"17px\" }}\n                  >\n                    <IntlMessages id=\"icon.archives\" />\n                  </div>\n                </div>\n              </CardBox>\n\n              {this.state.isOpenAddModal && (\n                <CardBox styleName=\"col-lg-12\">\n                  <AddHomework\n                    values={this.state}\n                    handleChange={this.handleChange}\n                    handleChangeHomeworkType={this.handleChangeHomeworkType}\n                    subjects={this.state.subjects}\n                    handleChangeSubject={this.handleChangeSubject}\n                    attachFile={this.attachFile}\n                    deleteFile={this.deleteFile}\n                    handleChangePostTime={this.handleChangePostTime}\n                    handleChangeDate={this.handleChangeDate}\n                    handleChangeClassList={this.handleChangeClassList}\n                    addNewHomework={this.addNewHomework}\n                    cancelModal={this.cancelModal}\n                  />\n                </CardBox>\n              )}\n\n              <RoleContext.Consumer>\n                {({ role }) => (\n                  <Can\n                    role={role}\n                    perform=\"add-service\"\n                    yes={() => (\n                      <div className=\"d-flex flex-wrap flex-row bd-highlight mb-3\">\n                        <div className=\"p-2 bd-highlight col-lg-2 col-md-6 col-sm-5\">\n                          <TextField\n                            id=\"idClasse\"\n                            name=\"idClasse\"\n                            select\n                            // value={this.state.filterClassId}\n                            // onChange={this.handleChangeFilter('filterClassId')}\n                            SelectProps={{}}\n                            label={\n                              <IntlMessages id={`components.note.class`} />\n                            }\n                            InputProps={{ disableUnderline: true }}\n                            margin=\"normal\"\n                            fullWidth\n                          >\n                            {/* {this.state.filterClasses.length > 0 ? (\n                            this.state.filterClasses.map((option) => (\n                              <MenuItem key={option.id} value={option.id}>\n                                {option.name}\n                              </MenuItem>\n                            ))\n                          ) : (\n                            <MenuItem key={0} value={0}>\n                              Pas de classe\n                            </MenuItem>\n                          )} */}\n                          </TextField>\n                        </div>\n                        <div className=\"pt-5 bd-highlight\">|</div>\n\n                        <div className=\"p-2 bd-highlight col-lg-2 col-md-6 col-sm-6\">\n                          <TextField\n                            id=\"idClasse\"\n                            name=\"idClasse\"\n                            select\n                            // value={this.state.filterClassId}\n                            // onChange={this.handleChangeFilter('filterClassId')}\n                            SelectProps={{}}\n                            label={<IntlMessages id={`components.todo.etat`} />}\n                            InputProps={{ disableUnderline: true }}\n                            margin=\"normal\"\n                            fullWidth\n                          >\n                            {/* {this.state.filterClasses.length > 0 ? (\n                            this.state.filterClasses.map((option) => (\n                              <MenuItem key={option.id} value={option.id}>\n                                {option.name}\n                              </MenuItem>\n                            ))\n                          ) : (\n                            <MenuItem key={0} value={0}>\n                              Pas de classe\n                            </MenuItem>\n                          )} */}\n                          </TextField>\n                        </div>\n                        <div className=\"pt-5 bd-highlight\">|</div>\n                        <div className=\"p-2 bd-highlight col-lg-2 col-md-6 col-sm-6\">\n                          <TextField\n                            id=\"idClasse\"\n                            name=\"idClasse\"\n                            select\n                            // value={this.state.filterClassId}\n                            // onChange={this.handleChangeFilter('filterClassId')}\n                            SelectProps={{}}\n                            label={<IntlMessages id={`components.todo.type`} />}\n                            InputProps={{ disableUnderline: true }}\n                            margin=\"normal\"\n                            fullWidth\n                          >\n                            {/* {this.state.filterClasses.length > 0 ? (\n                            this.state.filterClasses.map((option) => (\n                              <MenuItem key={option.id} value={option.id}>\n                                {option.name}\n                              </MenuItem>\n                            ))\n                          ) : (\n                            <MenuItem key={0} value={0}>\n                              Pas de classe\n                            </MenuItem>\n                          )} */}\n                          </TextField>\n                        </div>\n                        <div className=\"pt-5 bd-highlight\">|</div>\n                        <div className=\"pt-5  bd-highlight col-lg-2 col-md-6 col-sm-6\">\n                          <IntlMessages id={`components.todo.date`} />\n                        </div>\n                      </div>\n                    )}\n                  />\n                )}\n              </RoleContext.Consumer>\n\n              <RoleContext.Consumer>\n                {({ role }) => (\n                  <Can\n                    role={role}\n                    perform=\"add-service\"\n                    yes={() => (\n                      <>\n                        {this.state.openArchive ? (\n                          <div>\n                            <ArchivedHomework\n                            // listMoocsArchived={this.props.listMoocsArchived}\n                            />\n                          </div>\n                        ) : (\n                          \"\"\n                        )}\n                      </>\n                    )}\n                  />\n                )}\n              </RoleContext.Consumer>\n\n              {!this.state.openArchive ? (\n                <div>\n                  <HomeworkList homeworks={this.props.homeworks} />\n                </div>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    userProfile: state.auth.userProfile,\n    successStatus: state.alert.success,\n    errorStatus: state.alert.error,\n    message: state.alert.message,\n    subjects: state.subject.subjects,\n    homeworks: state.HomeworkReducer.homeworks\n  };\n};\nexport default connect(mapStateToProps)(Homework);\n\nfunction createListSubject(subjects) {\n  let newList = subjects.map((element) => {\n    let object = {};\n    object.label = element.name;\n    object.id = element.id;\n    object.value = element.id;\n    object.color = element.color;\n    return object;\n  });\n  return newList;\n}\n"]},"metadata":{},"sourceType":"module"}