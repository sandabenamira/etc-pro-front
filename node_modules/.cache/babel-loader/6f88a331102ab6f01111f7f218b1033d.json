{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap-pro/educap-pro-front/src/components/Logo/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { classService } from \"../../_services\";\nimport _ from \"lodash\";\nimport baseUrl from \"../../config/config\";\nimport imageSchool from \"../../assets/images/logoEducapGris.png\";\n\nconst Logo = props => {\n  const [uri, setUri] = useState(\"\");\n  useEffect(() => {\n    const establishmentId = localStorage.getItem(\"establishment_id\");\n    let apiEndpoint = \"\";\n    apiEndpoint = `/establishments/${establishmentId}?access_token=${localStorage.token}`;\n    classService.get(apiEndpoint).then(response => {\n      let dataEstablishment = response.data;\n      const name = dataEstablishment.name;\n\n      if (name) {\n        apiEndpoint = `/containers/checkFileExist/${name}?access_token=${localStorage.token}`;\n        classService.get(apiEndpoint).then(response => {\n          let itemList = _.isEmpty(response.data.checkFile) ? null : response.data.checkFile.find(item => item.name === dataEstablishment.logo);\n          _.isEmpty(itemList) ? setUri(null) : setUri(`${baseUrl.baseUrl}/containers/` + name + \"/download/\" + dataEstablishment.logo + `?access_token=${localStorage.token}`);\n        }).catch(error => {});\n      }\n    }).catch(error => {});\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-sm\",\n    style: {\n      padding: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, uri ? /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid\",\n    src: uri,\n    alt: \"EDUCAP\",\n    title: \"EDUCAP\" //  onError={(e) => {\n    //   e.target.src = { imageSchool }\n    //    e.target.style = 'padding: 8px; margin: 16px'\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid\",\n    src: imageSchool,\n    alt: \"EDUCAP\",\n    title: \"EDUCAP\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Logo;","map":{"version":3,"sources":["/home/oem/Documents/projects/educap-pro/educap-pro-front/src/components/Logo/index.js"],"names":["React","useState","useEffect","Link","classService","_","baseUrl","imageSchool","Logo","props","uri","setUri","establishmentId","localStorage","getItem","apiEndpoint","token","get","then","response","dataEstablishment","data","name","itemList","isEmpty","checkFile","find","item","logo","catch","error","padding"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,WAAP,MAAwB,wCAAxB;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACtB,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBV,QAAQ,CAAC,EAAD,CAA9B;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMU,eAAe,GAAGC,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAxB;AACA,QAAIC,WAAW,GAAG,EAAlB;AACAA,IAAAA,WAAW,GAAI,mBAAkBH,eAAgB,iBAAgBC,YAAY,CAACG,KAAM,EAApF;AACAZ,IAAAA,YAAY,CACTa,GADH,CACOF,WADP,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClB,UAAIC,iBAAiB,GAAGD,QAAQ,CAACE,IAAjC;AACA,YAAMC,IAAI,GAAGF,iBAAiB,CAACE,IAA/B;;AACA,UAAIA,IAAJ,EAAU;AACRP,QAAAA,WAAW,GAAI,8BAA6BO,IAAK,iBAAgBT,YAAY,CAACG,KAAM,EAApF;AACAZ,QAAAA,YAAY,CACTa,GADH,CACOF,WADP,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClB,cAAII,QAAQ,GAAGlB,CAAC,CAACmB,OAAF,CAAUL,QAAQ,CAACE,IAAT,CAAcI,SAAxB,IACX,IADW,GAEXN,QAAQ,CAACE,IAAT,CAAcI,SAAd,CAAwBC,IAAxB,CACGC,IAAD,IAAUA,IAAI,CAACL,IAAL,KAAcF,iBAAiB,CAACQ,IAD5C,CAFJ;AAKAvB,UAAAA,CAAC,CAACmB,OAAF,CAAUD,QAAV,IACIZ,MAAM,CAAC,IAAD,CADV,GAEIA,MAAM,CACH,GAAEL,OAAO,CAACA,OAAQ,cAAnB,GACEgB,IADF,GAEE,YAFF,GAGEF,iBAAiB,CAACQ,IAHpB,GAIG,iBAAgBf,YAAY,CAACG,KAAM,EALlC,CAFV;AASD,SAjBH,EAkBGa,KAlBH,CAkBUC,KAAD,IAAW,CAAE,CAlBtB;AAmBD;AACF,KA3BH,EA4BGD,KA5BH,CA4BUC,KAAD,IAAW,CAAE,CA5BtB;AA6BD,GAjCQ,EAiCN,EAjCM,CAAT;AAmCA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrB,GAAG,gBACF;AACE,IAAA,SAAS,EAAC,WADZ;AAEE,IAAA,GAAG,EAAEA,GAFP;AAGE,IAAA,GAAG,EAAC,QAHN;AAIE,IAAA,KAAK,EAAC,QAJR,CAKE;AACA;AACA;AACA;AARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADE,gBAYF;AACE,IAAA,SAAS,EAAC,WADZ;AAEE,IAAA,GAAG,EAAEH,WAFP;AAGE,IAAA,GAAG,EAAC,QAHN;AAIE,IAAA,KAAK,EAAC,QAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,CADF;AAuBD,CA5DD;;AA8DA,eAAeC,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { classService } from \"../../_services\";\nimport _ from \"lodash\";\nimport baseUrl from \"../../config/config\";\nimport imageSchool from \"../../assets/images/logoEducapGris.png\";\n\nconst Logo = (props) => {\n  const [uri, setUri] = useState(\"\");\n  useEffect(() => {\n    const establishmentId = localStorage.getItem(\"establishment_id\");\n    let apiEndpoint = \"\";\n    apiEndpoint = `/establishments/${establishmentId}?access_token=${localStorage.token}`;\n    classService\n      .get(apiEndpoint)\n      .then((response) => {\n        let dataEstablishment = response.data;\n        const name = dataEstablishment.name;\n        if (name) {\n          apiEndpoint = `/containers/checkFileExist/${name}?access_token=${localStorage.token}`;\n          classService\n            .get(apiEndpoint)\n            .then((response) => {\n              let itemList = _.isEmpty(response.data.checkFile)\n                ? null\n                : response.data.checkFile.find(\n                    (item) => item.name === dataEstablishment.logo\n                  );\n              _.isEmpty(itemList)\n                ? setUri(null)\n                : setUri(\n                    `${baseUrl.baseUrl}/containers/` +\n                      name +\n                      \"/download/\" +\n                      dataEstablishment.logo +\n                      `?access_token=${localStorage.token}`\n                  );\n            })\n            .catch((error) => {});\n        }\n      })\n      .catch((error) => {});\n  }, []);\n\n  return (\n    <div className=\"container-sm\" style={{ padding: \"40px\" }}>\n      {uri ? (\n        <img\n          className=\"img-fluid\"\n          src={uri}\n          alt=\"EDUCAP\"\n          title=\"EDUCAP\"\n          //  onError={(e) => {\n          //   e.target.src = { imageSchool }\n          //    e.target.style = 'padding: 8px; margin: 16px'\n          // }}\n        />\n      ) : (\n        <img\n          className=\"img-fluid\"\n          src={imageSchool}\n          alt=\"EDUCAP\"\n          title=\"EDUCAP\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Logo;\n"]},"metadata":{},"sourceType":"module"}