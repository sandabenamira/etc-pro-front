{"ast":null,"code":"var _jsxFileName = \"/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/LevelTest/Tests/TestItem.js\";\nimport React, { Component } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport axios from \"axios\";\nimport IntlMessages from \"../../../../util/IntlMessages\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport Button from \"@material-ui/core/Button\";\nimport testImg from \"../classVitual.jpg\";\nimport LevelTestShow from \"./LevelTestShow\";\nimport DeleteLevelTest from \"./DeleteLevelTest\";\nimport LevelTestSuiviProf from \"./LevelTestSuiviProf\";\nimport { classService } from \"../../../../_services/class.service\";\nimport { deleteTest } from \"../../../../actions/levelTestAction\";\n\nclass TestItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openTestSuiviModal = () => {\n      this.setState({\n        openTestSuivi: true\n      });\n      let apiEndpoint = `/test_classes?access_token=${localStorage.token}&filter[where][id_test]=` + this.props.test.id + `&filter[include][classes]`;\n      classService.get(apiEndpoint).then(response => {\n        const listClassTest = response.data.filter(item => item.status);\n        this.setState({\n          listClassTest\n        });\n      }).catch(err => {});\n      let apiEndpoint1 = `/student_tests?access_token=${localStorage.token}&filter[where][id_test]=` + this.props.test.id + `&filter[include][students][students][profile]=user`;\n      classService.get(apiEndpoint1).then(response => {\n        const listStudentTest = response.data;\n        this.setState({\n          listStudentTest\n        });\n      }).catch(err => {});\n    };\n\n    this.opendeleteTestModal = () => {\n      this.setState({\n        opendeleteTest: true\n      });\n    };\n\n    this.openTestShowModal = () => {\n      let apiEndpoint = `/test_questions?access_token=${localStorage.token}&filter[where][id_test]=` + this.props.test.id + `&filter[include][test_questions]=question_proposals`;\n      classService.get(apiEndpoint).then(response => {\n        const listQuestion = response.data.filter(item => item.status);\n        this.setState({\n          listQuestion\n        });\n      }).catch(err => {});\n      this.setState({\n        openTestShow: true\n      });\n    };\n\n    this.closeTestShowModal = () => {\n      this.setState({\n        openTestShow: false,\n        listQuestion: []\n      });\n    };\n\n    this.handleShowDeleteModal = () => {\n      this.setState({\n        menuState: false,\n        deleteIsopen: true\n      });\n    };\n\n    this.onOptionMenuSelect = event => {\n      this.setState({\n        menuState: true,\n        anchorEl: event.currentTarget\n      });\n    };\n\n    this.handleRequestClose = () => {\n      this.setState({\n        menuState: false\n      });\n    };\n\n    this.state = {\n      opendeleteTest: false,\n      menuState: false,\n      itemId: 0,\n      modifModal: false,\n      anchorEl: undefined,\n      openTestShow: false,\n      openTestSuivi: false,\n      listQuestion: [],\n      listClassTest: [],\n      listStudentTest: []\n    };\n    this.openTestSuiviModal = this.openTestSuiviModal.bind(this);\n    this.opendeleteTestModal = this.opendeleteTestModal.bind(this);\n    this.openTestShowModal = this.openTestShowModal.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  cancelModal() {\n    this.setState({\n      opendeleteTest: false,\n      openTestSuivi: false\n    });\n  }\n\n  handleShow() {\n    this.setState({\n      modifModal: true,\n      menuState: false\n    });\n  }\n\n  handleDelete() {\n    this.setState({\n      opendeleteTest: false\n    });\n    this.props.deleteTest(this.props.test.id);\n  }\n\n  render() {\n    let test = this.props.test;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-3 col-md-3 col-lg-3 col-sm-6 col-12 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, this.state.openTestSuivi === true ? /*#__PURE__*/React.createElement(LevelTestSuiviProf, {\n      openTestSuivi: this.state.openTestSuivi,\n      cancelModal: this.cancelModal,\n      test: test,\n      listStudentTest: this.state.listStudentTest,\n      listClassTest: this.state.listClassTest,\n      professorClassesList: this.props.professorClassesList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }) : \"\", this.state.opendeleteTest === true ? /*#__PURE__*/React.createElement(DeleteLevelTest, {\n      opendeleteTest: this.state.opendeleteTest,\n      cancelModal: this.cancelModal,\n      handleDelete: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }) : \"\", this.state.openTestShow === true ? /*#__PURE__*/React.createElement(LevelTestShow, {\n      openTestShow: this.state.openTestShow,\n      closeTestShowModal: this.closeTestShowModal,\n      test: test,\n      listQuestion: this.state.listQuestion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card product-item  \",\n      style: {\n        borderTopLeftRadius: \"20px\",\n        borderTopRightRadius: \"20px\",\n        borderBottomLeftRadius: \"20px\",\n        borderBottomRightRadius: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header border-0 p-0\",\n      style: {\n        borderTopLeftRadius: \"20px\",\n        borderTopRightRadius: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid-thumb-equal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"grid-thumb-cover jr-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Remy Sharp\",\n      src: testImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" d-flex flex-column bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row bd-highlight  d-flex justify-content-around align-items-center pt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        fontWeight: \"bold\",\n        color: \"#4C19A9\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, test.test_name), /*#__PURE__*/React.createElement(\"div\", {\n      className: ` badge text-uppercase ${\"text-white bg-grey\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, test.subjects.name_FR)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bd-highlight  flex-column bd-highlight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" bd-highlight  d-flex flex-row  justify-content-between align-items-center pl-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        fontWeight: \"bold\",\n        color: \"#4C19A9\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"level.test.date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }), \":\", \" \", moment(test.limit_date).format(\"DD/MM/YYYY\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bd-highlight  d-flex flex-row  justify-content-between align-items-center pl-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        fontWeight: \"bold\",\n        color: \"#4C19A9\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"components.note.niveau\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 19\n      }\n    }), \" :\", \" \", test.levels.name_FR)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bd-highlight  d-flex flex-row  justify-content-start align-items-center pl-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        fontWeight: \"bold\",\n        color: \"#4C19A9\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"level.test.duration\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 19\n      }\n    }), \" :\", test.test_duration, \" \", /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"level.test.minutes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 40\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row bd-highlight  justify-content-start ml-0 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-row  col-md-12 pl-0 justify-content-between \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      fullWidth: true,\n      style: {\n        borderBottomLeftRadius: \"20px\",\n        backgroundColor: \"#4C19A9\",\n        color: \"white\",\n        fontSize: \"10px\",\n        width: \"100%\"\n      },\n      onClick: this.openTestSuiviModal,\n      target: \"_blank\",\n      className: `${\"#3F51B5\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"normal\",\n        paddingLeft: \"-10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"test.level.follow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex  justify-content-between col-md-6 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IconButton, {\n      style: {\n        paddingLeft: \"20px\"\n      },\n      size: \"small\",\n      className: \"icon-btn\",\n      onClick: this.openTestShowModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-eye\",\n      style: {\n        color: \"#5422b9\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      style: {\n        paddingRight: \"20px\"\n      },\n      size: \"small\",\n      className: \"icon-btn\",\n      onClick: this.opendeleteTestModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"zmdi zmdi-delete\",\n      style: {\n        color: \"#5422b9\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 23\n      }\n    })), \" \")))))));\n  }\n\n}\n\nconst mapDispatchToProps = {\n  deleteTest\n};\n\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    classLevels: state.ClassLevels.remoteLevels,\n    classSections: state.classSections.remoteSections,\n    classes: state.classes,\n    classVirtual: state.classVirtualReducer.remoteClassVirtual,\n    settings: state.settings.locale\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TestItem);","map":{"version":3,"sources":["/home/oem/Documents/projects/educap/classebook-front-web/src/app/routes/LevelTest/Tests/TestItem.js"],"names":["React","Component","IconButton","axios","IntlMessages","_","connect","moment","Button","testImg","LevelTestShow","DeleteLevelTest","LevelTestSuiviProf","classService","deleteTest","TestItem","constructor","props","openTestSuiviModal","setState","openTestSuivi","apiEndpoint","localStorage","token","test","id","get","then","response","listClassTest","data","filter","item","status","catch","err","apiEndpoint1","listStudentTest","opendeleteTestModal","opendeleteTest","openTestShowModal","listQuestion","openTestShow","closeTestShowModal","handleShowDeleteModal","menuState","deleteIsopen","onOptionMenuSelect","event","anchorEl","currentTarget","handleRequestClose","state","itemId","modifModal","undefined","bind","handleShow","cancelModal","handleDelete","render","professorClassesList","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","fontWeight","color","test_name","subjects","name_FR","limit_date","format","levels","test_duration","backgroundColor","fontSize","width","paddingLeft","paddingRight","mapDispatchToProps","mapStateToProps","userProfile","auth","classLevels","ClassLevels","remoteLevels","classSections","remoteSections","classes","classVirtual","classVirtualReducer","remoteClassVirtual","settings","locale"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport axios from \"axios\";\nimport IntlMessages from \"../../../../util/IntlMessages\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport Button from \"@material-ui/core/Button\";\nimport testImg from \"../classVitual.jpg\";\nimport LevelTestShow from \"./LevelTestShow\";\nimport DeleteLevelTest from \"./DeleteLevelTest\";\nimport LevelTestSuiviProf from \"./LevelTestSuiviProf\";\nimport { classService } from \"../../../../_services/class.service\";\nimport { deleteTest } from \"../../../../actions/levelTestAction\";\nclass TestItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opendeleteTest: false,\n      menuState: false,\n      itemId: 0,\n      modifModal: false,\n      anchorEl: undefined,\n      openTestShow: false,\n      openTestSuivi: false,\n      listQuestion: [],\n      listClassTest: [],\n      listStudentTest: [],\n    };\n    this.openTestSuiviModal = this.openTestSuiviModal.bind(this);\n    this.opendeleteTestModal = this.opendeleteTestModal.bind(this);\n    this.openTestShowModal = this.openTestShowModal.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.cancelModal = this.cancelModal.bind(this);\n    this.handleShowDeleteModal = this.handleShowDeleteModal.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n  openTestSuiviModal = () => {\n    this.setState({ openTestSuivi: true });\n    let apiEndpoint =\n      `/test_classes?access_token=${localStorage.token}&filter[where][id_test]=` +\n      this.props.test.id +\n      `&filter[include][classes]`;\n    classService\n      .get(apiEndpoint)\n      .then((response) => {\n        const listClassTest = response.data.filter((item) => item.status);\n\n        this.setState({ listClassTest });\n      })\n      .catch((err) => {});\n    let apiEndpoint1 =\n      `/student_tests?access_token=${localStorage.token}&filter[where][id_test]=` +\n      this.props.test.id +\n      `&filter[include][students][students][profile]=user`;\n    classService\n      .get(apiEndpoint1)\n      .then((response) => {\n        const listStudentTest = response.data;\n\n        this.setState({ listStudentTest });\n      })\n      .catch((err) => {});\n  };\n\n  opendeleteTestModal = () => {\n    this.setState({ opendeleteTest: true });\n  };\n  openTestShowModal = () => {\n    let apiEndpoint =\n      `/test_questions?access_token=${localStorage.token}&filter[where][id_test]=` +\n      this.props.test.id +\n      `&filter[include][test_questions]=question_proposals`;\n    classService\n      .get(apiEndpoint)\n      .then((response) => {\n        const listQuestion = response.data.filter((item) => item.status);\n        this.setState({ listQuestion });\n      })\n      .catch((err) => {});\n\n    this.setState({ openTestShow: true });\n  };\n\n  closeTestShowModal = () => {\n    this.setState({ openTestShow: false, listQuestion: [] });\n  };\n\n  handleShowDeleteModal = () => {\n    this.setState({ menuState: false, deleteIsopen: true });\n  };\n\n  cancelModal() {\n    this.setState({ opendeleteTest: false, openTestSuivi: false });\n  }\n  handleShow() {\n    this.setState({\n      modifModal: true,\n      menuState: false,\n    });\n  }\n  handleDelete() {\n    this.setState({\n      opendeleteTest: false,\n    });\n    this.props.deleteTest(this.props.test.id);\n  }\n\n  onOptionMenuSelect = (event) => {\n    this.setState({\n      menuState: true,\n      anchorEl: event.currentTarget,\n    });\n  };\n  handleRequestClose = () => {\n    this.setState({ menuState: false });\n  };\n\n  render() {\n    let test = this.props.test;\n\n    return (\n      <div className=\"col-xl-3 col-md-3 col-lg-3 col-sm-6 col-12 \">\n        {this.state.openTestSuivi === true ? (\n          <LevelTestSuiviProf\n            openTestSuivi={this.state.openTestSuivi}\n            cancelModal={this.cancelModal}\n            test={test}\n            listStudentTest={this.state.listStudentTest}\n            listClassTest={this.state.listClassTest}\n            professorClassesList={this.props.professorClassesList}\n          />\n        ) : (\n          \"\"\n        )}\n        {this.state.opendeleteTest === true ? (\n          <DeleteLevelTest\n            opendeleteTest={this.state.opendeleteTest}\n            cancelModal={this.cancelModal}\n            handleDelete={this.handleDelete}\n          />\n        ) : (\n          \"\"\n        )}\n        {this.state.openTestShow === true ? (\n          <LevelTestShow\n            openTestShow={this.state.openTestShow}\n            closeTestShowModal={this.closeTestShowModal}\n            test={test}\n            listQuestion={this.state.listQuestion}\n          />\n        ) : (\n          \"\"\n        )}\n        <div\n          className=\"card product-item  \"\n          style={{\n            borderTopLeftRadius: \"20px\",\n            borderTopRightRadius: \"20px\",\n            borderBottomLeftRadius: \"20px\",\n            borderBottomRightRadius: \"20px\",\n          }}\n        >\n          <div\n            className=\"card-header border-0 p-0\"\n            style={{\n              borderTopLeftRadius: \"20px\",\n              borderTopRightRadius: \"20px\",\n            }}\n          >\n            <div className=\"card-image\">\n              <div className=\"grid-thumb-equal\">\n                <span className=\"grid-thumb-cover jr-link\">\n                  <img alt=\"Remy Sharp\" src={testImg} />\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\" d-flex flex-column bd-highlight\">\n            <div className=\"d-flex flex-row bd-highlight  d-flex justify-content-around align-items-center pt-1\">\n              <h4 style={{ fontWeight: \"bold\", color: \"#4C19A9\" }}>\n                {test.test_name}\n              </h4>\n\n              <div className={` badge text-uppercase ${\"text-white bg-grey\"}`}>\n                {test.subjects.name_FR}\n              </div>\n            </div>\n            <div className=\"bd-highlight  flex-column bd-highlight\">\n              <div className=\" bd-highlight  d-flex flex-row  justify-content-between align-items-center pl-2\">\n                <h6 style={{ fontWeight: \"bold\", color: \"#4C19A9\" }}>\n                  <IntlMessages id=\"level.test.date\" />:{\" \"}\n                  {moment(test.limit_date).format(\"DD/MM/YYYY\")}\n                </h6>\n              </div>\n\n              <div className=\"bd-highlight  d-flex flex-row  justify-content-between align-items-center pl-2\">\n                <h6 style={{ fontWeight: \"bold\", color: \"#4C19A9\" }}>\n                  <IntlMessages id=\"components.note.niveau\" /> :{\" \"}\n                  {test.levels.name_FR}\n                </h6>\n              </div>\n\n              <div className=\"bd-highlight  d-flex flex-row  justify-content-start align-items-center pl-2\">\n                <h6 style={{ fontWeight: \"bold\", color: \"#4C19A9\" }}>\n                  <IntlMessages id=\"level.test.duration\" /> :\n                  {test.test_duration} <IntlMessages id=\"level.test.minutes\" />\n                </h6>\n              </div>\n            </div>\n            <div className=\"d-flex flex-row bd-highlight  justify-content-start ml-0 \">\n              <div className=\"d-flex flex-row  col-md-12 pl-0 justify-content-between \">\n                <Button\n                  variant=\"contained\"\n                  fullWidth={true}\n                  style={{\n                    borderBottomLeftRadius: \"20px\",\n                    backgroundColor: \"#4C19A9\",\n                    color: \"white\",\n                    fontSize: \"10px\",\n                    width: \"100%\",\n                  }}\n                  onClick={this.openTestSuiviModal}\n                  target=\"_blank\"\n                  className={`${\"#3F51B5\"}`}\n                >\n                  <span style={{ fontWeight: \"normal\", paddingLeft: \"-10px\" }}>\n                    <IntlMessages id=\"test.level.follow\" />\n                  </span>\n                </Button>\n\n                <div className=\"d-flex  justify-content-between col-md-6 \">\n                  <>\n                    <IconButton\n                      style={{ paddingLeft: \"20px\" }}\n                      size=\"small\"\n                      className=\"icon-btn\"\n                      onClick={this.openTestShowModal}\n                    >\n                      <i\n                        className=\"zmdi zmdi-eye\"\n                        style={{ color: \"#5422b9\" }}\n                      />\n                    </IconButton>\n                    <IconButton\n                      style={{ paddingRight: \"20px\" }}\n                      size=\"small\"\n                      className=\"icon-btn\"\n                      onClick={this.opendeleteTestModal}\n                    >\n                      <i\n                        className=\"zmdi zmdi-delete\"\n                        style={{ color: \"#5422b9\" }}\n                      />\n                    </IconButton>{\" \"}\n                  </>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapDispatchToProps = {\n  deleteTest,\n};\nfunction mapStateToProps(state) {\n  return {\n    userProfile: state.auth.userProfile,\n    classLevels: state.ClassLevels.remoteLevels,\n    classSections: state.classSections.remoteSections,\n    classes: state.classes,\n    classVirtual: state.classVirtualReducer.remoteClassVirtual,\n    settings: state.settings.locale,\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TestItem);\n"]},"metadata":{},"sourceType":"module"}